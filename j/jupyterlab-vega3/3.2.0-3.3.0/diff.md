# Comparing `tmp/jupyterlab-vega3-3.2.0.tar.gz` & `tmp/jupyterlab_vega3-3.3.0.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "jupyterlab-vega3-3.2.0.tar", last modified: Mon Jan 17 16:37:51 2022, max compression
+gzip compressed data, last modified: Sun Feb  2 00:00:00 2020, max compression
```

## Comparing `jupyterlab-vega3-3.2.0.tar` & `jupyterlab_vega3-3.3.0.tar`

### file list

```diff
@@ -1,38 +1,39 @@
-drwxrwxr-x   0 jtp       (1000) jtp       (1000)        0 2022-01-17 16:37:51.307385 jupyterlab-vega3-3.2.0/
--rw-rw-r--   0 jtp       (1000) jtp       (1000)     1515 2022-01-17 16:29:50.000000 jupyterlab-vega3-3.2.0/LICENSE
--rw-rw-r--   0 jtp       (1000) jtp       (1000)      447 2022-01-17 16:29:50.000000 jupyterlab-vega3-3.2.0/MANIFEST.in
--rw-rw-r--   0 jtp       (1000) jtp       (1000)     5082 2022-01-17 16:37:51.307385 jupyterlab-vega3-3.2.0/PKG-INFO
--rw-rw-r--   0 jtp       (1000) jtp       (1000)     4252 2022-01-17 16:29:50.000000 jupyterlab-vega3-3.2.0/README.md
--rw-rw-r--   0 jtp       (1000) jtp       (1000)      193 2022-01-17 16:29:50.000000 jupyterlab-vega3-3.2.0/install.json
-drwxrwxr-x   0 jtp       (1000) jtp       (1000)        0 2022-01-17 16:37:51.303385 jupyterlab-vega3-3.2.0/jupyterlab-vega3/
--rw-rw-r--   0 jtp       (1000) jtp       (1000)      319 2022-01-17 16:29:50.000000 jupyterlab-vega3-3.2.0/jupyterlab-vega3/__init__.py
--rw-rw-r--   0 jtp       (1000) jtp       (1000)      441 2022-01-17 16:29:50.000000 jupyterlab-vega3-3.2.0/jupyterlab-vega3/_version.py
-drwxrwxr-x   0 jtp       (1000) jtp       (1000)        0 2022-01-17 16:37:51.303385 jupyterlab-vega3-3.2.0/jupyterlab-vega3/labextension/
--rwxrwxr-x   0 jtp       (1000) jtp       (1000)     2342 2022-01-17 16:37:49.000000 jupyterlab-vega3-3.2.0/jupyterlab-vega3/labextension/package.json
-drwxrwxr-x   0 jtp       (1000) jtp       (1000)        0 2022-01-17 16:37:51.307385 jupyterlab-vega3-3.2.0/jupyterlab-vega3/labextension/static/
--rw-rw-r--   0 jtp       (1000) jtp       (1000)      123 2022-01-17 16:37:49.000000 jupyterlab-vega3-3.2.0/jupyterlab-vega3/labextension/static/45.9a59d4b302094f275e9f.js
--rw-rw-r--   0 jtp       (1000) jtp       (1000)   747797 2022-01-17 16:37:49.000000 jupyterlab-vega3-3.2.0/jupyterlab-vega3/labextension/static/503.12538c63304bdf2e6d13.js
--rw-rw-r--   0 jtp       (1000) jtp       (1000)      808 2022-01-17 16:37:49.000000 jupyterlab-vega3-3.2.0/jupyterlab-vega3/labextension/static/503.12538c63304bdf2e6d13.js.LICENSE.txt
--rw-rw-r--   0 jtp       (1000) jtp       (1000)     6754 2022-01-17 16:37:49.000000 jupyterlab-vega3-3.2.0/jupyterlab-vega3/labextension/static/568.1419b1ca6d286e975150.js
--rw-rw-r--   0 jtp       (1000) jtp       (1000)     3862 2022-01-17 16:37:49.000000 jupyterlab-vega3-3.2.0/jupyterlab-vega3/labextension/static/643.2e625e7b5b712f674a7f.js
--rw-rw-r--   0 jtp       (1000) jtp       (1000)     6913 2022-01-17 16:37:49.000000 jupyterlab-vega3-3.2.0/jupyterlab-vega3/labextension/static/remoteEntry.3b62de5f781cfc2599da.js
--rw-rw-r--   0 jtp       (1000) jtp       (1000)      170 2022-01-17 16:37:32.000000 jupyterlab-vega3-3.2.0/jupyterlab-vega3/labextension/static/style.js
--rw-rw-r--   0 jtp       (1000) jtp       (1000)    96528 2022-01-17 16:37:49.000000 jupyterlab-vega3-3.2.0/jupyterlab-vega3/labextension/static/third-party-licenses.json
-drwxrwxr-x   0 jtp       (1000) jtp       (1000)        0 2022-01-17 16:37:51.307385 jupyterlab-vega3-3.2.0/jupyterlab_vega3.egg-info/
--rw-rw-r--   0 jtp       (1000) jtp       (1000)     5082 2022-01-17 16:37:51.000000 jupyterlab-vega3-3.2.0/jupyterlab_vega3.egg-info/PKG-INFO
--rw-rw-r--   0 jtp       (1000) jtp       (1000)      984 2022-01-17 16:37:51.000000 jupyterlab-vega3-3.2.0/jupyterlab_vega3.egg-info/SOURCES.txt
--rw-rw-r--   0 jtp       (1000) jtp       (1000)        1 2022-01-17 16:37:51.000000 jupyterlab-vega3-3.2.0/jupyterlab_vega3.egg-info/dependency_links.txt
--rw-rw-r--   0 jtp       (1000) jtp       (1000)        1 2022-01-17 16:37:51.000000 jupyterlab-vega3-3.2.0/jupyterlab_vega3.egg-info/not-zip-safe
--rw-rw-r--   0 jtp       (1000) jtp       (1000)       17 2022-01-17 16:37:51.000000 jupyterlab-vega3-3.2.0/jupyterlab_vega3.egg-info/top_level.txt
--rwxrwxr-x   0 jtp       (1000) jtp       (1000)     2192 2022-01-17 16:34:54.000000 jupyterlab-vega3-3.2.0/package.json
--rw-rw-r--   0 jtp       (1000) jtp       (1000)      145 2022-01-17 16:29:50.000000 jupyterlab-vega3-3.2.0/pyproject.toml
--rw-rw-r--   0 jtp       (1000) jtp       (1000)       38 2022-01-17 16:37:51.307385 jupyterlab-vega3-3.2.0/setup.cfg
--rw-rw-r--   0 jtp       (1000) jtp       (1000)     2393 2022-01-17 16:29:50.000000 jupyterlab-vega3-3.2.0/setup.py
-drwxrwxr-x   0 jtp       (1000) jtp       (1000)        0 2022-01-17 16:37:51.307385 jupyterlab-vega3-3.2.0/src/
--rwxrwxr-x   0 jtp       (1000) jtp       (1000)     4363 2022-01-17 16:32:53.000000 jupyterlab-vega3-3.2.0/src/index.ts
--rwxrwxr-x   0 jtp       (1000) jtp       (1000)       60 2022-01-17 16:29:50.000000 jupyterlab-vega3-3.2.0/src/json.d.ts
-drwxrwxr-x   0 jtp       (1000) jtp       (1000)        0 2022-01-17 16:37:51.307385 jupyterlab-vega3-3.2.0/style/
--rw-rw-r--   0 jtp       (1000) jtp       (1000)      451 2022-01-17 16:29:50.000000 jupyterlab-vega3-3.2.0/style/base.css
--rwxrwxr-x   0 jtp       (1000) jtp       (1000)      287 2022-01-17 16:29:50.000000 jupyterlab-vega3-3.2.0/style/index.css
--rw-rw-r--   0 jtp       (1000) jtp       (1000)       21 2022-01-17 16:29:50.000000 jupyterlab-vega3-3.2.0/style/index.js
--rw-rw-r--   0 jtp       (1000) jtp       (1000)      582 2022-01-17 16:29:50.000000 jupyterlab-vega3-3.2.0/tsconfig.json
+-rw-r--r--   0        0        0      591 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/.copier-answers.yml
+-rw-r--r--   0        0        0       66 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/.eslintignore
+-rw-r--r--   0        0        0       84 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/.prettierignore
+-rw-r--r--   0        0        0       57 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/.yarnrc.yml
+-rw-r--r--   0        0        0      193 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/install.json
+-rwxr-xr-x   0        0        0     3507 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/package.json
+-rw-r--r--   0        0        0       33 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/setup.py
+-rw-r--r--   0        0        0      586 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/tsconfig.json
+-rw-r--r--   0        0        0      169 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/jupyterlab_vega3/__init__.py
+-rw-r--r--   0        0        0      171 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/jupyterlab_vega3/_version.py
+-rwxr-xr-x   0        0        0     3361 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/jupyterlab_vega3/labextension/package.json
+-rw-r--r--   0        0        0      123 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/jupyterlab_vega3/labextension/static/45.9a59d4b302094f275e9f.js
+-rw-r--r--   0        0        0     1763 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/jupyterlab_vega3/labextension/static/568.d77addb1f5a8d99f6e42.js
+-rw-r--r--   0        0        0     4432 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/jupyterlab_vega3/labextension/static/643.b29fe3063574dc8d1af5.js
+-rw-r--r--   0        0        0   750984 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/jupyterlab_vega3/labextension/static/72.7a3f283ffd842e9b9289.js
+-rw-r--r--   0        0        0      808 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/jupyterlab_vega3/labextension/static/72.7a3f283ffd842e9b9289.js.LICENSE.txt
+-rw-r--r--   0        0        0     6905 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/jupyterlab_vega3/labextension/static/remoteEntry.a502c21424f3610e2657.js
+-rw-r--r--   0        0        0      170 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/jupyterlab_vega3/labextension/static/style.js
+-rw-r--r--   0        0        0    96527 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/jupyterlab_vega3/labextension/static/third-party-licenses.json
+-rwxr-xr-x   0        0        0     4315 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/src/index.ts
+-rwxr-xr-x   0        0        0       60 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/src/json.d.ts
+-rw-r--r--   0        0        0      501 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/style/base.css
+-rwxr-xr-x   0        0        0      284 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/style/index.css
+-rw-r--r--   0        0        0       21 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/style/index.js
+-rw-r--r--   0        0        0     3758 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/ui-tests/README.md
+-rw-r--r--   0        0        0      767 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/ui-tests/jupyter_server_test_config.py
+-rw-r--r--   0        0        0      453 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/ui-tests/package.json
+-rw-r--r--   0        0        0      340 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/ui-tests/playwright.config.js
+-rw-r--r--   0        0        0        0 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/ui-tests/yarn.lock
+-rw-r--r--   0        0        0     7101 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/ui-tests/tests/jupyterlab_vega3.spec.ts
+-rw-r--r--   0        0        0      287 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/ui-tests/tests/jupyterlab_vega3.spec.ts-snapshots/vega3-file-linux.html
+-rw-r--r--   0        0        0    13863 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/ui-tests/tests/jupyterlab_vega3.spec.ts-snapshots/vega3-file-linux.png
+-rw-r--r--   0        0        0      287 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/ui-tests/tests/jupyterlab_vega3.spec.ts-snapshots/vega3-notebook-linux.html
+-rw-r--r--   0        0        0    11042 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/ui-tests/tests/jupyterlab_vega3.spec.ts-snapshots/vega3-notebook-linux.png
+-rw-r--r--   0        0        0     1649 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/.gitignore
+-rw-r--r--   0        0        0     1520 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/LICENSE
+-rw-r--r--   0        0        0     4252 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/README.md
+-rw-r--r--   0        0        0     2322 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/pyproject.toml
+-rw-r--r--   0        0        0     7108 2020-02-02 00:00:00.000000 jupyterlab_vega3-3.3.0/PKG-INFO
```

### Comparing `jupyterlab-vega3-3.2.0/LICENSE` & `jupyterlab_vega3-3.3.0/LICENSE`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 BSD 3-Clause License
 
-Copyright (c) 2020, Project Jupyter All rights reserved.
+Copyright (c) 2020-2023, Project Jupyter All rights reserved.
 
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:
 
 * Redistributions of source code must retain the above copyright notice, this
   list of conditions and the following disclaimer.
```

### Comparing `jupyterlab-vega3-3.2.0/PKG-INFO` & `jupyterlab_vega3-3.3.0/README.md`

 * *Files 14% similar despite different names*

```diff
@@ -1,31 +1,7 @@
-Metadata-Version: 2.1
-Name: jupyterlab-vega3
-Version: 3.2.0
-Summary: JupyterLab - Vega 3 and Vega-Lite 2 Mime Renderer Extension
-Home-page: https://github.com/jupyterlab/jupyter-renderers
-Author: Project Jupyter
-Author-email: jupyter@googlegroups.com
-License: BSD-3-Clause
-Keywords: Jupyter,JupyterLab,JupyterLab3
-Platform: Linux
-Platform: Mac OS X
-Platform: Windows
-Classifier: License :: OSI Approved :: BSD License
-Classifier: Programming Language :: Python
-Classifier: Programming Language :: Python :: 3
-Classifier: Programming Language :: Python :: 3.6
-Classifier: Programming Language :: Python :: 3.7
-Classifier: Programming Language :: Python :: 3.8
-Classifier: Programming Language :: Python :: 3.9
-Classifier: Framework :: Jupyter
-Requires-Python: >=3.6
-Description-Content-Type: text/markdown
-License-File: LICENSE
-
 # jupyterlab-vega3
 
 A JupyterLab extension for rendering Vega 3 and Vega-Lite 2
 
 **Vega 3 is deprecated. The latest version comes by default with JupyterLab. Only use this extension if you have specifications that do not work with the latest version.**
 
 ![demo](http://g.recordit.co/USoTkuCOfR.gif)
@@ -173,9 +149,7 @@
 ```
 
 ### Uninstall
 
 ```bash
 pip uninstall jupyterlab-vega3
 ```
-
-
```

### Comparing `jupyterlab-vega3-3.2.0/jupyterlab-vega3/labextension/static/503.12538c63304bdf2e6d13.js` & `jupyterlab_vega3-3.3.0/jupyterlab_vega3/labextension/static/72.7a3f283ffd842e9b9289.js`

 * *Files 2% similar despite different names*

#### js-beautify {}

```diff
@@ -1,10 +1,10 @@
-/*! For license information please see 503.12538c63304bdf2e6d13.js.LICENSE.txt */
+/*! For license information please see 72.7a3f283ffd842e9b9289.js.LICENSE.txt */
 (self.webpackChunk_jupyterlab_vega3_extension = self.webpackChunk_jupyterlab_vega3_extension || []).push([
-    [503], {
+    [72], {
         2117: (e, t, n) => {
             var r = "undefined" != typeof JSON ? JSON : n(8207);
             e.exports = function(e, t) {
                 t || (t = {}), "function" == typeof t && (t = {
                     cmp: t
                 });
                 var n = t.space || "";
@@ -339,15 +339,15 @@
                         c = -1, t = s.length
                     }
                     u = null, l = !1,
                         function(e) {
                             if (n === clearTimeout) return clearTimeout(e);
                             if ((n === a || !n) && clearTimeout) return n = clearTimeout, clearTimeout(e);
                             try {
-                                n(e)
+                                return n(e)
                             } catch (t) {
                                 try {
                                     return n.call(null, e)
                                 } catch (t) {
                                     return n.call(this, e)
                                 }
                             }
@@ -375,423 +375,423 @@
                 return "/"
             }, r.chdir = function(e) {
                 throw new Error("process.chdir is not supported")
             }, r.umask = function() {
                 return 0
             }
         },
-        1503: (e, t, n) => {
+        2072: (e, t, n) => {
             "use strict";
             n.r(t), n.d(t, {
-                default: () => HR,
-                vega: () => zR,
-                vl: () => IR
+                default: () => uL,
+                vega: () => tL,
+                vl: () => nL
             });
             var r = {};
             n.r(r), n.d(r, {
-                aggregate: () => Ya,
-                bin: () => Ga,
-                collect: () => Ka,
-                compare: () => Ja,
-                countpattern: () => Za,
-                cross: () => to,
-                density: () => co,
-                extent: () => po,
-                facet: () => vo,
-                field: () => bo,
-                filter: () => xo,
-                flatten: () => So,
-                fold: () => Eo,
-                formula: () => Ao,
-                generate: () => ko,
-                impute: () => Co,
-                joinaggregate: () => Fo,
-                key: () => To,
-                lookup: () => Po,
-                multiextent: () => Ro,
-                multivalues: () => zo,
-                params: () => Uo,
-                pivot: () => jo,
-                prefacet: () => qo,
-                project: () => Ho,
-                proxy: () => Wo,
-                relay: () => Yo,
-                sample: () => Vo,
-                sequence: () => Go,
-                sieve: () => Xo,
-                subflow: () => go,
-                tupleindex: () => $o,
-                values: () => Ko,
-                window: () => tu
+                aggregate: () => Xa,
+                bin: () => Ka,
+                collect: () => Za,
+                compare: () => eo,
+                countpattern: () => no,
+                cross: () => io,
+                density: () => Do,
+                extent: () => No,
+                facet: () => Po,
+                field: () => Lo,
+                filter: () => Io,
+                flatten: () => Bo,
+                fold: () => Uo,
+                formula: () => qo,
+                generate: () => Ho,
+                impute: () => Go,
+                joinaggregate: () => Yo,
+                key: () => $o,
+                lookup: () => Jo,
+                multiextent: () => Qo,
+                multivalues: () => eu,
+                params: () => nu,
+                pivot: () => ru,
+                prefacet: () => au,
+                project: () => ou,
+                proxy: () => uu,
+                relay: () => su,
+                sample: () => lu,
+                sequence: () => cu,
+                sieve: () => fu,
+                subflow: () => Oo,
+                tupleindex: () => du,
+                values: () => hu,
+                window: () => yu
             });
             var i = {};
             n.r(i), n.d(i, {
-                bound: () => jf,
-                identifier: () => Hf,
-                mark: () => Wf,
-                overlap: () => $f,
-                render: () => td,
-                viewlayout: () => dd
+                bound: () => ad,
+                identifier: () => sd,
+                mark: () => ld,
+                overlap: () => pd,
+                render: () => _d,
+                viewlayout: () => Nd
             });
             var a = {};
             n.r(a), n.d(a, {
-                interpolate: () => Kh,
-                interpolateArray: () => qh,
-                interpolateBasis: () => Fh,
-                interpolateBasisClosed: () => Nh,
-                interpolateCubehelix: () => Hm,
-                interpolateCubehelixLong: () => Wm,
-                interpolateDate: () => Wh,
-                interpolateDiscrete: () => Yg,
-                interpolateHcl: () => Cm,
-                interpolateHclLong: () => Fm,
-                interpolateHsl: () => um,
-                interpolateHslLong: () => sm,
-                interpolateHue: () => Vg,
-                interpolateLab: () => Mm,
-                interpolateNumber: () => Yh,
-                interpolateNumberArray: () => jh,
-                interpolateObject: () => Vh,
-                interpolateRgb: () => Lh,
-                interpolateRgbBasis: () => Ih,
-                interpolateRgbBasisClosed: () => Uh,
-                interpolateRound: () => Jh,
-                interpolateString: () => $h,
-                interpolateTransformCss: () => tm,
-                interpolateTransformSvg: () => nm,
-                interpolateZoom: () => am,
-                piecewise: () => Ym,
-                quantize: () => Vm
+                interpolate: () => ap,
+                interpolateArray: () => Jh,
+                interpolateBasis: () => jh,
+                interpolateBasisClosed: () => Bh,
+                interpolateCubehelix: () => Am,
+                interpolateCubehelixLong: () => km,
+                interpolateDate: () => Zh,
+                interpolateDiscrete: () => Eg,
+                interpolateHcl: () => dm,
+                interpolateHclLong: () => hm,
+                interpolateHsl: () => Hg,
+                interpolateHslLong: () => Wg,
+                interpolateHue: () => Ag,
+                interpolateLab: () => cm,
+                interpolateNumber: () => ep,
+                interpolateNumberArray: () => $h,
+                interpolateObject: () => tp,
+                interpolateRgb: () => Vh,
+                interpolateRgbBasis: () => Yh,
+                interpolateRgbBasisClosed: () => Xh,
+                interpolateRound: () => op,
+                interpolateString: () => ip,
+                interpolateTransformCss: () => Pg,
+                interpolateTransformSvg: () => Rg,
+                interpolateZoom: () => Ug,
+                piecewise: () => Mm,
+                quantize: () => Dm
             });
             var o = {};
             n.r(o), n.d(o, {
-                interpolateBlues: () => ay,
-                interpolateBrBG: () => vv,
-                interpolateBuGn: () => Rv,
-                interpolateBuPu: () => zv,
-                interpolateCividis: () => my,
-                interpolateCool: () => by,
-                interpolateCubehelixDefault: () => vy,
-                interpolateGnBu: () => Uv,
-                interpolateGreens: () => uy,
-                interpolateGreys: () => ly,
-                interpolateInferno: () => Fy,
-                interpolateMagma: () => Cy,
-                interpolateOrRd: () => Bv,
-                interpolateOranges: () => gy,
-                interpolatePRGn: () => bv,
-                interpolatePiYG: () => xv,
-                interpolatePlasma: () => Ny,
-                interpolatePuBu: () => Yv,
-                interpolatePuBuGn: () => Hv,
-                interpolatePuOr: () => Sv,
-                interpolatePuRd: () => Gv,
-                interpolatePurples: () => fy,
-                interpolateRainbow: () => xy,
-                interpolateRdBu: () => Av,
-                interpolateRdGy: () => Mv,
-                interpolateRdPu: () => $v,
-                interpolateRdYlBu: () => Cv,
-                interpolateRdYlGn: () => Nv,
-                interpolateReds: () => hy,
-                interpolateSinebow: () => Ay,
-                interpolateSpectral: () => Ov,
-                interpolateTurbo: () => ky,
-                interpolateViridis: () => Dy,
-                interpolateWarm: () => yy,
-                interpolateYlGn: () => Zv,
-                interpolateYlGnBu: () => Jv,
-                interpolateYlOrBr: () => ty,
-                interpolateYlOrRd: () => ry,
-                schemeAccent: () => ov,
-                schemeBlues: () => iy,
-                schemeBrBG: () => mv,
-                schemeBuGn: () => Pv,
-                schemeBuPu: () => Lv,
-                schemeCategory10: () => av,
-                schemeDark2: () => uv,
-                schemeGnBu: () => Iv,
-                schemeGreens: () => oy,
-                schemeGreys: () => sy,
-                schemeOrRd: () => jv,
-                schemeOranges: () => py,
-                schemePRGn: () => yv,
-                schemePaired: () => sv,
-                schemePastel1: () => lv,
-                schemePastel2: () => cv,
-                schemePiYG: () => _v,
-                schemePuBu: () => Wv,
-                schemePuBuGn: () => qv,
-                schemePuOr: () => wv,
-                schemePuRd: () => Vv,
-                schemePurples: () => cy,
-                schemeRdBu: () => Ev,
-                schemeRdGy: () => kv,
-                schemeRdPu: () => Xv,
-                schemeRdYlBu: () => Dv,
-                schemeRdYlGn: () => Fv,
-                schemeReds: () => dy,
-                schemeSet1: () => fv,
-                schemeSet2: () => dv,
-                schemeSet3: () => hv,
-                schemeSpectral: () => Tv,
-                schemeTableau10: () => pv,
-                schemeYlGn: () => Qv,
-                schemeYlGnBu: () => Kv,
-                schemeYlOrBr: () => ey,
-                schemeYlOrRd: () => ny
+                interpolateBlues: () => ey,
+                interpolateBrBG: () => dv,
+                interpolateBuGn: () => Fv,
+                interpolateBuPu: () => Ov,
+                interpolateCividis: () => fy,
+                interpolateCool: () => nv,
+                interpolateCubehelixDefault: () => dy,
+                interpolateGnBu: () => Pv,
+                interpolateGreens: () => ny,
+                interpolateGreys: () => iy,
+                interpolateInferno: () => Zm,
+                interpolateMagma: () => Qm,
+                interpolateOrRd: () => Lv,
+                interpolateOranges: () => cy,
+                interpolatePRGn: () => pv,
+                interpolatePiYG: () => mv,
+                interpolatePlasma: () => ev,
+                interpolatePuBu: () => Bv,
+                interpolatePuBuGn: () => Iv,
+                interpolatePuOr: () => yv,
+                interpolatePuRd: () => qv,
+                interpolatePurples: () => oy,
+                interpolateRainbow: () => iv,
+                interpolateRdBu: () => _v,
+                interpolateRdGy: () => wv,
+                interpolateRdPu: () => Wv,
+                interpolateRdYlBu: () => Ev,
+                interpolateRdYlGn: () => kv,
+                interpolateReds: () => sy,
+                interpolateSinebow: () => sv,
+                interpolateSpectral: () => Dv,
+                interpolateTurbo: () => hy,
+                interpolateViridis: () => Jm,
+                interpolateWarm: () => tv,
+                interpolateYlGn: () => Xv,
+                interpolateYlGnBu: () => Gv,
+                interpolateYlOrBr: () => Kv,
+                interpolateYlOrRd: () => Qv,
+                schemeAccent: () => qm,
+                schemeBlues: () => Zv,
+                schemeBrBG: () => fv,
+                schemeBuGn: () => Cv,
+                schemeBuPu: () => Nv,
+                schemeCategory10: () => Um,
+                schemeDark2: () => Hm,
+                schemeGnBu: () => Tv,
+                schemeGreens: () => ty,
+                schemeGreys: () => ry,
+                schemeOrRd: () => Rv,
+                schemeOranges: () => ly,
+                schemePRGn: () => hv,
+                schemePaired: () => Wm,
+                schemePastel1: () => Vm,
+                schemePastel2: () => Gm,
+                schemePiYG: () => gv,
+                schemePuBu: () => jv,
+                schemePuBuGn: () => zv,
+                schemePuOr: () => vv,
+                schemePuRd: () => Uv,
+                schemePurples: () => ay,
+                schemeRdBu: () => bv,
+                schemeRdGy: () => xv,
+                schemeRdPu: () => Hv,
+                schemeRdYlBu: () => Sv,
+                schemeRdYlGn: () => Av,
+                schemeReds: () => uy,
+                schemeSet1: () => Ym,
+                schemeSet2: () => Xm,
+                schemeSet3: () => $m,
+                schemeSpectral: () => Mv,
+                schemeTableau10: () => lv,
+                schemeYlGn: () => Yv,
+                schemeYlGnBu: () => Vv,
+                schemeYlOrBr: () => $v,
+                schemeYlOrRd: () => Jv
             });
             var u = {};
             n.r(u), n.d(u, {
-                axisticks: () => Ub,
-                datajoin: () => jb,
-                encode: () => Hb,
-                legendentries: () => Gb,
-                linkpath: () => Zb,
-                pie: () => o_,
-                scale: () => c_,
-                sortitems: () => h_,
-                stack: () => p_,
-                validTicks: () => Rb
+                axisticks: () => My,
+                datajoin: () => Dy,
+                encode: () => Ny,
+                legendentries: () => Ry,
+                linkpath: () => Uy,
+                pie: () => Vy,
+                scale: () => $y,
+                sortitems: () => Qy,
+                stack: () => Zy,
+                validTicks: () => Sy
             });
             var s = {};
             n.r(s), n.d(s, {
-                contour: () => V_,
-                geojson: () => X_,
-                geopath: () => tE,
-                geopoint: () => nE,
-                geoshape: () => rE,
-                graticule: () => EE,
-                projection: () => AE
+                contour: () => bb,
+                geojson: () => xb,
+                geopath: () => US,
+                geopoint: () => qS,
+                geoshape: () => HS,
+                graticule: () => oE,
+                projection: () => uE
             });
             var l = {};
             n.r(l), n.d(l, {
-                force: () => dA
+                force: () => $E
             });
             var c = {};
             n.r(c), n.d(c, {
-                nest: () => EA,
-                pack: () => $A,
-                partition: () => ek,
-                stratify: () => ok,
-                tree: () => yk,
-                treelinks: () => _k,
-                treemap: () => Dk
+                nest: () => uA,
+                pack: () => NA,
+                partition: () => LA,
+                stratify: () => qA,
+                tree: () => ek,
+                treelinks: () => nk,
+                treemap: () => ck
             });
             var f = {};
             n.r(f), n.d(f, {
-                voronoi: () => pM
+                voronoi: () => Kk
             });
             var d = {};
             n.r(d), n.d(d, {
-                wordcloud: () => MM
+                wordcloud: () => cM
             });
             var h = {};
             n.r(h), n.d(h, {
-                crossfilter: () => UM,
-                resolvefilter: () => BM
+                crossfilter: () => vM,
+                resolvefilter: () => bM
             });
             var p = {};
             n.r(p), n.d(p, {
-                Bounds: () => ou,
-                CanvasHandler: () => Jc,
-                CanvasRenderer: () => nf,
-                Dataflow: () => Ai,
-                Debug: () => ke.Debug,
-                Error: () => ke.Error,
-                EventStream: () => Xe,
-                Gradient: () => lu,
-                GroupItem: () => fu,
-                Handler: () => Hc,
-                Info: () => ke.Info,
-                Item: () => cu,
-                Marks: () => kc,
-                MultiPulse: () => vi,
-                None: () => ke.None,
-                Operator: () => We,
-                Parameters: () => je,
-                Pulse: () => di,
-                RenderType: () => Of,
-                Renderer: () => Vc,
-                ResourceLoader: () => pu,
-                SVGHandler: () => uf,
-                SVGRenderer: () => mf,
-                SVGStringRenderer: () => Mf,
-                Scenegraph: () => Pc,
-                Transform: () => Di,
-                View: () => YP,
-                Warn: () => ke.Warn,
-                accessor: () => ke.accessor,
-                accessorFields: () => ke.accessorFields,
-                accessorName: () => ke.accessorName,
-                array: () => ke.array,
-                ascending: () => ke.ascending,
-                bandwidthNRD: () => Qi,
-                bin: () => Zi,
-                bootstrapCI: () => na,
-                boundClip: () => zf,
-                boundContext: () => _l,
-                boundItem: () => Mc,
-                boundMark: () => Cc,
-                boundStroke: () => gl,
-                changeset: () => Ie,
-                clampRange: () => ke.clampRange,
-                closeTag: () => ff,
-                compare: () => ke.compare,
-                constant: () => ke.constant,
-                cumulativeLogNormal: () => va,
-                cumulativeNormal: () => fa,
-                cumulativeUniform: () => Sa,
-                debounce: () => ke.debounce,
-                definition: () => Ni,
-                densityLogNormal: () => ma,
-                densityNormal: () => ca,
-                densityUniform: () => wa,
-                domChild: () => Uc,
-                domClear: () => jc,
-                domCreate: () => zc,
-                domFind: () => Ic,
-                dotbin: () => ra,
-                error: () => ke.error,
-                expressionFunction: () => NN,
-                extend: () => ke.extend,
-                extent: () => ke.extent,
-                extentIndex: () => ke.extentIndex,
-                falsy: () => ke.falsy,
-                fastmap: () => ke.fastmap,
-                field: () => ke.field,
-                flush: () => ke.flush,
-                font: () => bc,
-                formatLocale: () => wp,
-                formats: () => an,
-                hasOwnProperty: () => ke.hasOwnProperty,
-                id: () => ke.id,
-                identity: () => ke.identity,
-                inferType: () => Ht,
-                inferTypes: () => Wt,
-                ingest: () => Oe,
-                inherits: () => ke.inherits,
-                inrange: () => ke.inrange,
-                interpolate: () => Km,
-                interpolateRange: () => Gm,
-                isArray: () => ke.isArray,
-                isBoolean: () => ke.isBoolean,
-                isDate: () => ke.isDate,
-                isFunction: () => ke.isFunction,
-                isIterable: () => ke.isIterable,
-                isNumber: () => ke.isNumber,
-                isObject: () => ke.isObject,
-                isRegExp: () => ke.isRegExp,
-                isString: () => ke.isString,
-                isTuple: () => Fe,
-                key: () => ke.key,
-                lerp: () => ke.lerp,
-                loader: () => Tt,
-                logger: () => ke.logger,
-                lruCache: () => ke.lruCache,
-                merge: () => ke.merge,
-                mergeConfig: () => ke.mergeConfig,
-                one: () => ke.one,
-                openTag: () => cf,
-                pad: () => ke.pad,
-                panLinear: () => ke.panLinear,
-                panLog: () => ke.panLog,
-                panPow: () => ke.panPow,
-                panSymlog: () => ke.panSymlog,
-                parse: () => SP,
-                pathCurves: () => ds,
-                pathEqual: () => Uf,
-                pathParse: () => gs,
-                pathRectangle: () => Bs,
-                pathRender: () => ws,
-                pathSymbols: () => Ms,
-                pathTrail: () => Hs,
-                peek: () => ke.peek,
-                point: () => qc,
-                projection: () => QS,
-                quantileLogNormal: () => ya,
-                quantileNormal: () => da,
-                quantileUniform: () => Ea,
-                quantiles: () => Ki,
-                quarter: () => ke.quarter,
-                quartiles: () => Ji,
-                random: () => ea,
-                randomInteger: () => aa,
-                randomKDE: () => pa,
-                randomLCG: () => ia,
-                randomLogNormal: () => ba,
-                randomMixture: () => _a,
-                randomNormal: () => ha,
-                randomUniform: () => Aa,
-                read: () => ui,
+                Bounds: () => Su,
+                CanvasHandler: () => pf,
+                CanvasRenderer: () => bf,
+                Dataflow: () => ki,
+                Debug: () => Ee.Debug,
+                Error: () => Ee.Error,
+                EventStream: () => Ge,
+                Gradient: () => ku,
+                GroupItem: () => Du,
+                Handler: () => of,
+                Info: () => Ee.Info,
+                Item: () => Mu,
+                Marks: () => qc,
+                MultiPulse: () => yi,
+                None: () => Ee.None,
+                Operator: () => qe,
+                Parameters: () => Ie,
+                Pulse: () => hi,
+                RenderType: () => Jf,
+                Renderer: () => lf,
+                ResourceLoader: () => Nu,
+                SVGHandler: () => Sf,
+                SVGRenderer: () => Of,
+                SVGStringRenderer: () => Hf,
+                Scenegraph: () => Kc,
+                Transform: () => Ci,
+                View: () => lR,
+                Warn: () => Ee.Warn,
+                accessor: () => Ee.accessor,
+                accessorFields: () => Ee.accessorFields,
+                accessorName: () => Ee.accessorName,
+                array: () => Ee.array,
+                ascending: () => Ee.ascending,
+                bandwidthNRD: () => Zi,
+                bin: () => ea,
+                bootstrapCI: () => ra,
+                boundClip: () => td,
+                boundContext: () => Rl,
+                boundItem: () => Hc,
+                boundMark: () => Vc,
+                boundStroke: () => Fl,
+                changeset: () => Le,
+                clampRange: () => Ee.clampRange,
+                closeTag: () => Mf,
+                compare: () => Ee.compare,
+                constant: () => Ee.constant,
+                cumulativeLogNormal: () => ya,
+                cumulativeNormal: () => da,
+                cumulativeUniform: () => Ea,
+                debounce: () => Ee.debounce,
+                definition: () => Oi,
+                densityLogNormal: () => va,
+                densityNormal: () => fa,
+                densityUniform: () => Sa,
+                domChild: () => tf,
+                domClear: () => nf,
+                domCreate: () => Zc,
+                domFind: () => ef,
+                dotbin: () => ia,
+                error: () => Ee.error,
+                expressionFunction: () => DN,
+                extend: () => Ee.extend,
+                extent: () => Ee.extent,
+                extentIndex: () => Ee.extentIndex,
+                falsy: () => Ee.falsy,
+                fastmap: () => Ee.fastmap,
+                field: () => Ee.field,
+                flush: () => Ee.flush,
+                font: () => Rc,
+                formatLocale: () => Np,
+                formats: () => nn,
+                hasOwnProperty: () => Ee.hasOwnProperty,
+                id: () => Ee.id,
+                identity: () => Ee.identity,
+                inferType: () => qt,
+                inferTypes: () => Ht,
+                ingest: () => Ne,
+                inherits: () => Ee.inherits,
+                inrange: () => Ee.inrange,
+                interpolate: () => Om,
+                interpolateRange: () => Cm,
+                isArray: () => Ee.isArray,
+                isBoolean: () => Ee.isBoolean,
+                isDate: () => Ee.isDate,
+                isFunction: () => Ee.isFunction,
+                isIterable: () => Ee.isIterable,
+                isNumber: () => Ee.isNumber,
+                isObject: () => Ee.isObject,
+                isRegExp: () => Ee.isRegExp,
+                isString: () => Ee.isString,
+                isTuple: () => De,
+                key: () => Ee.key,
+                lerp: () => Ee.lerp,
+                loader: () => Nt,
+                logger: () => Ee.logger,
+                lruCache: () => Ee.lruCache,
+                merge: () => Ee.merge,
+                mergeConfig: () => Ee.mergeConfig,
+                one: () => Ee.one,
+                openTag: () => kf,
+                pad: () => Ee.pad,
+                panLinear: () => Ee.panLinear,
+                panLog: () => Ee.panLog,
+                panPow: () => Ee.panPow,
+                panSymlog: () => Ee.panSymlog,
+                parse: () => jP,
+                pathCurves: () => Ds,
+                pathEqual: () => id,
+                pathParse: () => Ns,
+                pathRectangle: () => rl,
+                pathRender: () => Is,
+                pathSymbols: () => Hs,
+                pathTrail: () => al,
+                peek: () => Ee.peek,
+                point: () => af,
+                projection: () => IS,
+                quantileLogNormal: () => ba,
+                quantileNormal: () => ha,
+                quantileUniform: () => Aa,
+                quantiles: () => Ji,
+                quarter: () => Ee.quarter,
+                quartiles: () => Qi,
+                random: () => ta,
+                randomInteger: () => oa,
+                randomKDE: () => ga,
+                randomLCG: () => aa,
+                randomLogNormal: () => _a,
+                randomMixture: () => xa,
+                randomNormal: () => pa,
+                randomUniform: () => ka,
+                read: () => si,
                 regressionExp: () => Ta,
-                regressionLinear: () => Fa,
-                regressionLoess: () => za,
-                regressionLog: () => Na,
-                regressionPoly: () => Ra,
-                regressionPow: () => Oa,
-                regressionQuad: () => Pa,
-                renderModule: () => Rf,
-                repeat: () => ke.repeat,
-                resetSVGClipId: () => Yl,
-                runtime: () => NP,
-                runtimeContext: () => OP,
-                sampleCurve: () => Ba,
-                sampleLogNormal: () => ga,
-                sampleNormal: () => la,
-                sampleUniform: () => xa,
-                scale: () => qg,
-                sceneEqual: () => If,
-                sceneFromJSON: () => Tc,
-                scenePickVisit: () => Fl,
-                sceneToJSON: () => Nc,
-                sceneVisit: () => Cl,
-                sceneZOrder: () => Dl,
-                scheme: () => Ry,
-                setRandom: () => ta,
-                span: () => ke.span,
-                splitAccessPath: () => ke.splitAccessPath,
-                stringValue: () => ke.stringValue,
-                textMetrics: () => fc,
-                timeFormatLocale: () => oi,
-                timeInterval: () => Tb,
-                toBoolean: () => ke.toBoolean,
-                toDate: () => ke.toDate,
-                toNumber: () => ke.toNumber,
-                toSet: () => ke.toSet,
-                toString: () => ke.toString,
+                regressionLinear: () => Na,
+                regressionLoess: () => Ba,
+                regressionLog: () => Oa,
+                regressionPoly: () => La,
+                regressionPow: () => Pa,
+                regressionQuad: () => Ra,
+                renderModule: () => Zf,
+                repeat: () => Ee.repeat,
+                resetSVGClipId: () => oc,
+                runtime: () => YP,
+                runtimeContext: () => $P,
+                sampleCurve: () => Wa,
+                sampleLogNormal: () => ma,
+                sampleNormal: () => ca,
+                sampleUniform: () => wa,
+                scale: () => xg,
+                sceneEqual: () => rd,
+                sceneFromJSON: () => Xc,
+                scenePickVisit: () => Vl,
+                sceneToJSON: () => Yc,
+                sceneVisit: () => Wl,
+                sceneZOrder: () => Hl,
+                scheme: () => vy,
+                setRandom: () => na,
+                span: () => Ee.span,
+                splitAccessPath: () => Ee.splitAccessPath,
+                stringValue: () => Ee.stringValue,
+                textMetrics: () => Mc,
+                timeFormatLocale: () => ui,
+                timeInterval: () => _y,
+                toBoolean: () => Ee.toBoolean,
+                toDate: () => Ee.toDate,
+                toNumber: () => Ee.toNumber,
+                toSet: () => Ee.toSet,
+                toString: () => Ee.toString,
                 transform: () => Ti,
-                transforms: () => Fi,
-                truncate: () => ke.truncate,
-                truthy: () => ke.truthy,
-                tupleid: () => Ne,
+                transforms: () => Ni,
+                truncate: () => Ee.truncate,
+                truthy: () => Ee.truthy,
+                tupleid: () => Ce,
                 typeParsers: () => jt,
-                utcInterval: () => Ob,
-                utcquarter: () => ke.utcquarter,
-                version: () => qM.i8,
-                visitArray: () => ke.visitArray,
-                writeConfig: () => ke.writeConfig,
-                zero: () => ke.zero,
-                zoomLinear: () => ke.zoomLinear,
-                zoomLog: () => ke.zoomLog,
-                zoomPow: () => ke.zoomPow,
-                zoomSymlog: () => ke.zoomSymlog
+                utcInterval: () => xy,
+                utcquarter: () => Ee.utcquarter,
+                version: () => _M.i8,
+                visitArray: () => Ee.visitArray,
+                writeConfig: () => Ee.writeConfig,
+                zero: () => Ee.zero,
+                zoomLinear: () => Ee.zoomLinear,
+                zoomLog: () => Ee.zoomLog,
+                zoomPow: () => Ee.zoomPow,
+                zoomSymlog: () => Ee.zoomSymlog
             });
             var g = {};
             n.r(g), n.d(g, {
-                dark: () => QP,
-                excel: () => eR,
-                fivethirtyeight: () => aR,
-                ggplot2: () => uR,
-                googlecharts: () => DR,
-                latimes: () => hR,
-                quartz: () => mR,
-                urbaninstitute: () => ER,
-                version: () => CR,
-                vox: () => yR
+                dark: () => mR,
+                excel: () => yR,
+                fivethirtyeight: () => SR,
+                ggplot2: () => AR,
+                googlecharts: () => GR,
+                latimes: () => NR,
+                quartz: () => PR,
+                urbaninstitute: () => qR,
+                version: () => YR,
+                vox: () => LR
             });
             var m = function() {
                 return m = Object.assign || function(e) {
                     for (var t, n = 1, r = arguments.length; n < r; n++)
                         for (var i in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                     return e
                 }, m.apply(this, arguments)
@@ -812,14 +812,29 @@
             function _(e) {
                 return new Array(e.length)
             }
 
             function x(e, t) {
                 this.ownerDocument = e.ownerDocument, this.namespaceURI = e.namespaceURI, this._next = null, this._parent = e, this.__data__ = t
             }
+            Object.create, Object.create, x.prototype = {
+                constructor: x,
+                appendChild: function(e) {
+                    return this._parent.insertBefore(e, this._next)
+                },
+                insertBefore: function(e, t) {
+                    return this._parent.insertBefore(e, t)
+                },
+                querySelector: function(e) {
+                    return this._parent.querySelector(e)
+                },
+                querySelectorAll: function(e) {
+                    return this._parent.querySelectorAll(e)
+                }
+            };
 
             function w(e, t, n, r, i, a) {
                 for (var o, u = 0, s = t.length, l = a.length; u < l; ++u)(o = t[u]) ? (o.__data__ = a[u], r[u] = o) : n[u] = new x(e, a[u]);
                 for (; u < s; ++u)(o = t[u]) && (i[u] = o)
             }
 
             function S(e, t, n, r, i, a, o) {
@@ -831,29 +846,14 @@
                 for (u = 0; u < d; ++u)(s = c[l = "$" + o.call(e, a[u], u, a)]) ? (r[u] = s, s.__data__ = a[u], c[l] = null) : n[u] = new x(e, a[u]);
                 for (u = 0; u < f; ++u)(s = t[u]) && c[h[u]] === s && (i[u] = s)
             }
 
             function E(e, t) {
                 return e < t ? -1 : e > t ? 1 : e >= t ? 0 : NaN
             }
-            x.prototype = {
-                constructor: x,
-                appendChild: function(e) {
-                    return this._parent.insertBefore(e, this._next)
-                },
-                insertBefore: function(e, t) {
-                    return this._parent.insertBefore(e, t)
-                },
-                querySelector: function(e) {
-                    return this._parent.querySelector(e)
-                },
-                querySelectorAll: function(e) {
-                    return this._parent.querySelectorAll(e)
-                }
-            };
             var A = "http://www.w3.org/1999/xhtml";
             const k = {
                 svg: "http://www.w3.org/2000/svg",
                 xhtml: A,
                 xlink: "http://www.w3.org/1999/xlink",
                 xml: "http://www.w3.org/XML/1998/namespace",
                 xmlns: "http://www.w3.org/2000/xmlns/"
@@ -888,22 +888,22 @@
 
             function N(e, t) {
                 return function() {
                     this.setAttributeNS(e.space, e.local, t)
                 }
             }
 
-            function T(e, t) {
+            function O(e, t) {
                 return function() {
                     var n = t.apply(this, arguments);
                     null == n ? this.removeAttribute(e) : this.setAttribute(e, n)
                 }
             }
 
-            function O(e, t) {
+            function T(e, t) {
                 return function() {
                     var n = t.apply(this, arguments);
                     null == n ? this.removeAttributeNS(e.space, e.local) : this.setAttributeNS(e.space, e.local, n)
                 }
             }
 
             function P(e) {
@@ -925,19 +925,15 @@
             function z(e, t, n) {
                 return function() {
                     var r = t.apply(this, arguments);
                     null == r ? this.style.removeProperty(e) : this.style.setProperty(e, r, n)
                 }
             }
 
-            function I(e, t) {
-                return e.style.getPropertyValue(t) || P(e).getComputedStyle(e, null).getPropertyValue(t)
-            }
-
-            function U(e) {
+            function I(e) {
                 return function() {
                     delete this[e]
                 }
             }
 
             function j(e, t) {
                 return function() {
@@ -948,191 +944,180 @@
             function B(e, t) {
                 return function() {
                     var n = t.apply(this, arguments);
                     null == n ? delete this[e] : this[e] = n
                 }
             }
 
-            function q(e) {
+            function U(e) {
                 return e.trim().split(/^|\s+/)
             }
 
-            function H(e) {
-                return e.classList || new W(e)
+            function q(e) {
+                return e.classList || new H(e)
             }
 
-            function W(e) {
-                this._node = e, this._names = q(e.getAttribute("class") || "")
+            function H(e) {
+                this._node = e, this._names = U(e.getAttribute("class") || "")
             }
 
-            function Y(e, t) {
-                for (var n = H(e), r = -1, i = t.length; ++r < i;) n.add(t[r])
+            function W(e, t) {
+                for (var n = q(e), r = -1, i = t.length; ++r < i;) n.add(t[r])
             }
 
             function V(e, t) {
-                for (var n = H(e), r = -1, i = t.length; ++r < i;) n.remove(t[r])
+                for (var n = q(e), r = -1, i = t.length; ++r < i;) n.remove(t[r])
             }
 
             function G(e) {
                 return function() {
-                    Y(this, e)
+                    W(this, e)
                 }
             }
 
-            function X(e) {
+            function Y(e) {
                 return function() {
                     V(this, e)
                 }
             }
 
-            function $(e, t) {
+            function X(e, t) {
                 return function() {
-                    (t.apply(this, arguments) ? Y : V)(this, e)
+                    (t.apply(this, arguments) ? W : V)(this, e)
                 }
             }
 
-            function K() {
+            function $() {
                 this.textContent = ""
             }
 
-            function J(e) {
+            function K(e) {
                 return function() {
                     this.textContent = e
                 }
             }
 
-            function Q(e) {
+            function J(e) {
                 return function() {
                     var t = e.apply(this, arguments);
                     this.textContent = null == t ? "" : t
                 }
             }
 
-            function Z() {
+            function Q() {
                 this.innerHTML = ""
             }
 
-            function ee(e) {
+            function Z(e) {
                 return function() {
                     this.innerHTML = e
                 }
             }
 
-            function te(e) {
+            function ee(e) {
                 return function() {
                     var t = e.apply(this, arguments);
                     this.innerHTML = null == t ? "" : t
                 }
             }
 
-            function ne() {
+            function te() {
                 this.nextSibling && this.parentNode.appendChild(this)
             }
 
-            function re() {
+            function ne() {
                 this.previousSibling && this.parentNode.insertBefore(this, this.parentNode.firstChild)
             }
 
-            function ie(e) {
+            function re(e) {
                 return function() {
                     var t = this.ownerDocument,
                         n = this.namespaceURI;
                     return n === A && t.documentElement.namespaceURI === A ? t.createElement(e) : t.createElementNS(n, e)
                 }
             }
 
-            function ae(e) {
+            function ie(e) {
                 return function() {
                     return this.ownerDocument.createElementNS(e.space, e.local)
                 }
             }
 
-            function oe(e) {
+            function ae(e) {
                 var t = M(e);
-                return (t.local ? ae : ie)(t)
+                return (t.local ? ie : re)(t)
             }
 
-            function ue() {
+            function oe() {
                 return null
             }
 
-            function se() {
+            function ue() {
                 var e = this.parentNode;
                 e && e.removeChild(this)
             }
 
-            function le() {
+            function se() {
                 var e = this.cloneNode(!1),
                     t = this.parentNode;
                 return t ? t.insertBefore(e, this.nextSibling) : e
             }
 
-            function ce() {
+            function le() {
                 var e = this.cloneNode(!0),
                     t = this.parentNode;
                 return t ? t.insertBefore(e, this.nextSibling) : e
             }
-            W.prototype = {
+            H.prototype = {
                 add: function(e) {
                     this._names.indexOf(e) < 0 && (this._names.push(e), this._node.setAttribute("class", this._names.join(" ")))
                 },
                 remove: function(e) {
                     var t = this._names.indexOf(e);
                     t >= 0 && (this._names.splice(t, 1), this._node.setAttribute("class", this._names.join(" ")))
                 },
                 contains: function(e) {
                     return this._names.indexOf(e) >= 0
                 }
             };
-            var fe = {},
-                de = null;
+            var ce = {},
+                fe = null;
 
-            function he(e, t, n) {
-                return e = pe(e, t, n),
+            function de(e, t, n) {
+                return e = he(e, t, n),
                     function(t) {
                         var n = t.relatedTarget;
                         n && (n === this || 8 & n.compareDocumentPosition(this)) || e.call(this, t)
                     }
             }
 
-            function pe(e, t, n) {
+            function he(e, t, n) {
                 return function(r) {
-                    var i = de;
-                    de = r;
+                    var i = fe;
+                    fe = r;
                     try {
                         e.call(this, this.__data__, t, n)
                     } finally {
-                        de = i
+                        fe = i
                     }
                 }
             }
 
-            function ge(e) {
-                return e.trim().split(/^|\s+/).map((function(e) {
-                    var t = "",
-                        n = e.indexOf(".");
-                    return n >= 0 && (t = e.slice(n + 1), e = e.slice(0, n)), {
-                        type: e,
-                        name: t
-                    }
-                }))
-            }
-
-            function me(e) {
+            function pe(e) {
                 return function() {
                     var t = this.__on;
                     if (t) {
                         for (var n, r = 0, i = -1, a = t.length; r < a; ++r) n = t[r], e.type && n.type !== e.type || n.name !== e.name ? t[++i] = n : this.removeEventListener(n.type, n.listener, n.capture);
                         ++i ? t.length = i : delete this.__on
                     }
                 }
             }
 
-            function ve(e, t, n) {
-                var r = fe.hasOwnProperty(e.type) ? he : pe;
+            function ge(e, t, n) {
+                var r = ce.hasOwnProperty(e.type) ? de : he;
                 return function(i, a, o) {
                     var u, s = this.__on,
                         l = r(t, a, o);
                     if (s)
                         for (var c = 0, f = s.length; c < f; ++c)
                             if ((u = s[c]).type === e.type && u.name === e.name) return this.removeEventListener(u.type, u.listener, u.capture), this.addEventListener(u.type, u.listener = l, u.capture = n), void(u.value = t);
                     this.addEventListener(e.type, l, n), u = {
@@ -1141,71 +1126,71 @@
                         value: t,
                         listener: l,
                         capture: n
                     }, s ? s.push(u) : this.__on = [u]
                 }
             }
 
-            function ye(e, t, n) {
+            function me(e, t, n) {
                 var r = P(e),
                     i = r.CustomEvent;
                 "function" == typeof i ? i = new i(t, n) : (i = r.document.createEvent("Event"), n ? (i.initEvent(t, n.bubbles, n.cancelable), i.detail = n.detail) : i.initEvent(t, !1, !1)), e.dispatchEvent(i)
             }
 
-            function be(e, t) {
+            function ve(e, t) {
                 return function() {
-                    return ye(this, e, t)
+                    return me(this, e, t)
                 }
             }
 
-            function _e(e, t) {
+            function ye(e, t) {
                 return function() {
-                    return ye(this, e, t.apply(this, arguments))
+                    return me(this, e, t.apply(this, arguments))
                 }
             }
-            "undefined" != typeof document && ("onmouseenter" in document.documentElement || (fe = {
+            "undefined" != typeof document && ("onmouseenter" in document.documentElement || (ce = {
                 mouseenter: "mouseover",
                 mouseleave: "mouseout"
             }));
-            var xe = [null];
+            var be = [null];
 
-            function we(e, t) {
+            function _e(e, t) {
                 this._groups = e, this._parents = t
             }
-            we.prototype = function() {
-                return new we([
+            _e.prototype = function() {
+                return new _e([
                     [document.documentElement]
-                ], xe)
+                ], be)
             }.prototype = {
-                constructor: we,
+                constructor: _e,
                 select: function(e) {
                     "function" != typeof e && (e = y(e));
                     for (var t = this._groups, n = t.length, r = new Array(n), i = 0; i < n; ++i)
                         for (var a, o, u = t[i], s = u.length, l = r[i] = new Array(s), c = 0; c < s; ++c)(a = u[c]) && (o = e.call(a, a.__data__, c, u)) && ("__data__" in a && (o.__data__ = a.__data__), l[c] = o);
-                    return new we(r, this._parents)
+                    return new _e(r, this._parents)
                 },
                 selectAll: function(e) {
                     "function" != typeof e && (e = function(e) {
                         return null == e ? b : function() {
                             return this.querySelectorAll(e)
                         }
                     }(e));
                     for (var t = this._groups, n = t.length, r = [], i = [], a = 0; a < n; ++a)
                         for (var o, u = t[a], s = u.length, l = 0; l < s; ++l)(o = u[l]) && (r.push(e.call(o, o.__data__, l, u)), i.push(o));
-                    return new we(r, i)
+                    return new _e(r, i)
                 },
                 filter: function(e) {
                     "function" != typeof e && (e = function(e) {
                         return function() {
                             return this.matches(e)
                         }
                     }(e));
                     for (var t = this._groups, n = t.length, r = new Array(n), i = 0; i < n; ++i)
                         for (var a, o = t[i], u = o.length, s = r[i] = [], l = 0; l < u; ++l)(a = o[l]) && e.call(a, a.__data__, l, o) && s.push(a);
-                    return new we(r, this._parents)
+                    return new _e(r, this._parents)
                 },
                 data: function(e, t) {
                     if (!e) return h = new Array(this.size()), l = -1, this.each((function(e) {
                         h[++l] = e
                     })), h;
                     var n = t ? S : w,
                         r = this._parents,
@@ -1226,33 +1211,33 @@
                         n(c, f, g, m, s[l] = new Array(d), h, t);
                         for (var v, y, b = 0, _ = 0; b < p; ++b)
                             if (v = g[b]) {
                                 for (b >= _ && (_ = b + 1); !(y = m[_]) && ++_ < p;);
                                 v._next = y || null
                             }
                     }
-                    return (o = new we(o, r))._enter = u, o._exit = s, o
+                    return (o = new _e(o, r))._enter = u, o._exit = s, o
                 },
                 enter: function() {
-                    return new we(this._enter || this._groups.map(_), this._parents)
+                    return new _e(this._enter || this._groups.map(_), this._parents)
                 },
                 exit: function() {
-                    return new we(this._exit || this._groups.map(_), this._parents)
+                    return new _e(this._exit || this._groups.map(_), this._parents)
                 },
                 join: function(e, t, n) {
                     var r = this.enter(),
                         i = this,
                         a = this.exit();
                     return r = "function" == typeof e ? e(r) : r.append(e + ""), null != t && (i = t(i)), null == n ? a.remove() : n(a), r && i ? r.merge(i).order() : i
                 },
                 merge: function(e) {
                     for (var t = this._groups, n = e._groups, r = t.length, i = n.length, a = Math.min(r, i), o = new Array(r), u = 0; u < a; ++u)
                         for (var s, l = t[u], c = n[u], f = l.length, d = o[u] = new Array(f), h = 0; h < f; ++h)(s = l[h] || c[h]) && (d[h] = s);
                     for (; u < r; ++u) o[u] = t[u];
-                    return new we(o, this._parents)
+                    return new _e(o, this._parents)
                 },
                 order: function() {
                     for (var e = this._groups, t = -1, n = e.length; ++t < n;)
                         for (var r, i = e[t], a = i.length - 1, o = i[a]; --a >= 0;)(r = i[a]) && (o && 4 ^ r.compareDocumentPosition(o) && o.parentNode.insertBefore(r, o), o = r);
                     return this
                 },
                 sort: function(e) {
@@ -1260,15 +1245,15 @@
                         return t && n ? e(t.__data__, n.__data__) : !t - !n
                     }
                     e || (e = E);
                     for (var n = this._groups, r = n.length, i = new Array(r), a = 0; a < r; ++a) {
                         for (var o, u = n[a], s = u.length, l = i[a] = new Array(s), c = 0; c < s; ++c)(o = u[c]) && (l[c] = o);
                         l.sort(t)
                     }
-                    return new we(i, this._parents).order()
+                    return new _e(i, this._parents).order()
                 },
                 call: function() {
                     var e = arguments[0];
                     return arguments[0] = this, e.apply(null, arguments), this
                 },
                 nodes: function() {
                     var e = new Array(this.size()),
@@ -1301,417 +1286,428 @@
                 },
                 attr: function(e, t) {
                     var n = M(e);
                     if (arguments.length < 2) {
                         var r = this.node();
                         return n.local ? r.getAttributeNS(n.space, n.local) : r.getAttribute(n)
                     }
-                    return this.each((null == t ? n.local ? C : D : "function" == typeof t ? n.local ? O : T : n.local ? N : F)(n, t))
+                    return this.each((null == t ? n.local ? C : D : "function" == typeof t ? n.local ? T : O : n.local ? N : F)(n, t))
                 },
                 style: function(e, t, n) {
-                    return arguments.length > 1 ? this.each((null == t ? R : "function" == typeof t ? z : L)(e, t, null == n ? "" : n)) : I(this.node(), e)
+                    return arguments.length > 1 ? this.each((null == t ? R : "function" == typeof t ? z : L)(e, t, null == n ? "" : n)) : function(e, t) {
+                        return e.style.getPropertyValue(t) || P(e).getComputedStyle(e, null).getPropertyValue(t)
+                    }(this.node(), e)
                 },
                 property: function(e, t) {
-                    return arguments.length > 1 ? this.each((null == t ? U : "function" == typeof t ? B : j)(e, t)) : this.node()[e]
+                    return arguments.length > 1 ? this.each((null == t ? I : "function" == typeof t ? B : j)(e, t)) : this.node()[e]
                 },
                 classed: function(e, t) {
-                    var n = q(e + "");
+                    var n = U(e + "");
                     if (arguments.length < 2) {
-                        for (var r = H(this.node()), i = -1, a = n.length; ++i < a;)
+                        for (var r = q(this.node()), i = -1, a = n.length; ++i < a;)
                             if (!r.contains(n[i])) return !1;
                         return !0
                     }
-                    return this.each(("function" == typeof t ? $ : t ? G : X)(n, t))
+                    return this.each(("function" == typeof t ? X : t ? G : Y)(n, t))
                 },
                 text: function(e) {
-                    return arguments.length ? this.each(null == e ? K : ("function" == typeof e ? Q : J)(e)) : this.node().textContent
+                    return arguments.length ? this.each(null == e ? $ : ("function" == typeof e ? J : K)(e)) : this.node().textContent
                 },
                 html: function(e) {
-                    return arguments.length ? this.each(null == e ? Z : ("function" == typeof e ? te : ee)(e)) : this.node().innerHTML
+                    return arguments.length ? this.each(null == e ? Q : ("function" == typeof e ? ee : Z)(e)) : this.node().innerHTML
                 },
                 raise: function() {
-                    return this.each(ne)
+                    return this.each(te)
                 },
                 lower: function() {
-                    return this.each(re)
+                    return this.each(ne)
                 },
                 append: function(e) {
-                    var t = "function" == typeof e ? e : oe(e);
+                    var t = "function" == typeof e ? e : ae(e);
                     return this.select((function() {
                         return this.appendChild(t.apply(this, arguments))
                     }))
                 },
                 insert: function(e, t) {
-                    var n = "function" == typeof e ? e : oe(e),
-                        r = null == t ? ue : "function" == typeof t ? t : y(t);
+                    var n = "function" == typeof e ? e : ae(e),
+                        r = null == t ? oe : "function" == typeof t ? t : y(t);
                     return this.select((function() {
                         return this.insertBefore(n.apply(this, arguments), r.apply(this, arguments) || null)
                     }))
                 },
                 remove: function() {
-                    return this.each(se)
+                    return this.each(ue)
                 },
                 clone: function(e) {
-                    return this.select(e ? ce : le)
+                    return this.select(e ? le : se)
                 },
                 datum: function(e) {
                     return arguments.length ? this.property("__data__", e) : this.node().__data__
                 },
                 on: function(e, t, n) {
-                    var r, i, a = ge(e + ""),
+                    var r, i, a = function(e) {
+                            return e.trim().split(/^|\s+/).map((function(e) {
+                                var t = "",
+                                    n = e.indexOf(".");
+                                return n >= 0 && (t = e.slice(n + 1), e = e.slice(0, n)), {
+                                    type: e,
+                                    name: t
+                                }
+                            }))
+                        }(e + ""),
                         o = a.length;
                     if (!(arguments.length < 2)) {
-                        for (u = t ? ve : me, null == n && (n = !1), r = 0; r < o; ++r) this.each(u(a[r], t, n));
+                        for (u = t ? ge : pe, null == n && (n = !1), r = 0; r < o; ++r) this.each(u(a[r], t, n));
                         return this
                     }
                     var u = this.node().__on;
                     if (u)
                         for (var s, l = 0, c = u.length; l < c; ++l)
                             for (r = 0, s = u[l]; r < o; ++r)
                                 if ((i = a[r]).type === s.type && i.name === s.name) return s.value
                 },
                 dispatch: function(e, t) {
-                    return this.each(("function" == typeof t ? _e : be)(e, t))
+                    return this.each(("function" == typeof t ? ye : ve)(e, t))
                 }
             };
-            var Se = n(8662),
-                Ee = n.n(Se),
-                Ae = n(3338),
-                ke = n(5979);
+            var xe = n(8662),
+                we = n.n(xe),
+                Se = n(3338),
+                Ee = n(5979);
 
-            function Me(e) {
-                var t = e || ke.identity,
+            function Ae(e) {
+                var t = e || Ee.identity,
                     n = [],
                     r = {};
                 return n.add = function(e) {
                     var i = t(e);
                     return r[i] || (r[i] = 1, n.push(e)), n
                 }, n.remove = function(e) {
                     var i, a = t(e);
                     return r[a] && (r[a] = 0, (i = n.indexOf(e)) >= 0 && n.splice(i, 1)), n
                 }, n
             }
-            var De = Symbol("vega_id"),
-                Ce = 1;
+            var ke = Symbol("vega_id"),
+                Me = 1;
 
-            function Fe(e) {
-                return !(!e || !Ne(e))
+            function De(e) {
+                return !(!e || !Ce(e))
             }
 
-            function Ne(e) {
-                return e[De]
+            function Ce(e) {
+                return e[ke]
             }
 
-            function Te(e, t) {
-                return e[De] = t, e
+            function Fe(e, t) {
+                return e[ke] = t, e
             }
 
-            function Oe(e) {
+            function Ne(e) {
                 var t = e === Object(e) ? e : {
                     data: e
                 };
-                return Ne(t) ? t : Te(t, Ce++)
+                return Ce(t) ? t : Fe(t, Me++)
             }
 
-            function Pe(e) {
-                return Re(e, Oe({}))
+            function Oe(e) {
+                return Te(e, Ne({}))
             }
 
-            function Re(e, t) {
+            function Te(e, t) {
                 for (var n in e) t[n] = e[n];
                 return t
             }
 
-            function Le(e, t) {
-                return Te(t, Ne(e))
+            function Pe(e, t) {
+                return Fe(t, Ce(e))
             }
 
-            function ze(e) {
-                return e && e.constructor === Ie
+            function Re(e) {
+                return e && e.constructor === Le
             }
 
-            function Ie() {
+            function Le() {
                 var e = [],
                     t = [],
                     n = [],
                     r = [],
                     i = [],
                     a = !1;
                 return {
-                    constructor: Ie,
+                    constructor: Le,
                     insert: function(t) {
-                        for (var n = (0, ke.array)(t), r = 0, i = n.length; r < i; ++r) e.push(n[r]);
+                        for (var n = (0, Ee.array)(t), r = 0, i = n.length; r < i; ++r) e.push(n[r]);
                         return this
                     },
                     remove: function(e) {
-                        for (var n = (0, ke.isFunction)(e) ? r : t, i = (0, ke.array)(e), a = 0, o = i.length; a < o; ++a) n.push(i[a]);
+                        for (var n = (0, Ee.isFunction)(e) ? r : t, i = (0, Ee.array)(e), a = 0, o = i.length; a < o; ++a) n.push(i[a]);
                         return this
                     },
                     modify: function(e, t, r) {
                         var a = {
                             field: t,
-                            value: (0, ke.constant)(r)
+                            value: (0, Ee.constant)(r)
                         };
-                        return (0, ke.isFunction)(e) ? (a.filter = e, i.push(a)) : (a.tuple = e, n.push(a)), this
+                        return (0, Ee.isFunction)(e) ? (a.filter = e, i.push(a)) : (a.tuple = e, n.push(a)), this
                     },
                     encode: function(e, t) {
-                        return (0, ke.isFunction)(e) ? i.push({
+                        return (0, Ee.isFunction)(e) ? i.push({
                             filter: e,
                             field: t
                         }) : n.push({
                             tuple: e,
                             field: t
                         }), this
                     },
                     reflow: function() {
                         return a = !0, this
                     },
                     pulse: function(o, u) {
                         var s, l, c, f, d, h, p;
-                        for (l = 0, c = e.length; l < c; ++l) o.add.push(Oe(e[l]));
-                        for (s = {}, l = 0, c = t.length; l < c; ++l) s[Ne(h = t[l])] = h;
+                        for (l = 0, c = e.length; l < c; ++l) o.add.push(Ne(e[l]));
+                        for (s = {}, l = 0, c = t.length; l < c; ++l) s[Ce(h = t[l])] = h;
                         for (l = 0, c = r.length; l < c; ++l) d = r[l], u.forEach((function(e) {
-                            d(e) && (s[Ne(e)] = e)
+                            d(e) && (s[Ce(e)] = e)
                         }));
                         for (p in s) o.rem.push(s[p]);
 
                         function g(e, t, n) {
-                            n ? e[t] = n(e) : o.encode = t, a || (s[Ne(e)] = e)
+                            n ? e[t] = n(e) : o.encode = t, a || (s[Ce(e)] = e)
                         }
                         for (s = {}, l = 0, c = n.length; l < c; ++l) g((f = n[l]).tuple, f.field, f.value), o.modifies(f.field);
                         for (l = 0, c = i.length; l < c; ++l) f = i[l], d = f.filter, u.forEach((function(e) {
                             d(e) && g(e, f.field, f.value)
                         })), o.modifies(f.field);
                         if (a) o.mod = t.length || r.length ? u.filter((function(e) {
-                            return s.hasOwnProperty(Ne(e))
+                            return s.hasOwnProperty(Ce(e))
                         })) : u.slice();
                         else
                             for (p in s) o.mod.push(s[p]);
                         return o
                     }
                 }
             }
-            var Ue = "_:mod:_";
+            var ze = "_:mod:_";
 
-            function je() {
-                Object.defineProperty(this, Ue, {
+            function Ie() {
+                Object.defineProperty(this, ze, {
                     writable: !0,
                     value: {}
                 })
             }
-            var Be = je.prototype;
-            Be.set = function(e, t, n, r) {
+            var je = Ie.prototype;
+            je.set = function(e, t, n, r) {
                 var i = this,
                     a = i[e],
-                    o = i[Ue];
-                return null != t && t >= 0 ? (a[t] !== n || r) && (a[t] = n, o[t + ":" + e] = -1, o[e] = -1) : (a !== n || r) && (i[e] = n, o[e] = (0, ke.isArray)(n) ? 1 + n.length : -1), i
-            }, Be.modified = function(e, t) {
-                var n, r = this[Ue];
+                    o = i[ze];
+                return null != t && t >= 0 ? (a[t] !== n || r) && (a[t] = n, o[t + ":" + e] = -1, o[e] = -1) : (a !== n || r) && (i[e] = n, o[e] = (0, Ee.isArray)(n) ? 1 + n.length : -1), i
+            }, je.modified = function(e, t) {
+                var n, r = this[ze];
                 if (!arguments.length) {
                     for (n in r)
                         if (r[n]) return !0;
                     return !1
                 }
-                if ((0, ke.isArray)(e)) {
+                if ((0, Ee.isArray)(e)) {
                     for (n = 0; n < e.length; ++n)
                         if (r[e[n]]) return !0;
                     return !1
                 }
                 return null != t && t >= 0 ? t + 1 < r[e] || !!r[t + ":" + e] : !!r[e]
-            }, Be.clear = function() {
-                return this[Ue] = {}, this
+            }, je.clear = function() {
+                return this[ze] = {}, this
             };
-            var qe = 0,
-                He = new je;
+            var Be = 0,
+                Ue = new Ie;
 
-            function We(e, t, n, r) {
-                this.id = ++qe, this.value = e, this.stamp = -1, this.rank = -1, this.qrank = -1, this.flags = 0, t && (this._update = t), n && this.parameters(n, r)
+            function qe(e, t, n, r) {
+                this.id = ++Be, this.value = e, this.stamp = -1, this.rank = -1, this.qrank = -1, this.flags = 0, t && (this._update = t), n && this.parameters(n, r)
             }
-            var Ye = We.prototype;
+            var He = qe.prototype;
 
-            function Ve(e) {
+            function We(e) {
                 return function(t) {
                     var n = this.flags;
                     return 0 === arguments.length ? !!(n & e) : (this.flags = t ? n | e : n & ~e, this)
                 }
             }
-            Ye.targets = function() {
-                return this._targets || (this._targets = Me(ke.id))
-            }, Ye.set = function(e) {
+            He.targets = function() {
+                return this._targets || (this._targets = Ae(Ee.id))
+            }, He.set = function(e) {
                 return this.value !== e ? (this.value = e, 1) : 0
-            }, Ye.skip = Ve(1), Ye.modified = Ve(2), Ye.parameters = function(e, t) {
+            }, He.skip = We(1), He.modified = We(2), He.parameters = function(e, t) {
                 t = !1 !== t;
                 var n, r, i, a, o = this,
-                    u = o._argval = o._argval || new je,
+                    u = o._argval = o._argval || new Ie,
                     s = o._argops = o._argops || [],
                     l = [];
 
                 function c(e, n, r) {
-                    r instanceof We ? (r !== o && (t && r.targets().add(o), l.push(r)), s.push({
+                    r instanceof qe ? (r !== o && (t && r.targets().add(o), l.push(r)), s.push({
                         op: r,
                         name: e,
                         index: n
                     })) : u.set(e, n, r)
                 }
                 for (n in e)
-                    if (r = e[n], "pulse" === n)(0, ke.array)(r).forEach((function(e) {
-                        e instanceof We ? e !== o && (e.targets().add(o), l.push(e)) : (0, ke.error)("Pulse parameters must be operator instances.")
+                    if (r = e[n], "pulse" === n)(0, Ee.array)(r).forEach((function(e) {
+                        e instanceof qe ? e !== o && (e.targets().add(o), l.push(e)) : (0, Ee.error)("Pulse parameters must be operator instances.")
                     })), o.source = r;
-                    else if ((0, ke.isArray)(r))
+                    else if ((0, Ee.isArray)(r))
                     for (u.set(n, -1, Array(i = r.length)), a = 0; a < i; ++a) c(n, a, r[a]);
                 else c(n, -1, r);
                 return this.marshall().clear(), l
-            }, Ye.marshall = function(e) {
-                var t, n, r, i, a, o = this._argval || He,
+            }, He.marshall = function(e) {
+                var t, n, r, i, a, o = this._argval || Ue,
                     u = this._argops;
                 if (u && (r = u.length))
                     for (n = 0; n < r; ++n) a = (i = (t = u[n]).op).modified() && i.stamp === e, o.set(t.name, t.index, i.value, a);
                 return o
-            }, Ye.evaluate = function(e) {
+            }, He.evaluate = function(e) {
                 if (this._update) {
                     var t = this.marshall(e.stamp),
                         n = this._update(t, e);
                     if (t.clear(), n !== this.value) this.value = n;
                     else if (!this.modified()) return e.StopPropagation
                 }
-            }, Ye.run = function(e) {
+            }, He.run = function(e) {
                 return e.stamp <= this.stamp ? e.StopPropagation : (this.skip() ? (this.skip(!1), t = 0) : t = this.evaluate(e), this.stamp = e.stamp, this.pulse = t, t || e);
                 var t
             };
-            var Ge = 0;
+            var Ve = 0;
 
-            function Xe(e, t, n) {
-                this.id = ++Ge, this.value = null, n && (this.receive = n), e && (this._filter = e), t && (this._apply = t)
+            function Ge(e, t, n) {
+                this.id = ++Ve, this.value = null, n && (this.receive = n), e && (this._filter = e), t && (this._apply = t)
             }
 
-            function $e(e, t, n) {
-                return new Xe(e, t, n)
+            function Ye(e, t, n) {
+                return new Ge(e, t, n)
             }
-            var Ke = Xe.prototype;
-            Ke._filter = ke.truthy, Ke._apply = ke.identity, Ke.targets = function() {
-                return this._targets || (this._targets = Me(ke.id))
-            }, Ke.consume = function(e) {
+            var Xe = Ge.prototype;
+            Xe._filter = Ee.truthy, Xe._apply = Ee.identity, Xe.targets = function() {
+                return this._targets || (this._targets = Ae(Ee.id))
+            }, Xe.consume = function(e) {
                 return arguments.length ? (this._consume = !!e, this) : !!this._consume
-            }, Ke.receive = function(e) {
+            }, Xe.receive = function(e) {
                 if (this._filter(e)) {
                     for (var t = this.value = this._apply(e), n = this._targets, r = n ? n.length : 0, i = 0; i < r; ++i) n[i].receive(t);
                     this._consume && (e.preventDefault(), e.stopPropagation())
                 }
-            }, Ke.filter = function(e) {
-                var t = $e(e);
+            }, Xe.filter = function(e) {
+                var t = Ye(e);
                 return this.targets().add(t), t
-            }, Ke.apply = function(e) {
-                var t = $e(null, e);
+            }, Xe.apply = function(e) {
+                var t = Ye(null, e);
                 return this.targets().add(t), t
-            }, Ke.merge = function() {
-                var e = $e();
+            }, Xe.merge = function() {
+                var e = Ye();
                 this.targets().add(e);
                 for (var t = 0, n = arguments.length; t < n; ++t) arguments[t].targets().add(e);
                 return e
-            }, Ke.throttle = function(e) {
+            }, Xe.throttle = function(e) {
                 var t = -1;
                 return this.filter((function() {
                     var n = Date.now();
                     return n - t > e ? (t = n, 1) : 0
                 }))
-            }, Ke.debounce = function(e) {
-                var t = $e();
-                return this.targets().add($e(null, null, (0, ke.debounce)(e, (function(e) {
+            }, Xe.debounce = function(e) {
+                var t = Ye();
+                return this.targets().add(Ye(null, null, (0, Ee.debounce)(e, (function(e) {
                     var n = e.dataflow;
                     t.receive(e), n && n.run && n.run()
                 })))), t
-            }, Ke.between = function(e, t) {
+            }, Xe.between = function(e, t) {
                 var n = !1;
-                return e.targets().add($e(null, null, (function() {
+                return e.targets().add(Ye(null, null, (function() {
                     n = !0
-                }))), t.targets().add($e(null, null, (function() {
+                }))), t.targets().add(Ye(null, null, (function() {
                     n = !1
                 }))), this.filter((function() {
                     return n
                 }))
             };
-            var Je = "$";
+            var $e = "$";
 
-            function Qe() {}
+            function Ke() {}
 
-            function Ze(e, t) {
-                var n = new Qe;
-                if (e instanceof Qe) e.each((function(e, t) {
+            function Je(e, t) {
+                var n = new Ke;
+                if (e instanceof Ke) e.each((function(e, t) {
                     n.set(t, e)
                 }));
                 else if (Array.isArray(e)) {
                     var r, i = -1,
                         a = e.length;
                     if (null == t)
                         for (; ++i < a;) n.set(i, e[i]);
                     else
                         for (; ++i < a;) n.set(t(r = e[i], i, e), r)
                 } else if (e)
                     for (var o in e) n.set(o, e[o]);
                 return n
             }
-            Qe.prototype = Ze.prototype = {
-                constructor: Qe,
+            Ke.prototype = Je.prototype = {
+                constructor: Ke,
                 has: function(e) {
-                    return Je + e in this
+                    return $e + e in this
                 },
                 get: function(e) {
-                    return this[Je + e]
+                    return this[$e + e]
                 },
                 set: function(e, t) {
-                    return this[Je + e] = t, this
+                    return this[$e + e] = t, this
                 },
                 remove: function(e) {
-                    var t = Je + e;
+                    var t = $e + e;
                     return t in this && delete this[t]
                 },
                 clear: function() {
-                    for (var e in this) e[0] === Je && delete this[e]
+                    for (var e in this) e[0] === $e && delete this[e]
                 },
                 keys: function() {
                     var e = [];
-                    for (var t in this) t[0] === Je && e.push(t.slice(1));
+                    for (var t in this) t[0] === $e && e.push(t.slice(1));
                     return e
                 },
                 values: function() {
                     var e = [];
-                    for (var t in this) t[0] === Je && e.push(this[t]);
+                    for (var t in this) t[0] === $e && e.push(this[t]);
                     return e
                 },
                 entries: function() {
                     var e = [];
-                    for (var t in this) t[0] === Je && e.push({
+                    for (var t in this) t[0] === $e && e.push({
                         key: t.slice(1),
                         value: this[t]
                     });
                     return e
                 },
                 size: function() {
                     var e = 0;
-                    for (var t in this) t[0] === Je && ++e;
+                    for (var t in this) t[0] === $e && ++e;
                     return e
                 },
                 empty: function() {
                     for (var e in this)
-                        if (e[0] === Je) return !1;
+                        if (e[0] === $e) return !1;
                     return !0
                 },
                 each: function(e) {
-                    for (var t in this) t[0] === Je && e(this[t], t.slice(1), this)
+                    for (var t in this) t[0] === $e && e(this[t], t.slice(1), this)
                 }
             };
-            const et = Ze;
+            const Qe = Je;
 
-            function tt() {
+            function Ze() {
                 var e, t, n, r = [],
                     i = [];
 
                 function a(n, i, o, u) {
                     if (i >= r.length) return null != e && n.sort(e), null != t ? t(n) : n;
-                    for (var s, l, c, f = -1, d = n.length, h = r[i++], p = et(), g = o(); ++f < d;)(c = p.get(s = h(l = n[f]) + "")) ? c.push(l) : p.set(s, [l]);
+                    for (var s, l, c, f = -1, d = n.length, h = r[i++], p = Qe(), g = o(); ++f < d;)(c = p.get(s = h(l = n[f]) + "")) ? c.push(l) : p.set(s, [l]);
                     return p.each((function(e, t) {
                         u(g, t, a(e, i, o, u))
                     })), g
                 }
 
                 function o(e, n) {
                     if (++n > r.length) return e;
@@ -1723,21 +1719,21 @@
                         })
                     }))), null != u ? a.sort((function(e, t) {
                         return u(e.key, t.key)
                     })) : a
                 }
                 return n = {
                     object: function(e) {
-                        return a(e, 0, nt, rt)
+                        return a(e, 0, et, tt)
                     },
                     map: function(e) {
-                        return a(e, 0, it, at)
+                        return a(e, 0, nt, rt)
                     },
                     entries: function(e) {
-                        return o(a(e, 0, it, at), 0)
+                        return o(a(e, 0, nt, rt), 0)
                     },
                     key: function(e) {
                         return r.push(e), n
                     },
                     sortKeys: function(e) {
                         return i[r.length - 1] = e, n
                     },
@@ -1746,142 +1742,140 @@
                     },
                     rollup: function(e) {
                         return t = e, n
                     }
                 }
             }
 
-            function nt() {
+            function et() {
                 return {}
             }
 
-            function rt(e, t, n) {
+            function tt(e, t, n) {
                 e[t] = n
             }
 
-            function it() {
-                return et()
+            function nt() {
+                return Qe()
             }
 
-            function at(e, t, n) {
+            function rt(e, t, n) {
                 e.set(t, n)
             }
 
-            function ot() {}
-            var ut = et.prototype;
-            ot.prototype = function(e, t) {
-                var n = new ot;
-                if (e instanceof ot) e.each((function(e) {
+            function it() {}
+            var at = Qe.prototype;
+            it.prototype = function(e, t) {
+                var n = new it;
+                if (e instanceof it) e.each((function(e) {
                     n.add(e)
                 }));
                 else if (e) {
                     var r = -1,
                         i = e.length;
                     if (null == t)
                         for (; ++r < i;) n.add(e[r]);
                     else
                         for (; ++r < i;) n.add(t(e[r], r, e))
                 }
                 return n
             }.prototype = {
-                constructor: ot,
-                has: ut.has,
+                constructor: it,
+                has: at.has,
                 add: function(e) {
-                    return this[Je + (e += "")] = e, this
+                    return this[$e + (e += "")] = e, this
                 },
-                remove: ut.remove,
-                clear: ut.clear,
-                values: ut.keys,
-                size: ut.size,
-                empty: ut.empty,
-                each: ut.each
+                remove: at.remove,
+                clear: at.clear,
+                values: at.keys,
+                size: at.size,
+                empty: at.empty,
+                each: at.each
             };
-            var st = {
+            var ot = {
                 value: function() {}
             };
 
-            function lt() {
+            function ut() {
                 for (var e, t = 0, n = arguments.length, r = {}; t < n; ++t) {
                     if (!(e = arguments[t] + "") || e in r || /[\s.]/.test(e)) throw new Error("illegal type: " + e);
                     r[e] = []
                 }
-                return new ct(r)
+                return new st(r)
             }
 
-            function ct(e) {
+            function st(e) {
                 this._ = e
             }
 
-            function ft(e, t) {
-                return e.trim().split(/^|\s+/).map((function(e) {
-                    var n = "",
-                        r = e.indexOf(".");
-                    if (r >= 0 && (n = e.slice(r + 1), e = e.slice(0, r)), e && !t.hasOwnProperty(e)) throw new Error("unknown type: " + e);
-                    return {
-                        type: e,
-                        name: n
-                    }
-                }))
-            }
-
-            function dt(e, t) {
+            function lt(e, t) {
                 for (var n, r = 0, i = e.length; r < i; ++r)
                     if ((n = e[r]).name === t) return n.value
             }
 
-            function ht(e, t, n) {
+            function ct(e, t, n) {
                 for (var r = 0, i = e.length; r < i; ++r)
                     if (e[r].name === t) {
-                        e[r] = st, e = e.slice(0, r).concat(e.slice(r + 1));
+                        e[r] = ot, e = e.slice(0, r).concat(e.slice(r + 1));
                         break
                     } return null != n && e.push({
                     name: t,
                     value: n
                 }), e
             }
-            ct.prototype = lt.prototype = {
-                constructor: ct,
+            st.prototype = ut.prototype = {
+                constructor: st,
                 on: function(e, t) {
                     var n, r = this._,
-                        i = ft(e + "", r),
+                        i = function(e, t) {
+                            return e.trim().split(/^|\s+/).map((function(e) {
+                                var n = "",
+                                    r = e.indexOf(".");
+                                if (r >= 0 && (n = e.slice(r + 1), e = e.slice(0, r)), e && !t.hasOwnProperty(e)) throw new Error("unknown type: " + e);
+                                return {
+                                    type: e,
+                                    name: n
+                                }
+                            }))
+                        }(e + "", r),
                         a = -1,
                         o = i.length;
                     if (!(arguments.length < 2)) {
                         if (null != t && "function" != typeof t) throw new Error("invalid callback: " + t);
                         for (; ++a < o;)
-                            if (n = (e = i[a]).type) r[n] = ht(r[n], e.name, t);
+                            if (n = (e = i[a]).type) r[n] = ct(r[n], e.name, t);
                             else if (null == t)
-                            for (n in r) r[n] = ht(r[n], e.name, null);
+                            for (n in r) r[n] = ct(r[n], e.name, null);
                         return this
                     }
                     for (; ++a < o;)
-                        if ((n = (e = i[a]).type) && (n = dt(r[n], e.name))) return n
+                        if ((n = (e = i[a]).type) && (n = lt(r[n], e.name))) return n
                 },
                 copy: function() {
                     var e = {},
                         t = this._;
                     for (var n in t) e[n] = t[n].slice();
-                    return new ct(e)
+                    return new st(e)
                 },
                 call: function(e, t) {
                     if ((n = arguments.length - 2) > 0)
                         for (var n, r, i = new Array(n), a = 0; a < n; ++a) i[a] = arguments[a + 2];
                     if (!this._.hasOwnProperty(e)) throw new Error("unknown type: " + e);
                     for (a = 0, n = (r = this._[e]).length; a < n; ++a) r[a].value.apply(t, i)
                 },
                 apply: function(e, t, n) {
                     if (!this._.hasOwnProperty(e)) throw new Error("unknown type: " + e);
                     for (var r = this._[e], i = 0, a = r.length; i < a; ++i) r[i].value.apply(t, n)
                 }
             };
-            const pt = lt;
+            const ft = ut;
 
-            function gt(e, t) {
-                var n, r, i, a, o = pt("beforesend", "progress", "load", "error"),
-                    u = et(),
+            function dt(e, t) {
+                var n, r, i, a, o = ft("beforesend", "progress", "load", "error"),
+                    u = Qe(),
                     s = new XMLHttpRequest,
                     l = null,
                     c = null,
                     f = 0;
 
                 function d(e) {
                     var t, r = s.status;
@@ -1950,37 +1944,40 @@
                     }, null != t) {
                     if ("function" != typeof t) throw new Error("invalid callback: " + t);
                     return n.get(t)
                 }
                 return n
             }
 
-            function mt(e, t) {
+            function ht(e, t) {
                 return function(n, r) {
-                    var i = gt(n).mimeType(e).response(t);
+                    var i = dt(n).mimeType(e).response(t);
                     if (null != r) {
                         if ("function" != typeof r) throw new Error("invalid callback: " + r);
                         return i.get(r)
                     }
                     return i
                 }
             }
-            mt("text/html", (function(e) {
+            ht("text/html", (function(e) {
                 return document.createRange().createContextualFragment(e.responseText)
-            })), mt("application/json", (function(e) {
+            })), ht("application/json", (function(e) {
                 return JSON.parse(e.responseText)
-            })), mt("text/plain", (function(e) {
+            })), ht("text/plain", (function(e) {
                 return e.responseText
-            })), mt("application/xml", (function(e) {
+            })), ht("application/xml", (function(e) {
                 var t = e.responseXML;
                 if (!t) throw new Error("parse error");
                 return t
             }));
-            var vt = {},
-                yt = {};
+            var pt = {},
+                gt = {},
+                mt = 34,
+                vt = 10,
+                yt = 13;
 
             function bt(e) {
                 return new Function("d", "return {" + e.map((function(e, t) {
                     return JSON.stringify(e) + ": d[" + t + '] || ""'
                 })).join(",") + "}")
             }
 
@@ -2007,32 +2004,32 @@
                         a = e.length,
                         o = 0,
                         u = 0,
                         s = a <= 0,
                         l = !1;
 
                     function c() {
-                        if (s) return yt;
-                        if (l) return l = !1, vt;
+                        if (s) return gt;
+                        if (l) return l = !1, pt;
                         var t, r, i = o;
-                        if (34 === e.charCodeAt(i)) {
-                            for (; o++ < a && 34 !== e.charCodeAt(o) || 34 === e.charCodeAt(++o););
-                            return (t = o) >= a ? s = !0 : 10 === (r = e.charCodeAt(o++)) ? l = !0 : 13 === r && (l = !0, 10 === e.charCodeAt(o) && ++o), e.slice(i + 1, t - 1).replace(/""/g, '"')
+                        if (e.charCodeAt(i) === mt) {
+                            for (; o++ < a && e.charCodeAt(o) !== mt || e.charCodeAt(++o) === mt;);
+                            return (t = o) >= a ? s = !0 : (r = e.charCodeAt(o++)) === vt ? l = !0 : r === yt && (l = !0, e.charCodeAt(o) === vt && ++o), e.slice(i + 1, t - 1).replace(/""/g, '"')
                         }
                         for (; o < a;) {
-                            if (10 === (r = e.charCodeAt(t = o++))) l = !0;
-                            else if (13 === r) l = !0, 10 === e.charCodeAt(o) && ++o;
+                            if ((r = e.charCodeAt(t = o++)) === vt) l = !0;
+                            else if (r === yt) l = !0, e.charCodeAt(o) === vt && ++o;
                             else if (r !== n) continue;
                             return e.slice(i, t)
                         }
                         return s = !0, e.slice(i, a)
                     }
-                    for (10 === e.charCodeAt(a - 1) && --a, 13 === e.charCodeAt(a - 1) && --a;
-                        (r = c()) !== yt;) {
-                        for (var f = []; r !== vt && r !== yt;) f.push(r), r = c();
+                    for (e.charCodeAt(a - 1) === vt && --a, e.charCodeAt(a - 1) === yt && --a;
+                        (r = c()) !== gt;) {
+                        for (var f = []; r !== pt && r !== gt;) f.push(r), r = c();
                         t && null == (f = t(f, u++)) || i.push(f)
                     }
                     return i
                 }
 
                 function i(t, n) {
                     return t.map((function(t) {
@@ -2086,174 +2083,172 @@
             }
             var St = wt(","),
                 Et = St.parse;
 
             function At(e, t) {
                 return function(n, r, i) {
                     arguments.length < 3 && (i = r, r = null);
-                    var a = gt(n).mimeType(e);
+                    var a = dt(n).mimeType(e);
                     return a.row = function(e) {
-                        return arguments.length ? a.response(kt(t, r = e)) : r
+                        return arguments.length ? a.response(function(e, t) {
+                            return function(n) {
+                                return e(n.responseText, t)
+                            }
+                        }(t, r = e)) : r
                     }, a.row(r), i ? a.get(i) : a
                 }
             }
-
-            function kt(e, t) {
-                return function(n) {
-                    return e(n.responseText, t)
-                }
-            }
             St.parseRows, St.format, St.formatBody, St.formatRows, St.formatRow, St.formatValue, At("text/csv", Et);
-            var Mt = wt("\t"),
-                Dt = Mt.parse;
-            Mt.parseRows, Mt.format, Mt.formatBody, Mt.formatRows, Mt.formatRow, Mt.formatValue, At("text/tab-separated-values", Dt);
-            var Ct = /^([A-Za-z]+:)?\/\//,
-                Ft = "file://",
-                Nt = ["mimeType", "responseType", "user", "password"];
+            var kt = wt("\t"),
+                Mt = kt.parse;
+            kt.parseRows, kt.format, kt.formatBody, kt.formatRows, kt.formatRow, kt.formatValue, At("text/tab-separated-values", Mt);
+            var Dt = /^([A-Za-z]+:)?\/\//,
+                Ct = "file://",
+                Ft = ["mimeType", "responseType", "user", "password"];
 
-            function Tt(e) {
+            function Nt(e) {
                 return {
                     options: e || {},
-                    sanitize: Rt,
-                    load: Pt,
-                    file: zt,
-                    http: Lt
+                    sanitize: Pt,
+                    load: Tt,
+                    file: Lt,
+                    http: Rt
                 }
             }
 
             function Ot(e, t) {
-                return (0, ke.extend)({}, e.options, t)
+                return (0, Ee.extend)({}, e.options, t)
             }
 
-            function Pt(e, t) {
+            function Tt(e, t) {
                 var n = this;
                 return n.sanitize(e, t).then((function(e) {
                     var r = e.href;
                     return e.localFile ? n.file(r) : n.http(r, t)
                 }))
             }
 
-            function Rt(e, t) {
+            function Pt(e, t) {
                 return t = Ot(this, t), new Promise((function(n, r) {
                     var i, a, o, u, s = {
                         href: null
                     };
-                    null != e && "string" == typeof e ? (a = Ct.test(e), (u = t.baseURL) && !a && (Ut(e, "/") || "/" === u[u.length - 1] || (e = "/" + e), e = u + e), o = (i = Ut(e, Ft)) || "file" === t.mode || "http" !== t.mode && !a && It(), i ? e = e.slice(Ft.length) : Ut(e, "//") && ("file" === t.defaultProtocol ? (e = e.slice(2), o = !0) : e = (t.defaultProtocol || "http") + ":" + e), Object.defineProperty(s, "localFile", {
+                    null != e && "string" == typeof e ? (a = Dt.test(e), (u = t.baseURL) && !a && (It(e, "/") || "/" === u[u.length - 1] || (e = "/" + e), e = u + e), o = (i = It(e, Ct)) || "file" === t.mode || "http" !== t.mode && !a && zt(), i ? e = e.slice(Ct.length) : It(e, "//") && ("file" === t.defaultProtocol ? (e = e.slice(2), o = !0) : e = (t.defaultProtocol || "http") + ":" + e), Object.defineProperty(s, "localFile", {
                         value: !!o
-                    }), s.href = e, t.target && (s.target = t.target + ""), n(s)) : r("Sanitize failure, invalid URI: " + (0, ke.stringValue)(e))
+                    }), s.href = e, t.target && (s.target = t.target + ""), n(s)) : r("Sanitize failure, invalid URI: " + (0, Ee.stringValue)(e))
                 }))
             }
 
-            function Lt(e, t) {
+            function Rt(e, t) {
                 return t = Ot(this, t), new Promise((function(n, r) {
-                    var i, a = gt(e);
+                    var i, a = dt(e);
                     for (i in t.headers) a.header(i, t.headers[i]);
-                    Nt.forEach((function(e) {
+                    Ft.forEach((function(e) {
                         t[e] && a[e](t[e])
                     })), a.on("error", (function(t) {
                         r(t || "Error loading URL: " + e)
                     })).on("load", (function(e) {
                         var t = e && e.responseText;
                         e && 0 !== e.status ? n(t) : r(t || "Error")
                     })).get()
                 }))
             }
 
-            function zt(e) {
+            function Lt(e) {
                 return new Promise((function(t, n) {
-                    var r = It();
+                    var r = zt();
                     r ? r.readFile(e, (function(e, r) {
                         e ? n(e) : t(r)
                     })) : n("No file system access for " + e)
                 }))
             }
 
-            function It() {
+            function zt() {
                 var e = n(1045);
-                return e && (0, ke.isFunction)(e.readFile) ? e : null
+                return e && (0, Ee.isFunction)(e.readFile) ? e : null
             }
 
-            function Ut(e, t) {
+            function It(e, t) {
                 return null != e && 0 === e.lastIndexOf(t, 0)
             }
             var jt = {
-                    boolean: ke.toBoolean,
-                    integer: ke.toNumber,
-                    number: ke.toNumber,
-                    date: ke.toDate,
-                    string: ke.toString,
-                    unknown: ke.identity
+                    boolean: Ee.toBoolean,
+                    integer: Ee.toNumber,
+                    number: Ee.toNumber,
+                    date: Ee.toDate,
+                    string: Ee.toString,
+                    unknown: Ee.identity
                 },
                 Bt = [function(e) {
                     return "true" === e || "false" === e || !0 === e || !1 === e
                 }, function(e) {
-                    return Yt(e) && (e = +e) == ~~e
-                }, Yt, function(e) {
+                    return Wt(e) && (e = +e) == ~~e
+                }, Wt, function(e) {
                     return !isNaN(Date.parse(e))
                 }],
-                qt = ["boolean", "integer", "number", "date"];
+                Ut = ["boolean", "integer", "number", "date"];
 
-            function Ht(e, t) {
+            function qt(e, t) {
                 if (!e || !e.length) return "unknown";
                 var n, r, i, a, o, u = Bt.slice();
                 for (r = 0, i = e.length; r < i; ++r) {
                     for (n = t ? e[r][t] : e[r], a = 0; a < u.length; ++a) null == (o = n) || o != o || u[a](n) || (u.splice(a, 1), --a);
                     if (0 === u.length) return "string"
                 }
-                return qt[Bt.indexOf(u[0])]
+                return Ut[Bt.indexOf(u[0])]
             }
 
-            function Wt(e, t) {
+            function Ht(e, t) {
                 return t.reduce((function(t, n) {
-                    return t[n] = Ht(e, n), t
+                    return t[n] = qt(e, n), t
                 }), {})
             }
 
-            function Yt(e) {
+            function Wt(e) {
                 return !(isNaN(+e) || e instanceof Date)
             }
 
             function Vt(e) {
                 return function(t, n) {
                     var r = {
                         delimiter: e
                     };
-                    return Gt(t, n ? (0, ke.extend)(n, r) : r)
+                    return Gt(t, n ? (0, Ee.extend)(n, r) : r)
                 }
             }
 
             function Gt(e, t) {
-                return t.header && (e = t.header.map(ke.stringValue).join(t.delimiter) + "\n" + e), wt(t.delimiter).parse(e + "")
+                return t.header && (e = t.header.map(Ee.stringValue).join(t.delimiter) + "\n" + e), wt(t.delimiter).parse(e + "")
             }
 
-            function Xt(e, t) {
-                var n, r = t && t.property ? (0, ke.field)(t.property) : ke.identity;
-                return !(0, ke.isObject)(e) || (n = e, "function" == typeof Buffer && (0, ke.isFunction)(Buffer.isBuffer) && Buffer.isBuffer(n)) ? r(JSON.parse(e)) : function(e, t) {
+            function Yt(e, t) {
+                var n, r = t && t.property ? (0, Ee.field)(t.property) : Ee.identity;
+                return !(0, Ee.isObject)(e) || (n = e, "function" == typeof Buffer && (0, Ee.isFunction)(Buffer.isBuffer) && Buffer.isBuffer(n)) ? r(JSON.parse(e)) : function(e, t) {
                     return e
                 }(r(e))
             }
 
-            function $t(e) {
+            function Xt(e) {
                 return e
             }
 
-            function Kt(e, t) {
+            function $t(e, t) {
                 return "string" == typeof t && (t = e.objects[t]), "GeometryCollection" === t.type ? {
                     type: "FeatureCollection",
                     features: t.geometries.map((function(t) {
-                        return Jt(e, t)
+                        return Kt(e, t)
                     }))
-                } : Jt(e, t)
+                } : Kt(e, t)
             }
 
-            function Jt(e, t) {
+            function Kt(e, t) {
                 var n = t.id,
                     r = t.bbox,
                     i = null == t.properties ? {} : t.properties,
-                    a = Qt(e, t);
+                    a = Jt(e, t);
                 return null == n && null == r ? {
                     type: "Feature",
                     properties: i,
                     geometry: a
                 } : null == r ? {
                     type: "Feature",
                     id: n,
@@ -2264,17 +2259,17 @@
                     id: n,
                     bbox: r,
                     properties: i,
                     geometry: a
                 }
             }
 
-            function Qt(e, t) {
+            function Jt(e, t) {
                 var n = function(e) {
-                        if (null == e) return $t;
+                        if (null == e) return Xt;
                         var t, n, r = e.scale[0],
                             i = e.scale[1],
                             a = e.translate[0],
                             o = e.translate[1];
                         return function(e, u) {
                             u || (t = n = 0);
                             var s = 2,
@@ -2342,15 +2337,15 @@
                     return {
                         type: r,
                         coordinates: n
                     }
                 }(t)
             }
 
-            function Zt(e, t) {
+            function Qt(e, t) {
                 var n = {},
                     r = {},
                     i = {},
                     a = [],
                     o = -1;
 
                 function u(e, t) {
@@ -2388,89 +2383,87 @@
                         } else r[n.start] = i[n.end] = n;
                     else r[(n = [t]).start = u] = i[n.end = s] = n
                 })), u(i, r), u(r, i), t.forEach((function(e) {
                     n[e < 0 ? ~e : e] || a.push([e])
                 })), a
             }
 
-            function en(e) {
-                return Qt(e, tn.apply(this, arguments))
+            function Zt(e) {
+                return Jt(e, en.apply(this, arguments))
             }
 
-            function tn(e, t, n) {
+            function en(e, t, n) {
                 var r, i, a;
-                if (arguments.length > 1) r = nn(0, t, n);
+                if (arguments.length > 1) r = function(e, t, n) {
+                    var r, i = [],
+                        a = [];
+
+                    function o(e) {
+                        var t = e < 0 ? ~e : e;
+                        (a[t] || (a[t] = [])).push({
+                            i: e,
+                            g: r
+                        })
+                    }
+
+                    function u(e) {
+                        e.forEach(o)
+                    }
+
+                    function s(e) {
+                        e.forEach(u)
+                    }
+                    return function e(t) {
+                        switch (r = t, t.type) {
+                            case "GeometryCollection":
+                                t.geometries.forEach(e);
+                                break;
+                            case "LineString":
+                                u(t.arcs);
+                                break;
+                            case "MultiLineString":
+                            case "Polygon":
+                                s(t.arcs);
+                                break;
+                            case "MultiPolygon":
+                                ! function(e) {
+                                    e.forEach(s)
+                                }(t.arcs)
+                        }
+                    }(t), a.forEach(null == n ? function(e) {
+                        i.push(e[0].i)
+                    } : function(e) {
+                        n(e[0].g, e[e.length - 1].g) && i.push(e[0].i)
+                    }), i
+                }(0, t, n);
                 else
                     for (i = 0, r = new Array(a = e.arcs.length); i < a; ++i) r[i] = i;
                 return {
                     type: "MultiLineString",
-                    arcs: Zt(e, r)
+                    arcs: Qt(e, r)
                 }
             }
-
-            function nn(e, t, n) {
-                var r, i = [],
-                    a = [];
-
-                function o(e) {
-                    var t = e < 0 ? ~e : e;
-                    (a[t] || (a[t] = [])).push({
-                        i: e,
-                        g: r
-                    })
-                }
-
-                function u(e) {
-                    e.forEach(o)
-                }
-
-                function s(e) {
-                    e.forEach(u)
-                }
-                return function e(t) {
-                    switch (r = t, t.type) {
-                        case "GeometryCollection":
-                            t.geometries.forEach(e);
-                            break;
-                        case "LineString":
-                            u(t.arcs);
-                            break;
-                        case "MultiLineString":
-                        case "Polygon":
-                            s(t.arcs);
-                            break;
-                        case "MultiPolygon":
-                            ! function(e) {
-                                e.forEach(s)
-                            }(t.arcs)
-                    }
-                }(t), a.forEach(null == n ? function(e) {
-                    i.push(e[0].i)
-                } : function(e) {
-                    n(e[0].g, e[e.length - 1].g) && i.push(e[0].i)
-                }), i
-            }
-            var rn = {
+            var tn = {
                 dsv: Gt,
                 csv: Vt(","),
                 tsv: Vt("\t"),
-                json: Xt,
+                json: Yt,
                 topojson: function(e, t) {
                     var n, r, i;
-                    return e = Xt(e, t), n = t && (i = t.feature) ? Kt : t && (i = t.mesh) ? en : (0, ke.error)("Missing TopoJSON feature or mesh parameter."), (r = (r = e.objects[i]) ? n(e, r) : (0, ke.error)("Invalid TopoJSON object: " + i)) && r.features || [r]
+                    return e = Yt(e, t), n = t && (i = t.feature) ? $t : t && (i = t.mesh) ? Zt : (0, Ee.error)("Missing TopoJSON feature or mesh parameter."), (r = (r = e.objects[i]) ? n(e, r) : (0, Ee.error)("Invalid TopoJSON object: " + i)) && r.features || [r]
                 }
             };
 
-            function an(e, t) {
-                return arguments.length > 1 ? (rn[e] = t, this) : rn.hasOwnProperty(e) ? rn[e] : null
+            function nn(e, t) {
+                return arguments.length > 1 ? (tn[e] = t, this) : tn.hasOwnProperty(e) ? tn[e] : null
             }
-            var on = new Date,
-                un = new Date;
+            var rn = new Date,
+                an = new Date;
 
-            function sn(e, t, n, r) {
+            function on(e, t, n, r) {
                 function i(t) {
                     return e(t = 0 === arguments.length ? new Date : new Date(+t)), t
                 }
                 return i.floor = function(t) {
                     return e(t = new Date(+t)), t
                 }, i.ceil = function(n) {
                     return e(n = new Date(n - 1)), t(n, 1), e(n), n
@@ -2484,531 +2477,534 @@
                     var o, u = [];
                     if (n = i.ceil(n), a = null == a ? 1 : Math.floor(a), !(n < r && a > 0)) return u;
                     do {
                         u.push(o = new Date(+n)), t(n, a), e(n)
                     } while (o < n && n < r);
                     return u
                 }, i.filter = function(n) {
-                    return sn((function(t) {
+                    return on((function(t) {
                         if (t >= t)
                             for (; e(t), !n(t);) t.setTime(t - 1)
                     }), (function(e, r) {
                         if (e >= e)
                             if (r < 0)
                                 for (; ++r <= 0;)
                                     for (; t(e, -1), !n(e););
                             else
                                 for (; --r >= 0;)
                                     for (; t(e, 1), !n(e););
                     }))
                 }, n && (i.count = function(t, r) {
-                    return on.setTime(+t), un.setTime(+r), e(on), e(un), Math.floor(n(on, un))
+                    return rn.setTime(+t), an.setTime(+r), e(rn), e(an), Math.floor(n(rn, an))
                 }, i.every = function(e) {
                     return e = Math.floor(e), isFinite(e) && e > 0 ? e > 1 ? i.filter(r ? function(t) {
                         return r(t) % e == 0
                     } : function(t) {
                         return i.count(0, t) % e == 0
                     }) : i : null
                 }), i
             }
-            var ln = 864e5,
-                cn = 6048e5;
+            var un = 1e3,
+                sn = 6e4,
+                ln = 36e5,
+                cn = 864e5,
+                fn = 6048e5;
 
-            function fn(e) {
-                return sn((function(t) {
+            function dn(e) {
+                return on((function(t) {
                     t.setUTCDate(t.getUTCDate() - (t.getUTCDay() + 7 - e) % 7), t.setUTCHours(0, 0, 0, 0)
                 }), (function(e, t) {
                     e.setUTCDate(e.getUTCDate() + 7 * t)
                 }), (function(e, t) {
-                    return (t - e) / cn
+                    return (t - e) / fn
                 }))
             }
-            var dn = fn(0),
-                hn = fn(1),
-                pn = fn(2),
-                gn = fn(3),
-                mn = fn(4),
-                vn = fn(5),
-                yn = fn(6),
-                bn = (dn.range, hn.range, pn.range, gn.range, mn.range, vn.range, yn.range, sn((function(e) {
+            var hn = dn(0),
+                pn = dn(1),
+                gn = dn(2),
+                mn = dn(3),
+                vn = dn(4),
+                yn = dn(5),
+                bn = dn(6),
+                _n = (hn.range, pn.range, gn.range, mn.range, vn.range, yn.range, bn.range, on((function(e) {
                     e.setUTCHours(0, 0, 0, 0)
                 }), (function(e, t) {
                     e.setUTCDate(e.getUTCDate() + t)
                 }), (function(e, t) {
-                    return (t - e) / ln
+                    return (t - e) / cn
                 }), (function(e) {
                     return e.getUTCDate() - 1
                 })));
-            const _n = bn;
+            const xn = _n;
 
-            function xn(e) {
-                return sn((function(t) {
+            function wn(e) {
+                return on((function(t) {
                     t.setDate(t.getDate() - (t.getDay() + 7 - e) % 7), t.setHours(0, 0, 0, 0)
                 }), (function(e, t) {
                     e.setDate(e.getDate() + 7 * t)
                 }), (function(e, t) {
-                    return (t - e - 6e4 * (t.getTimezoneOffset() - e.getTimezoneOffset())) / cn
+                    return (t - e - (t.getTimezoneOffset() - e.getTimezoneOffset()) * sn) / fn
                 }))
             }
-            bn.range;
-            var wn = xn(0),
-                Sn = xn(1),
-                En = xn(2),
-                An = xn(3),
-                kn = xn(4),
-                Mn = xn(5),
-                Dn = xn(6),
-                Cn = (wn.range, Sn.range, En.range, An.range, kn.range, Mn.range, Dn.range, sn((function(e) {
+            _n.range;
+            var Sn = wn(0),
+                En = wn(1),
+                An = wn(2),
+                kn = wn(3),
+                Mn = wn(4),
+                Dn = wn(5),
+                Cn = wn(6),
+                Fn = (Sn.range, En.range, An.range, kn.range, Mn.range, Dn.range, Cn.range, on((function(e) {
                     e.setHours(0, 0, 0, 0)
                 }), (function(e, t) {
                     e.setDate(e.getDate() + t)
                 }), (function(e, t) {
-                    return (t - e - 6e4 * (t.getTimezoneOffset() - e.getTimezoneOffset())) / ln
+                    return (t - e - (t.getTimezoneOffset() - e.getTimezoneOffset()) * sn) / cn
                 }), (function(e) {
                     return e.getDate() - 1
                 })));
-            const Fn = Cn;
-            Cn.range;
-            var Nn = sn((function(e) {
+            const Nn = Fn;
+            Fn.range;
+            var On = on((function(e) {
                 e.setMonth(0, 1), e.setHours(0, 0, 0, 0)
             }), (function(e, t) {
                 e.setFullYear(e.getFullYear() + t)
             }), (function(e, t) {
                 return t.getFullYear() - e.getFullYear()
             }), (function(e) {
                 return e.getFullYear()
             }));
-            Nn.every = function(e) {
-                return isFinite(e = Math.floor(e)) && e > 0 ? sn((function(t) {
+            On.every = function(e) {
+                return isFinite(e = Math.floor(e)) && e > 0 ? on((function(t) {
                     t.setFullYear(Math.floor(t.getFullYear() / e) * e), t.setMonth(0, 1), t.setHours(0, 0, 0, 0)
                 }), (function(t, n) {
                     t.setFullYear(t.getFullYear() + n * e)
                 })) : null
             };
-            const Tn = Nn;
-            Nn.range;
-            var On = sn((function(e) {
+            const Tn = On;
+            On.range;
+            var Pn = on((function(e) {
                 e.setUTCMonth(0, 1), e.setUTCHours(0, 0, 0, 0)
             }), (function(e, t) {
                 e.setUTCFullYear(e.getUTCFullYear() + t)
             }), (function(e, t) {
                 return t.getUTCFullYear() - e.getUTCFullYear()
             }), (function(e) {
                 return e.getUTCFullYear()
             }));
-            On.every = function(e) {
-                return isFinite(e = Math.floor(e)) && e > 0 ? sn((function(t) {
+            Pn.every = function(e) {
+                return isFinite(e = Math.floor(e)) && e > 0 ? on((function(t) {
                     t.setUTCFullYear(Math.floor(t.getUTCFullYear() / e) * e), t.setUTCMonth(0, 1), t.setUTCHours(0, 0, 0, 0)
                 }), (function(t, n) {
                     t.setUTCFullYear(t.getUTCFullYear() + n * e)
                 })) : null
             };
-            const Pn = On;
+            const Rn = Pn;
 
-            function Rn(e) {
+            function Ln(e) {
                 if (0 <= e.y && e.y < 100) {
                     var t = new Date(-1, e.m, e.d, e.H, e.M, e.S, e.L);
                     return t.setFullYear(e.y), t
                 }
                 return new Date(e.y, e.m, e.d, e.H, e.M, e.S, e.L)
             }
 
-            function Ln(e) {
+            function zn(e) {
                 if (0 <= e.y && e.y < 100) {
                     var t = new Date(Date.UTC(-1, e.m, e.d, e.H, e.M, e.S, e.L));
                     return t.setUTCFullYear(e.y), t
                 }
                 return new Date(Date.UTC(e.y, e.m, e.d, e.H, e.M, e.S, e.L))
             }
 
-            function zn(e, t, n) {
+            function In(e, t, n) {
                 return {
                     y: e,
                     m: t,
                     d: n,
                     H: 0,
                     M: 0,
                     S: 0,
                     L: 0
                 }
             }
-            On.range;
-            var In, Un, jn, Bn, qn, Hn = {
+            Pn.range;
+            var jn, Bn, Un, qn, Hn, Wn = {
                     "-": "",
                     _: " ",
                     0: "0"
                 },
-                Wn = /^\s*\d+/,
-                Yn = /^%/,
-                Vn = /[\\^$*+?|[\]().{}]/g;
+                Vn = /^\s*\d+/,
+                Gn = /^%/,
+                Yn = /[\\^$*+?|[\]().{}]/g;
 
-            function Gn(e, t, n) {
+            function Xn(e, t, n) {
                 var r = e < 0 ? "-" : "",
                     i = (r ? -e : e) + "",
                     a = i.length;
                 return r + (a < n ? new Array(n - a + 1).join(t) + i : i)
             }
 
-            function Xn(e) {
-                return e.replace(Vn, "\\$&")
-            }
-
             function $n(e) {
-                return new RegExp("^(?:" + e.map(Xn).join("|") + ")", "i")
+                return e.replace(Yn, "\\$&")
             }
 
             function Kn(e) {
+                return new RegExp("^(?:" + e.map($n).join("|") + ")", "i")
+            }
+
+            function Jn(e) {
                 for (var t = {}, n = -1, r = e.length; ++n < r;) t[e[n].toLowerCase()] = n;
                 return t
             }
 
-            function Jn(e, t, n) {
-                var r = Wn.exec(t.slice(n, n + 1));
+            function Qn(e, t, n) {
+                var r = Vn.exec(t.slice(n, n + 1));
                 return r ? (e.w = +r[0], n + r[0].length) : -1
             }
 
-            function Qn(e, t, n) {
-                var r = Wn.exec(t.slice(n, n + 1));
+            function Zn(e, t, n) {
+                var r = Vn.exec(t.slice(n, n + 1));
                 return r ? (e.u = +r[0], n + r[0].length) : -1
             }
 
-            function Zn(e, t, n) {
-                var r = Wn.exec(t.slice(n, n + 2));
+            function er(e, t, n) {
+                var r = Vn.exec(t.slice(n, n + 2));
                 return r ? (e.U = +r[0], n + r[0].length) : -1
             }
 
-            function er(e, t, n) {
-                var r = Wn.exec(t.slice(n, n + 2));
+            function tr(e, t, n) {
+                var r = Vn.exec(t.slice(n, n + 2));
                 return r ? (e.V = +r[0], n + r[0].length) : -1
             }
 
-            function tr(e, t, n) {
-                var r = Wn.exec(t.slice(n, n + 2));
+            function nr(e, t, n) {
+                var r = Vn.exec(t.slice(n, n + 2));
                 return r ? (e.W = +r[0], n + r[0].length) : -1
             }
 
-            function nr(e, t, n) {
-                var r = Wn.exec(t.slice(n, n + 4));
+            function rr(e, t, n) {
+                var r = Vn.exec(t.slice(n, n + 4));
                 return r ? (e.y = +r[0], n + r[0].length) : -1
             }
 
-            function rr(e, t, n) {
-                var r = Wn.exec(t.slice(n, n + 2));
+            function ir(e, t, n) {
+                var r = Vn.exec(t.slice(n, n + 2));
                 return r ? (e.y = +r[0] + (+r[0] > 68 ? 1900 : 2e3), n + r[0].length) : -1
             }
 
-            function ir(e, t, n) {
+            function ar(e, t, n) {
                 var r = /^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n, n + 6));
                 return r ? (e.Z = r[1] ? 0 : -(r[2] + (r[3] || "00")), n + r[0].length) : -1
             }
 
-            function ar(e, t, n) {
-                var r = Wn.exec(t.slice(n, n + 1));
+            function or(e, t, n) {
+                var r = Vn.exec(t.slice(n, n + 1));
                 return r ? (e.q = 3 * r[0] - 3, n + r[0].length) : -1
             }
 
-            function or(e, t, n) {
-                var r = Wn.exec(t.slice(n, n + 2));
+            function ur(e, t, n) {
+                var r = Vn.exec(t.slice(n, n + 2));
                 return r ? (e.m = r[0] - 1, n + r[0].length) : -1
             }
 
-            function ur(e, t, n) {
-                var r = Wn.exec(t.slice(n, n + 2));
+            function sr(e, t, n) {
+                var r = Vn.exec(t.slice(n, n + 2));
                 return r ? (e.d = +r[0], n + r[0].length) : -1
             }
 
-            function sr(e, t, n) {
-                var r = Wn.exec(t.slice(n, n + 3));
+            function lr(e, t, n) {
+                var r = Vn.exec(t.slice(n, n + 3));
                 return r ? (e.m = 0, e.d = +r[0], n + r[0].length) : -1
             }
 
-            function lr(e, t, n) {
-                var r = Wn.exec(t.slice(n, n + 2));
+            function cr(e, t, n) {
+                var r = Vn.exec(t.slice(n, n + 2));
                 return r ? (e.H = +r[0], n + r[0].length) : -1
             }
 
-            function cr(e, t, n) {
-                var r = Wn.exec(t.slice(n, n + 2));
+            function fr(e, t, n) {
+                var r = Vn.exec(t.slice(n, n + 2));
                 return r ? (e.M = +r[0], n + r[0].length) : -1
             }
 
-            function fr(e, t, n) {
-                var r = Wn.exec(t.slice(n, n + 2));
+            function dr(e, t, n) {
+                var r = Vn.exec(t.slice(n, n + 2));
                 return r ? (e.S = +r[0], n + r[0].length) : -1
             }
 
-            function dr(e, t, n) {
-                var r = Wn.exec(t.slice(n, n + 3));
+            function hr(e, t, n) {
+                var r = Vn.exec(t.slice(n, n + 3));
                 return r ? (e.L = +r[0], n + r[0].length) : -1
             }
 
-            function hr(e, t, n) {
-                var r = Wn.exec(t.slice(n, n + 6));
+            function pr(e, t, n) {
+                var r = Vn.exec(t.slice(n, n + 6));
                 return r ? (e.L = Math.floor(r[0] / 1e3), n + r[0].length) : -1
             }
 
-            function pr(e, t, n) {
-                var r = Yn.exec(t.slice(n, n + 1));
+            function gr(e, t, n) {
+                var r = Gn.exec(t.slice(n, n + 1));
                 return r ? n + r[0].length : -1
             }
 
-            function gr(e, t, n) {
-                var r = Wn.exec(t.slice(n));
+            function mr(e, t, n) {
+                var r = Vn.exec(t.slice(n));
                 return r ? (e.Q = +r[0], n + r[0].length) : -1
             }
 
-            function mr(e, t, n) {
-                var r = Wn.exec(t.slice(n));
+            function vr(e, t, n) {
+                var r = Vn.exec(t.slice(n));
                 return r ? (e.s = +r[0], n + r[0].length) : -1
             }
 
-            function vr(e, t) {
-                return Gn(e.getDate(), t, 2)
-            }
-
             function yr(e, t) {
-                return Gn(e.getHours(), t, 2)
+                return Xn(e.getDate(), t, 2)
             }
 
             function br(e, t) {
-                return Gn(e.getHours() % 12 || 12, t, 2)
+                return Xn(e.getHours(), t, 2)
             }
 
             function _r(e, t) {
-                return Gn(1 + Fn.count(Tn(e), e), t, 3)
+                return Xn(e.getHours() % 12 || 12, t, 2)
             }
 
             function xr(e, t) {
-                return Gn(e.getMilliseconds(), t, 3)
+                return Xn(1 + Nn.count(Tn(e), e), t, 3)
             }
 
             function wr(e, t) {
-                return xr(e, t) + "000"
+                return Xn(e.getMilliseconds(), t, 3)
             }
 
             function Sr(e, t) {
-                return Gn(e.getMonth() + 1, t, 2)
+                return wr(e, t) + "000"
             }
 
             function Er(e, t) {
-                return Gn(e.getMinutes(), t, 2)
+                return Xn(e.getMonth() + 1, t, 2)
             }
 
             function Ar(e, t) {
-                return Gn(e.getSeconds(), t, 2)
+                return Xn(e.getMinutes(), t, 2)
+            }
+
+            function kr(e, t) {
+                return Xn(e.getSeconds(), t, 2)
             }
 
-            function kr(e) {
+            function Mr(e) {
                 var t = e.getDay();
                 return 0 === t ? 7 : t
             }
 
-            function Mr(e, t) {
-                return Gn(wn.count(Tn(e) - 1, e), t, 2)
+            function Dr(e, t) {
+                return Xn(Sn.count(Tn(e) - 1, e), t, 2)
             }
 
-            function Dr(e) {
+            function Cr(e) {
                 var t = e.getDay();
-                return t >= 4 || 0 === t ? kn(e) : kn.ceil(e)
+                return t >= 4 || 0 === t ? Mn(e) : Mn.ceil(e)
             }
 
-            function Cr(e, t) {
-                return e = Dr(e), Gn(kn.count(Tn(e), e) + (4 === Tn(e).getDay()), t, 2)
+            function Fr(e, t) {
+                return e = Cr(e), Xn(Mn.count(Tn(e), e) + (4 === Tn(e).getDay()), t, 2)
             }
 
-            function Fr(e) {
+            function Nr(e) {
                 return e.getDay()
             }
 
-            function Nr(e, t) {
-                return Gn(Sn.count(Tn(e) - 1, e), t, 2)
+            function Or(e, t) {
+                return Xn(En.count(Tn(e) - 1, e), t, 2)
             }
 
             function Tr(e, t) {
-                return Gn(e.getFullYear() % 100, t, 2)
-            }
-
-            function Or(e, t) {
-                return Gn((e = Dr(e)).getFullYear() % 100, t, 2)
+                return Xn(e.getFullYear() % 100, t, 2)
             }
 
             function Pr(e, t) {
-                return Gn(e.getFullYear() % 1e4, t, 4)
+                return Xn((e = Cr(e)).getFullYear() % 100, t, 2)
             }
 
             function Rr(e, t) {
-                var n = e.getDay();
-                return Gn((e = n >= 4 || 0 === n ? kn(e) : kn.ceil(e)).getFullYear() % 1e4, t, 4)
+                return Xn(e.getFullYear() % 1e4, t, 4)
             }
 
-            function Lr(e) {
-                var t = e.getTimezoneOffset();
-                return (t > 0 ? "-" : (t *= -1, "+")) + Gn(t / 60 | 0, "0", 2) + Gn(t % 60, "0", 2)
+            function Lr(e, t) {
+                var n = e.getDay();
+                return Xn((e = n >= 4 || 0 === n ? Mn(e) : Mn.ceil(e)).getFullYear() % 1e4, t, 4)
             }
 
-            function zr(e, t) {
-                return Gn(e.getUTCDate(), t, 2)
+            function zr(e) {
+                var t = e.getTimezoneOffset();
+                return (t > 0 ? "-" : (t *= -1, "+")) + Xn(t / 60 | 0, "0", 2) + Xn(t % 60, "0", 2)
             }
 
             function Ir(e, t) {
-                return Gn(e.getUTCHours(), t, 2)
-            }
-
-            function Ur(e, t) {
-                return Gn(e.getUTCHours() % 12 || 12, t, 2)
+                return Xn(e.getUTCDate(), t, 2)
             }
 
             function jr(e, t) {
-                return Gn(1 + _n.count(Pn(e), e), t, 3)
+                return Xn(e.getUTCHours(), t, 2)
             }
 
             function Br(e, t) {
-                return Gn(e.getUTCMilliseconds(), t, 3)
+                return Xn(e.getUTCHours() % 12 || 12, t, 2)
+            }
+
+            function Ur(e, t) {
+                return Xn(1 + xn.count(Rn(e), e), t, 3)
             }
 
             function qr(e, t) {
-                return Br(e, t) + "000"
+                return Xn(e.getUTCMilliseconds(), t, 3)
             }
 
             function Hr(e, t) {
-                return Gn(e.getUTCMonth() + 1, t, 2)
+                return qr(e, t) + "000"
             }
 
             function Wr(e, t) {
-                return Gn(e.getUTCMinutes(), t, 2)
+                return Xn(e.getUTCMonth() + 1, t, 2)
             }
 
-            function Yr(e, t) {
-                return Gn(e.getUTCSeconds(), t, 2)
+            function Vr(e, t) {
+                return Xn(e.getUTCMinutes(), t, 2)
             }
 
-            function Vr(e) {
+            function Gr(e, t) {
+                return Xn(e.getUTCSeconds(), t, 2)
+            }
+
+            function Yr(e) {
                 var t = e.getUTCDay();
                 return 0 === t ? 7 : t
             }
 
-            function Gr(e, t) {
-                return Gn(dn.count(Pn(e) - 1, e), t, 2)
+            function Xr(e, t) {
+                return Xn(hn.count(Rn(e) - 1, e), t, 2)
             }
 
-            function Xr(e) {
+            function $r(e) {
                 var t = e.getUTCDay();
-                return t >= 4 || 0 === t ? mn(e) : mn.ceil(e)
+                return t >= 4 || 0 === t ? vn(e) : vn.ceil(e)
             }
 
-            function $r(e, t) {
-                return e = Xr(e), Gn(mn.count(Pn(e), e) + (4 === Pn(e).getUTCDay()), t, 2)
+            function Kr(e, t) {
+                return e = $r(e), Xn(vn.count(Rn(e), e) + (4 === Rn(e).getUTCDay()), t, 2)
             }
 
-            function Kr(e) {
+            function Jr(e) {
                 return e.getUTCDay()
             }
 
-            function Jr(e, t) {
-                return Gn(hn.count(Pn(e) - 1, e), t, 2)
-            }
-
             function Qr(e, t) {
-                return Gn(e.getUTCFullYear() % 100, t, 2)
+                return Xn(pn.count(Rn(e) - 1, e), t, 2)
             }
 
             function Zr(e, t) {
-                return Gn((e = Xr(e)).getUTCFullYear() % 100, t, 2)
+                return Xn(e.getUTCFullYear() % 100, t, 2)
             }
 
             function ei(e, t) {
-                return Gn(e.getUTCFullYear() % 1e4, t, 4)
+                return Xn((e = $r(e)).getUTCFullYear() % 100, t, 2)
             }
 
             function ti(e, t) {
+                return Xn(e.getUTCFullYear() % 1e4, t, 4)
+            }
+
+            function ni(e, t) {
                 var n = e.getUTCDay();
-                return Gn((e = n >= 4 || 0 === n ? mn(e) : mn.ceil(e)).getUTCFullYear() % 1e4, t, 4)
+                return Xn((e = n >= 4 || 0 === n ? vn(e) : vn.ceil(e)).getUTCFullYear() % 1e4, t, 4)
             }
 
-            function ni() {
+            function ri() {
                 return "+0000"
             }
 
-            function ri() {
+            function ii() {
                 return "%"
             }
 
-            function ii(e) {
+            function ai(e) {
                 return +e
             }
 
-            function ai(e) {
+            function oi(e) {
                 return Math.floor(+e / 1e3)
             }
 
-            function oi(e) {
-                return In = function(e) {
+            function ui(e) {
+                return jn = function(e) {
                     var t = e.dateTime,
                         n = e.date,
                         r = e.time,
                         i = e.periods,
                         a = e.days,
                         o = e.shortDays,
                         u = e.months,
                         s = e.shortMonths,
-                        l = $n(i),
-                        c = Kn(i),
-                        f = $n(a),
-                        d = Kn(a),
-                        h = $n(o),
-                        p = Kn(o),
-                        g = $n(u),
-                        m = Kn(u),
-                        v = $n(s),
-                        y = Kn(s),
+                        l = Kn(i),
+                        c = Jn(i),
+                        f = Kn(a),
+                        d = Jn(a),
+                        h = Kn(o),
+                        p = Jn(o),
+                        g = Kn(u),
+                        m = Jn(u),
+                        v = Kn(s),
+                        y = Jn(s),
                         b = {
                             a: function(e) {
                                 return o[e.getDay()]
                             },
                             A: function(e) {
                                 return a[e.getDay()]
                             },
                             b: function(e) {
                                 return s[e.getMonth()]
                             },
                             B: function(e) {
                                 return u[e.getMonth()]
                             },
                             c: null,
-                            d: vr,
-                            e: vr,
-                            f: wr,
-                            g: Or,
-                            G: Rr,
-                            H: yr,
-                            I: br,
-                            j: _r,
-                            L: xr,
-                            m: Sr,
-                            M: Er,
+                            d: yr,
+                            e: yr,
+                            f: Sr,
+                            g: Pr,
+                            G: Lr,
+                            H: br,
+                            I: _r,
+                            j: xr,
+                            L: wr,
+                            m: Er,
+                            M: Ar,
                             p: function(e) {
                                 return i[+(e.getHours() >= 12)]
                             },
                             q: function(e) {
                                 return 1 + ~~(e.getMonth() / 3)
                             },
-                            Q: ii,
-                            s: ai,
-                            S: Ar,
-                            u: kr,
-                            U: Mr,
-                            V: Cr,
-                            w: Fr,
-                            W: Nr,
+                            Q: ai,
+                            s: oi,
+                            S: kr,
+                            u: Mr,
+                            U: Dr,
+                            V: Fr,
+                            w: Nr,
+                            W: Or,
                             x: null,
                             X: null,
                             y: Tr,
-                            Y: Pr,
-                            Z: Lr,
-                            "%": ri
+                            Y: Rr,
+                            Z: zr,
+                            "%": ii
                         },
                         _ = {
                             a: function(e) {
                                 return o[e.getUTCDay()]
                             },
                             A: function(e) {
                                 return a[e.getUTCDay()]
@@ -3016,45 +3012,45 @@
                             b: function(e) {
                                 return s[e.getUTCMonth()]
                             },
                             B: function(e) {
                                 return u[e.getUTCMonth()]
                             },
                             c: null,
-                            d: zr,
-                            e: zr,
-                            f: qr,
-                            g: Zr,
-                            G: ti,
-                            H: Ir,
-                            I: Ur,
-                            j: jr,
-                            L: Br,
-                            m: Hr,
-                            M: Wr,
+                            d: Ir,
+                            e: Ir,
+                            f: Hr,
+                            g: ei,
+                            G: ni,
+                            H: jr,
+                            I: Br,
+                            j: Ur,
+                            L: qr,
+                            m: Wr,
+                            M: Vr,
                             p: function(e) {
                                 return i[+(e.getUTCHours() >= 12)]
                             },
                             q: function(e) {
                                 return 1 + ~~(e.getUTCMonth() / 3)
                             },
-                            Q: ii,
-                            s: ai,
-                            S: Yr,
-                            u: Vr,
-                            U: Gr,
-                            V: $r,
-                            w: Kr,
-                            W: Jr,
+                            Q: ai,
+                            s: oi,
+                            S: Gr,
+                            u: Yr,
+                            U: Xr,
+                            V: Kr,
+                            w: Jr,
+                            W: Qr,
                             x: null,
                             X: null,
-                            y: Qr,
-                            Y: ei,
-                            Z: ni,
-                            "%": ri
+                            y: Zr,
+                            Y: ti,
+                            Z: ri,
+                            "%": ii
                         },
                         x = {
                             a: function(e, t, n) {
                                 var r = h.exec(t.slice(n));
                                 return r ? (e.w = p[r[0].toLowerCase()], n + r[0].length) : -1
                             },
                             A: function(e, t, n) {
@@ -3068,80 +3064,80 @@
                             B: function(e, t, n) {
                                 var r = g.exec(t.slice(n));
                                 return r ? (e.m = m[r[0].toLowerCase()], n + r[0].length) : -1
                             },
                             c: function(e, n, r) {
                                 return E(e, t, n, r)
                             },
-                            d: ur,
-                            e: ur,
-                            f: hr,
-                            g: rr,
-                            G: nr,
-                            H: lr,
-                            I: lr,
-                            j: sr,
-                            L: dr,
-                            m: or,
-                            M: cr,
+                            d: sr,
+                            e: sr,
+                            f: pr,
+                            g: ir,
+                            G: rr,
+                            H: cr,
+                            I: cr,
+                            j: lr,
+                            L: hr,
+                            m: ur,
+                            M: fr,
                             p: function(e, t, n) {
                                 var r = l.exec(t.slice(n));
                                 return r ? (e.p = c[r[0].toLowerCase()], n + r[0].length) : -1
                             },
-                            q: ar,
-                            Q: gr,
-                            s: mr,
-                            S: fr,
-                            u: Qn,
-                            U: Zn,
-                            V: er,
-                            w: Jn,
-                            W: tr,
+                            q: or,
+                            Q: mr,
+                            s: vr,
+                            S: dr,
+                            u: Zn,
+                            U: er,
+                            V: tr,
+                            w: Qn,
+                            W: nr,
                             x: function(e, t, r) {
                                 return E(e, n, t, r)
                             },
                             X: function(e, t, n) {
                                 return E(e, r, t, n)
                             },
-                            y: rr,
-                            Y: nr,
-                            Z: ir,
-                            "%": pr
+                            y: ir,
+                            Y: rr,
+                            Z: ar,
+                            "%": gr
                         };
 
                     function w(e, t) {
                         return function(n) {
                             var r, i, a, o = [],
                                 u = -1,
                                 s = 0,
                                 l = e.length;
-                            for (n instanceof Date || (n = new Date(+n)); ++u < l;) 37 === e.charCodeAt(u) && (o.push(e.slice(s, u)), null != (i = Hn[r = e.charAt(++u)]) ? r = e.charAt(++u) : i = "e" === r ? " " : "0", (a = t[r]) && (r = a(n, i)), o.push(r), s = u + 1);
+                            for (n instanceof Date || (n = new Date(+n)); ++u < l;) 37 === e.charCodeAt(u) && (o.push(e.slice(s, u)), null != (i = Wn[r = e.charAt(++u)]) ? r = e.charAt(++u) : i = "e" === r ? " " : "0", (a = t[r]) && (r = a(n, i)), o.push(r), s = u + 1);
                             return o.push(e.slice(s, u)), o.join("")
                         }
                     }
 
                     function S(e, t) {
                         return function(n) {
-                            var r, i, a = zn(1900, void 0, 1);
+                            var r, i, a = In(1900, void 0, 1);
                             if (E(a, e, n += "", 0) != n.length) return null;
                             if ("Q" in a) return new Date(a.Q);
                             if ("s" in a) return new Date(1e3 * a.s + ("L" in a ? a.L : 0));
                             if (t && !("Z" in a) && (a.Z = 0), "p" in a && (a.H = a.H % 12 + 12 * a.p), void 0 === a.m && (a.m = "q" in a ? a.q : 0), "V" in a) {
                                 if (a.V < 1 || a.V > 53) return null;
-                                "w" in a || (a.w = 1), "Z" in a ? (i = (r = Ln(zn(a.y, 0, 1))).getUTCDay(), r = i > 4 || 0 === i ? hn.ceil(r) : hn(r), r = _n.offset(r, 7 * (a.V - 1)), a.y = r.getUTCFullYear(), a.m = r.getUTCMonth(), a.d = r.getUTCDate() + (a.w + 6) % 7) : (i = (r = Rn(zn(a.y, 0, 1))).getDay(), r = i > 4 || 0 === i ? Sn.ceil(r) : Sn(r), r = Fn.offset(r, 7 * (a.V - 1)), a.y = r.getFullYear(), a.m = r.getMonth(), a.d = r.getDate() + (a.w + 6) % 7)
-                            } else("W" in a || "U" in a) && ("w" in a || (a.w = "u" in a ? a.u % 7 : "W" in a ? 1 : 0), i = "Z" in a ? Ln(zn(a.y, 0, 1)).getUTCDay() : Rn(zn(a.y, 0, 1)).getDay(), a.m = 0, a.d = "W" in a ? (a.w + 6) % 7 + 7 * a.W - (i + 5) % 7 : a.w + 7 * a.U - (i + 6) % 7);
-                            return "Z" in a ? (a.H += a.Z / 100 | 0, a.M += a.Z % 100, Ln(a)) : Rn(a)
+                                "w" in a || (a.w = 1), "Z" in a ? (i = (r = zn(In(a.y, 0, 1))).getUTCDay(), r = i > 4 || 0 === i ? pn.ceil(r) : pn(r), r = xn.offset(r, 7 * (a.V - 1)), a.y = r.getUTCFullYear(), a.m = r.getUTCMonth(), a.d = r.getUTCDate() + (a.w + 6) % 7) : (i = (r = Ln(In(a.y, 0, 1))).getDay(), r = i > 4 || 0 === i ? En.ceil(r) : En(r), r = Nn.offset(r, 7 * (a.V - 1)), a.y = r.getFullYear(), a.m = r.getMonth(), a.d = r.getDate() + (a.w + 6) % 7)
+                            } else("W" in a || "U" in a) && ("w" in a || (a.w = "u" in a ? a.u % 7 : "W" in a ? 1 : 0), i = "Z" in a ? zn(In(a.y, 0, 1)).getUTCDay() : Ln(In(a.y, 0, 1)).getDay(), a.m = 0, a.d = "W" in a ? (a.w + 6) % 7 + 7 * a.W - (i + 5) % 7 : a.w + 7 * a.U - (i + 6) % 7);
+                            return "Z" in a ? (a.H += a.Z / 100 | 0, a.M += a.Z % 100, zn(a)) : Ln(a)
                         }
                     }
 
                     function E(e, t, n, r) {
                         for (var i, a, o = 0, u = t.length, s = n.length; o < u;) {
                             if (r >= s) return -1;
                             if (37 === (i = t.charCodeAt(o++))) {
-                                if (i = t.charAt(o++), !(a = x[i in Hn ? t.charAt(o++) : i]) || (r = a(e, n, r)) < 0) return -1
+                                if (i = t.charAt(o++), !(a = x[i in Wn ? t.charAt(o++) : i]) || (r = a(e, n, r)) < 0) return -1
                             } else if (i != n.charCodeAt(r++)) return -1
                         }
                         return r
                     }
                     return b.x = w(n, b), b.X = w(r, b), b.c = w(t, b), _.x = w(n, _), _.X = w(r, _), _.c = w(t, _), {
                         format: function(e) {
                             var t = w(e += "", b);
@@ -3164,284 +3160,284 @@
                         utcParse: function(e) {
                             var t = S(e += "", !0);
                             return t.toString = function() {
                                 return e
                             }, t
                         }
                     }
-                }(e), Un = In.format, jn = In.parse, Bn = In.utcFormat, qn = In.utcParse, In
+                }(e), Bn = jn.format, Un = jn.parse, qn = jn.utcFormat, Hn = jn.utcParse, jn
             }
 
-            function ui(e, t, n) {
-                var r = an((t = t || {}).type || "json");
-                return r || (0, ke.error)("Unknown data format type: " + t.type), e = r(e, t), t.parse && function(e, t, n) {
+            function si(e, t, n) {
+                var r = nn((t = t || {}).type || "json");
+                return r || (0, Ee.error)("Unknown data format type: " + t.type), e = r(e, t), t.parse && function(e, t, n) {
                     if (e.length) {
-                        n = n || jn;
+                        n = n || Un;
                         var r, i, a, o, u, s, l, c = e.columns || Object.keys(e[0]);
-                        for ("auto" === t && (t = Wt(e, c)), r = (c = Object.keys(t)).map((function(e) {
+                        for ("auto" === t && (t = Ht(e, c)), r = (c = Object.keys(t)).map((function(e) {
                                 var r, i, a = t[e];
-                                if (a && (0 === a.indexOf("date:") || 0 === a.indexOf("utc:"))) return ("'" === (i = (r = a.split(/:(.+)?/, 2))[1])[0] && "'" === i[i.length - 1] || '"' === i[0] && '"' === i[i.length - 1]) && (i = i.slice(1, -1)), "utc" === r[0] ? qn(i) : n(i);
+                                if (a && (0 === a.indexOf("date:") || 0 === a.indexOf("utc:"))) return ("'" === (i = (r = a.split(/:(.+)?/, 2))[1])[0] && "'" === i[i.length - 1] || '"' === i[0] && '"' === i[i.length - 1]) && (i = i.slice(1, -1)), "utc" === r[0] ? Hn(i) : n(i);
                                 if (!jt[a]) throw Error("Illegal format pattern: " + e + ":" + a);
                                 return jt[a]
                             })), o = 0, s = e.length, l = c.length; o < s; ++o)
                             for (i = e[o], u = 0; u < l; ++u) i[a = c[u]] = r[u](i[a])
                     }
                 }(e, t.parse, n), e.hasOwnProperty("columns") && delete e.columns, e
             }
-            oi({
+            ui({
                 dateTime: "%x, %X",
                 date: "%-m/%-d/%Y",
                 time: "%-I:%M:%S %p",
                 periods: ["AM", "PM"],
                 days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                 shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
                 months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                 shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
             });
-            var si = {
+            var li = {
                 skip: !0
             };
 
-            function li(e, t, n, r, i, a) {
-                var o, u, s = (0, ke.extend)({}, a, si);
-                (0, ke.isFunction)(n) || (n = (0, ke.constant)(n)), void 0 === r ? o = function(t) {
+            function ci(e, t, n, r, i, a) {
+                var o, u, s = (0, Ee.extend)({}, a, li);
+                (0, Ee.isFunction)(n) || (n = (0, Ee.constant)(n)), void 0 === r ? o = function(t) {
                     e.touch(n(t))
-                } : (0, ke.isFunction)(r) ? (u = new We(null, r, i, !1), o = function(t) {
+                } : (0, Ee.isFunction)(r) ? (u = new qe(null, r, i, !1), o = function(t) {
                     var r, i = n(t);
-                    u.evaluate(t), ze(r = u.value) ? e.pulse(i, r, a) : e.update(i, r, s)
+                    u.evaluate(t), Re(r = u.value) ? e.pulse(i, r, a) : e.update(i, r, s)
                 }) : o = function(t) {
                     e.update(n(t), r, s)
                 }, t.apply(o)
             }
 
-            function ci(e, t, n, r, i, a) {
+            function fi(e, t, n, r, i, a) {
                 var o, u;
-                void 0 === r ? u = n : (o = (0, ke.isFunction)(r) ? r : (0, ke.constant)(r), r = n ? function(e, t) {
+                void 0 === r ? u = n : (o = (0, Ee.isFunction)(r) ? r : (0, Ee.constant)(r), r = n ? function(e, t) {
                     var r = o(e, t);
                     return n.skip() ? r : n.skip(!0).value = r
-                } : o, (u = new We(null, r, i, !1)).modified(a && a.force), u.rank = 0, n && (u.skip(!0), u.value = n.value, u.targets().add(n))), t.targets().add(u)
+                } : o, (u = new qe(null, r, i, !1)).modified(a && a.force), u.rank = 0, n && (u.skip(!0), u.value = n.value, u.targets().add(n))), t.targets().add(u)
             }
-            var fi = {};
+            var di = {};
 
-            function di(e, t, n) {
+            function hi(e, t, n) {
                 this.dataflow = e, this.stamp = null == t ? -1 : t, this.add = [], this.rem = [], this.mod = [], this.fields = null, this.encode = n || null
             }
-            var hi = di.prototype;
+            var pi = hi.prototype;
 
-            function pi(e, t) {
+            function gi(e, t) {
                 return e ? function(n, r) {
                     return e(n, r) && t(n, r)
                 } : t
             }
 
-            function gi(e, t) {
+            function mi(e, t) {
                 var n = [];
-                return (0, ke.visitArray)(e, t, (function(e) {
+                return (0, Ee.visitArray)(e, t, (function(e) {
                     n.push(e)
                 })), n
             }
 
-            function mi(e, t) {
+            function vi(e, t) {
                 var n = {};
                 return e.visit(t, (function(e) {
-                        n[Ne(e)] = 1
+                        n[Ce(e)] = 1
                     })),
                     function(e) {
-                        return n[Ne(e)] ? null : e
+                        return n[Ce(e)] ? null : e
                     }
             }
 
-            function vi(e, t, n, r) {
+            function yi(e, t, n, r) {
                 var i, a, o, u, s, l = this,
                     c = 0;
                 for (this.dataflow = e, this.stamp = t, this.fields = null, this.encode = r || null, this.pulses = n, o = 0, u = n.length; o < u; ++o)
                     if ((i = n[o]).stamp === t) {
                         if (i.fields)
                             for (s in a = l.fields || (l.fields = {}), i.fields) a[s] = 1;
                         i.changed(l.ADD) && (c |= l.ADD), i.changed(l.REM) && (c |= l.REM), i.changed(l.MOD) && (c |= l.MOD)
                     } this.changes = c
             }
-            hi.StopPropagation = fi, hi.ADD = 1, hi.REM = 2, hi.MOD = 4, hi.ADD_REM = 3, hi.ADD_MOD = 5, hi.ALL = 7, hi.REFLOW = 8, hi.SOURCE = 16, hi.NO_SOURCE = 32, hi.NO_FIELDS = 64, hi.fork = function(e) {
-                return new di(this.dataflow).init(this, e)
-            }, hi.clone = function() {
+            pi.StopPropagation = di, pi.ADD = 1, pi.REM = 2, pi.MOD = 4, pi.ADD_REM = 3, pi.ADD_MOD = 5, pi.ALL = 7, pi.REFLOW = 8, pi.SOURCE = 16, pi.NO_SOURCE = 32, pi.NO_FIELDS = 64, pi.fork = function(e) {
+                return new hi(this.dataflow).init(this, e)
+            }, pi.clone = function() {
                 var e = this.fork(7);
                 return e.add = e.add.slice(), e.rem = e.rem.slice(), e.mod = e.mod.slice(), e.source && (e.source = e.source.slice()), e.materialize(23)
-            }, hi.addAll = function() {
+            }, pi.addAll = function() {
                 var e = this;
-                return this.source && this.source.length !== this.add.length ? ((e = new di(this.dataflow).init(this)).add = e.source, e) : e
-            }, hi.init = function(e, t) {
+                return this.source && this.source.length !== this.add.length ? ((e = new hi(this.dataflow).init(this)).add = e.source, e) : e
+            }, pi.init = function(e, t) {
                 var n = this;
                 return n.stamp = e.stamp, n.encode = e.encode, !e.fields || 64 & t || (n.fields = e.fields), 1 & t ? (n.addF = e.addF, n.add = e.add) : (n.addF = null, n.add = []), 2 & t ? (n.remF = e.remF, n.rem = e.rem) : (n.remF = null, n.rem = []), 4 & t ? (n.modF = e.modF, n.mod = e.mod) : (n.modF = null, n.mod = []), 32 & t ? (n.srcF = null, n.source = null) : (n.srcF = e.srcF, n.source = e.source), n
-            }, hi.runAfter = function(e) {
+            }, pi.runAfter = function(e) {
                 this.dataflow.runAfter(e)
-            }, hi.changed = function(e) {
+            }, pi.changed = function(e) {
                 var t = e || 7;
                 return 1 & t && this.add.length || 2 & t && this.rem.length || 4 & t && this.mod.length
-            }, hi.reflow = function(e) {
+            }, pi.reflow = function(e) {
                 if (e) return this.fork(7).reflow();
                 var t = this.add.length,
                     n = this.source && this.source.length;
-                return n && n !== t && (this.mod = this.source, t && this.filter(4, mi(this, 1))), this
-            }, hi.modifies = function(e) {
-                var t = (0, ke.array)(e),
+                return n && n !== t && (this.mod = this.source, t && this.filter(4, vi(this, 1))), this
+            }, pi.modifies = function(e) {
+                var t = (0, Ee.array)(e),
                     n = this.fields || (this.fields = {});
                 return t.forEach((function(e) {
                     n[e] = !0
                 })), this
-            }, hi.modified = function(e) {
+            }, pi.modified = function(e) {
                 var t = this.fields;
-                return !(!this.mod.length || !t) && (arguments.length ? (0, ke.isArray)(e) ? e.some((function(e) {
+                return !(!this.mod.length || !t) && (arguments.length ? (0, Ee.isArray)(e) ? e.some((function(e) {
                     return t[e]
                 })) : t[e] : !!t)
-            }, hi.filter = function(e, t) {
+            }, pi.filter = function(e, t) {
                 var n = this;
-                return 1 & e && (n.addF = pi(n.addF, t)), 2 & e && (n.remF = pi(n.remF, t)), 4 & e && (n.modF = pi(n.modF, t)), 16 & e && (n.srcF = pi(n.srcF, t)), n
-            }, hi.materialize = function(e) {
+                return 1 & e && (n.addF = gi(n.addF, t)), 2 & e && (n.remF = gi(n.remF, t)), 4 & e && (n.modF = gi(n.modF, t)), 16 & e && (n.srcF = gi(n.srcF, t)), n
+            }, pi.materialize = function(e) {
                 var t = this;
-                return 1 & (e = e || 7) && t.addF && (t.add = gi(t.add, t.addF), t.addF = null), 2 & e && t.remF && (t.rem = gi(t.rem, t.remF), t.remF = null), 4 & e && t.modF && (t.mod = gi(t.mod, t.modF), t.modF = null), 16 & e && t.srcF && (t.source = t.source.filter(t.srcF), t.srcF = null), t
-            }, hi.visit = function(e, t) {
+                return 1 & (e = e || 7) && t.addF && (t.add = mi(t.add, t.addF), t.addF = null), 2 & e && t.remF && (t.rem = mi(t.rem, t.remF), t.remF = null), 4 & e && t.modF && (t.mod = mi(t.mod, t.modF), t.modF = null), 16 & e && t.srcF && (t.source = t.source.filter(t.srcF), t.srcF = null), t
+            }, pi.visit = function(e, t) {
                 var n, r, i = this,
                     a = t;
-                return 16 & e ? ((0, ke.visitArray)(i.source, i.srcF, a), i) : (1 & e && (0, ke.visitArray)(i.add, i.addF, a), 2 & e && (0, ke.visitArray)(i.rem, i.remF, a), 4 & e && (0, ke.visitArray)(i.mod, i.modF, a), 8 & e && (n = i.source) && ((r = i.add.length + i.mod.length) === n.length || (r ? (0, ke.visitArray)(n, mi(i, 5), a) : (0, ke.visitArray)(n, i.srcF, a))), i)
+                return 16 & e ? ((0, Ee.visitArray)(i.source, i.srcF, a), i) : (1 & e && (0, Ee.visitArray)(i.add, i.addF, a), 2 & e && (0, Ee.visitArray)(i.rem, i.remF, a), 4 & e && (0, Ee.visitArray)(i.mod, i.modF, a), 8 & e && (n = i.source) && ((r = i.add.length + i.mod.length) === n.length || (r ? (0, Ee.visitArray)(n, vi(i, 5), a) : (0, Ee.visitArray)(n, i.srcF, a))), i)
             };
-            var yi = (0, ke.inherits)(vi, di);
+            var bi = (0, Ee.inherits)(yi, hi);
 
-            function bi(e, t) {
+            function _i(e, t) {
                 try {
                     t(e)
                 } catch (t) {
                     e.error(t)
                 }
             }
-            yi.fork = function(e) {
-                var t = new di(this.dataflow).init(this, e & this.NO_FIELDS);
+            bi.fork = function(e) {
+                var t = new hi(this.dataflow).init(this, e & this.NO_FIELDS);
                 return void 0 !== e && (e & t.ADD && this.visit(t.ADD, (function(e) {
                     return t.add.push(e)
                 })), e & t.REM && this.visit(t.REM, (function(e) {
                     return t.rem.push(e)
                 })), e & t.MOD && this.visit(t.MOD, (function(e) {
                     return t.mod.push(e)
                 }))), t
-            }, yi.changed = function(e) {
+            }, bi.changed = function(e) {
                 return this.changes & e
-            }, yi.modified = function(e) {
+            }, bi.modified = function(e) {
                 var t = this,
                     n = t.fields;
-                return n && t.changes & t.MOD ? (0, ke.isArray)(e) ? e.some((function(e) {
+                return n && t.changes & t.MOD ? (0, Ee.isArray)(e) ? e.some((function(e) {
                     return n[e]
                 })) : n[e] : 0
-            }, yi.filter = function() {
-                (0, ke.error)("MultiPulse does not support filtering.")
-            }, yi.materialize = function() {
-                (0, ke.error)("MultiPulse does not support materialization.")
-            }, yi.visit = function(e, t) {
+            }, bi.filter = function() {
+                (0, Ee.error)("MultiPulse does not support filtering.")
+            }, bi.materialize = function() {
+                (0, Ee.error)("MultiPulse does not support materialization.")
+            }, bi.visit = function(e, t) {
                 var n = this,
                     r = n.pulses,
                     i = r.length,
                     a = 0;
                 if (e & n.SOURCE)
                     for (; a < i; ++a) r[a].visit(e, t);
                 else
                     for (; a < i; ++a) r[a].stamp === n.stamp && r[a].visit(e, t);
                 return n
             };
-            var _i = {
+            var xi = {
                 skip: !1,
                 force: !1
             };
 
-            function xi(e) {
+            function wi(e) {
                 this.cmp = e, this.nodes = []
             }
-            var wi = xi.prototype;
+            var Si = wi.prototype;
 
-            function Si(e, t, n, r) {
+            function Ei(e, t, n, r) {
                 var i, a, o;
                 for (i = e[n]; n > t && r(i, a = e[o = n - 1 >> 1]) < 0;) e[n] = a, n = o;
                 return e[n] = i
             }
 
-            function Ei(e, t, n) {
+            function Ai(e, t, n) {
                 for (var r, i = t, a = e.length, o = e[t], u = 2 * t + 1; u < a;)(r = u + 1) < a && n(e[u], e[r]) >= 0 && (u = r), e[t] = e[u], u = 2 * (t = u) + 1;
-                return e[t] = o, Si(e, i, t, n)
+                return e[t] = o, Ei(e, i, t, n)
             }
 
-            function Ai() {
-                this._log = (0, ke.logger)(), this.logLevel(ke.Error), this._clock = 0, this._rank = 0;
+            function ki() {
+                this._log = (0, Ee.logger)(), this.logLevel(Ee.Error), this._clock = 0, this._rank = 0;
                 try {
-                    this._loader = Tt()
+                    this._loader = Nt()
                 } catch (e) {}
-                this._touched = Me(ke.id), this._pulses = {}, this._pulse = null, this._heap = new xi((function(e, t) {
+                this._touched = Ae(Ee.id), this._pulses = {}, this._pulse = null, this._heap = new wi((function(e, t) {
                     return e.qrank - t.qrank
                 })), this._postrun = []
             }
-            wi.size = function() {
+            Si.size = function() {
                 return this.nodes.length
-            }, wi.clear = function() {
+            }, Si.clear = function() {
                 return this.nodes = [], this
-            }, wi.peek = function() {
+            }, Si.peek = function() {
                 return this.nodes[0]
-            }, wi.push = function(e) {
+            }, Si.push = function(e) {
                 var t = this.nodes;
-                return t.push(e), Si(t, 0, t.length - 1, this.cmp)
-            }, wi.pop = function() {
+                return t.push(e), Ei(t, 0, t.length - 1, this.cmp)
+            }, Si.pop = function() {
                 var e, t = this.nodes,
                     n = t.pop();
-                return t.length ? (e = t[0], t[0] = n, Ei(t, 0, this.cmp)) : e = n, e
-            }, wi.replace = function(e) {
+                return t.length ? (e = t[0], t[0] = n, Ai(t, 0, this.cmp)) : e = n, e
+            }, Si.replace = function(e) {
                 var t = this.nodes,
                     n = t[0];
-                return t[0] = e, Ei(t, 0, this.cmp), n
-            }, wi.pushpop = function(e) {
+                return t[0] = e, Ai(t, 0, this.cmp), n
+            }, Si.pushpop = function(e) {
                 var t = this.nodes,
                     n = t[0];
-                return t.length && this.cmp(n, e) < 0 && (t[0] = e, e = n, Ei(t, 0, this.cmp)), e
+                return t.length && this.cmp(n, e) < 0 && (t[0] = e, e = n, Ai(t, 0, this.cmp)), e
             };
-            var ki = Ai.prototype;
+            var Mi = ki.prototype;
 
-            function Mi(e) {
+            function Di(e) {
                 return function() {
                     return this._log[e].apply(this, arguments)
                 }
             }
 
-            function Di(e, t) {
-                We.call(this, e, null, t)
+            function Ci(e, t) {
+                qe.call(this, e, null, t)
             }
-            ki.stamp = function() {
+            Mi.stamp = function() {
                 return this._clock
-            }, ki.loader = function(e) {
+            }, Mi.loader = function(e) {
                 return arguments.length ? (this._loader = e, this) : this._loader
-            }, ki.cleanThreshold = 1e4, ki.add = function(e, t, n, r) {
+            }, Mi.cleanThreshold = 1e4, Mi.add = function(e, t, n, r) {
                 var i, a = 1;
-                return e instanceof We ? i = e : e && e.prototype instanceof We ? i = new e : (0, ke.isFunction)(e) ? i = new We(null, e) : (a = 0, i = new We(e, t)), this.rank(i), a && (r = n, n = t), n && this.connect(i, i.parameters(n, r)), this.touch(i), i
-            }, ki.connect = function(e, t) {
+                return e instanceof qe ? i = e : e && e.prototype instanceof qe ? i = new e : (0, Ee.isFunction)(e) ? i = new qe(null, e) : (a = 0, i = new qe(e, t)), this.rank(i), a && (r = n, n = t), n && this.connect(i, i.parameters(n, r)), this.touch(i), i
+            }, Mi.connect = function(e, t) {
                 var n, r, i = e.rank;
                 for (n = 0, r = t.length; n < r; ++n)
                     if (i < t[n].rank) return void this.rerank(e)
-            }, ki.rank = function(e) {
+            }, Mi.rank = function(e) {
                 e.rank = ++this._rank
-            }, ki.rerank = function(e) {
+            }, Mi.rerank = function(e) {
                 for (var t, n, r, i = [e]; i.length;)
                     if (this.rank(t = i.pop()), n = t._targets)
-                        for (r = n.length; --r >= 0;) i.push(t = n[r]), t === e && (0, ke.error)("Cycle detected in dataflow graph.")
-            }, ki.pulse = function(e, t, n) {
-                this.touch(e, n || _i);
-                var r = new di(this, this._clock + (this._pulse ? 0 : 1)),
+                        for (r = n.length; --r >= 0;) i.push(t = n[r]), t === e && (0, Ee.error)("Cycle detected in dataflow graph.")
+            }, Mi.pulse = function(e, t, n) {
+                this.touch(e, n || xi);
+                var r = new hi(this, this._clock + (this._pulse ? 0 : 1)),
                     i = e.pulse && e.pulse.source || [];
                 return r.target = e, this._pulses[e.id] = t.pulse(r, i), this
-            }, ki.touch = function(e, t) {
-                var n = t || _i;
+            }, Mi.touch = function(e, t) {
+                var n = t || xi;
                 return this._pulse ? this._enqueue(e) : this._touched.add(e), n.skip && e.skip(!0), this
-            }, ki.update = function(e, t, n) {
-                var r = n || _i;
+            }, Mi.update = function(e, t, n) {
+                var r = n || xi;
                 return (e.set(t) || r.force) && this.touch(e, r), this
-            }, ki.changeset = Ie, ki.ingest = function(e, t, n) {
-                return this.pulse(e, this.changeset().insert(ui(t, n)))
-            }, ki.request = function(e, t, n) {
+            }, Mi.changeset = Le, Mi.ingest = function(e, t, n) {
+                return this.pulse(e, this.changeset().insert(si(t, n)))
+            }, Mi.request = function(e, t, n) {
                 var r = this,
                     i = r._pending || function(e) {
                         var t, n, r = new Promise((function(e, r) {
                             t = e, n = r
                         }));
                         return r.requests = 0, r.done = function() {
                             0 == --r.requests && e.runAfter((function() {
@@ -3459,418 +3455,418 @@
                 }).then((function(t) {
                     r.ingest(e, t, n)
                 }), (function(e) {
                     r.error("Loading failed", t, e)
                 })).catch((function(e) {
                     r.error("Data ingestion failed", t, e)
                 })).then(i.done, i.done)
-            }, ki.events = function(e, t, n, r) {
-                for (var i, a = this, o = $e(n, r), u = function(e) {
+            }, Mi.events = function(e, t, n, r) {
+                for (var i, a = this, o = Ye(n, r), u = function(e) {
                         e.dataflow = a;
                         try {
                             o.receive(e)
                         } catch (e) {
                             a.error(e)
                         } finally {
                             a.run()
                         }
-                    }, s = 0, l = (i = "string" == typeof e && "undefined" != typeof document ? document.querySelectorAll(e) : (0, ke.array)(e)).length; s < l; ++s) i[s].addEventListener(t, u);
+                    }, s = 0, l = (i = "string" == typeof e && "undefined" != typeof document ? document.querySelectorAll(e) : (0, Ee.array)(e)).length; s < l; ++s) i[s].addEventListener(t, u);
                 return o
-            }, ki.on = function(e, t, n, r, i) {
-                return (e instanceof We ? ci : li)(this, e, t, n, r, i), this
-            }, ki.run = function(e) {
+            }, Mi.on = function(e, t, n, r, i) {
+                return (e instanceof qe ? fi : ci)(this, e, t, n, r, i), this
+            }, Mi.run = function(e) {
                 var t, n, r, i, a = this,
                     o = 0,
                     u = a.logLevel();
                 if (a._pending) return a.info("Awaiting requests, delaying dataflow run."), 0;
                 if (a._pulse) return a.error("Dataflow invoked recursively. Use the runAfter method to queue invocation."), 0;
                 if (!a._touched.length) return a.info("Dataflow invoked, but nothing to do."), 0;
-                a._pulse = new di(a, ++a._clock, e), u >= ke.Info && (r = Date.now(), a.debug("-- START PROPAGATION (" + a._clock + ") -----")), a._touched.forEach((function(e) {
+                a._pulse = new hi(a, ++a._clock, e), u >= Ee.Info && (r = Date.now(), a.debug("-- START PROPAGATION (" + a._clock + ") -----")), a._touched.forEach((function(e) {
                     a._enqueue(e, !0)
-                })), a._touched = Me(ke.id);
+                })), a._touched = Ae(Ee.id);
                 try {
-                    for (; a._heap.size() > 0;)(t = a._heap.pop()).rank === t.qrank ? (n = t.run(a._getPulse(t, e)), u >= ke.Debug && a.debug(t.id, n === fi ? "STOP" : n, t), n !== fi && (a._pulse = n, t._targets && t._targets.forEach((function(e) {
+                    for (; a._heap.size() > 0;)(t = a._heap.pop()).rank === t.qrank ? (n = t.run(a._getPulse(t, e)), u >= Ee.Debug && a.debug(t.id, n === di ? "STOP" : n, t), n !== di && (a._pulse = n, t._targets && t._targets.forEach((function(e) {
                         a._enqueue(e)
                     }))), ++o) : a._enqueue(t, !0)
                 } catch (e) {
                     i = e
                 }
-                if (a._pulses = {}, a._pulse = null, u >= ke.Info && (r = Date.now() - r, a.info("> Pulse " + a._clock + ": " + o + " operators; " + r + "ms")), i && (a._postrun = [], a.error(i)), a._onrun) try {
+                if (a._pulses = {}, a._pulse = null, u >= Ee.Info && (r = Date.now() - r, a.info("> Pulse " + a._clock + ": " + o + " operators; " + r + "ms")), i && (a._postrun = [], a.error(i)), a._onrun) try {
                     a._onrun(a, o, i)
                 } catch (e) {
                     a.error(e)
                 }
                 if (a._postrun.length) {
                     var s = a._postrun;
                     a._postrun = [], s.sort((function(e, t) {
                         return t.priority - e.priority
                     })).forEach((function(e) {
-                        bi(a, e.callback)
+                        _i(a, e.callback)
                     }))
                 }
                 return o
-            }, ki.runAsync = function() {
+            }, Mi.runAsync = function() {
                 return this._pending || Promise.resolve(this.run())
-            }, ki.runAfter = function(e, t, n) {
+            }, Mi.runAfter = function(e, t, n) {
                 this._pulse || t ? this._postrun.push({
                     priority: n || 0,
                     callback: e
-                }) : bi(this, e)
-            }, ki._enqueue = function(e, t) {
+                }) : _i(this, e)
+            }, Mi._enqueue = function(e, t) {
                 var n = !this._pulses[e.id];
                 n && (this._pulses[e.id] = this._pulse), (n || t) && (e.qrank = e.rank, this._heap.push(e))
-            }, ki._getPulse = function(e, t) {
+            }, Mi._getPulse = function(e, t) {
                 var n, r = e.source,
                     i = this._clock;
-                return r && (0, ke.isArray)(r) ? new vi(this, i, n = r.map((function(e) {
+                return r && (0, Ee.isArray)(r) ? new yi(this, i, n = r.map((function(e) {
                     return e.pulse
-                })), t) : (n = this._pulses[e.id], r && ((r = r.pulse) && r !== fi ? r.stamp === i && n.target !== e ? n = r : n.source = r.source : n.source = []), n)
-            }, ki.error = Mi("error"), ki.warn = Mi("warn"), ki.info = Mi("info"), ki.debug = Mi("debug"), ki.logLevel = Mi("level");
-            var Ci = (0, ke.inherits)(Di, We);
-            Ci.run = function(e) {
+                })), t) : (n = this._pulses[e.id], r && ((r = r.pulse) && r !== di ? r.stamp === i && n.target !== e ? n = r : n.source = r.source : n.source = []), n)
+            }, Mi.error = Di("error"), Mi.warn = Di("warn"), Mi.info = Di("info"), Mi.debug = Di("debug"), Mi.logLevel = Di("level");
+            var Fi = (0, Ee.inherits)(Ci, qe);
+            Fi.run = function(e) {
                 return e.stamp <= this.stamp ? e.StopPropagation : (this.skip() ? this.skip(!1) : t = this.evaluate(e), (t = t || e) !== e.StopPropagation && (this.pulse = t), this.stamp = e.stamp, t);
                 var t
-            }, Ci.evaluate = function(e) {
+            }, Fi.evaluate = function(e) {
                 var t = this.marshall(e.stamp),
                     n = this.transform(t, e);
                 return t.clear(), n
-            }, Ci.transform = function() {};
-            var Fi = {};
+            }, Fi.transform = function() {};
+            var Ni = {};
 
-            function Ni(e) {
+            function Oi(e) {
                 var t = Ti(e);
                 return t && t.Definition || null
             }
 
             function Ti(e) {
-                return e = e && e.toLowerCase(), Fi.hasOwnProperty(e) ? Fi[e] : null
+                return e = e && e.toLowerCase(), Ni.hasOwnProperty(e) ? Ni[e] : null
             }
 
-            function Oi(e) {
+            function Pi(e) {
                 return e && e.length ? 1 === e.length ? e[0] : (t = e, function(e) {
                     for (var n = t.length, r = 1, i = String(t[0](e)); r < n; ++r) i += "|" + t[r](e);
                     return i
                 }) : function() {
                     return ""
                 };
                 var t
             }
 
-            function Pi(e, t, n) {
+            function Ri(e, t, n) {
                 return n || e + (t ? "_" + t : "")
             }
-            var Ri = {
-                    values: Ii({
+            var Li = {
+                    values: ji({
                         name: "values",
                         init: "cell.store = true;",
                         set: "cell.data.values()",
                         idx: -1
                     }),
-                    count: Ii({
+                    count: ji({
                         name: "count",
                         set: "cell.num"
                     }),
-                    __count__: Ii({
+                    __count__: ji({
                         name: "count",
                         set: "this.missing + this.valid"
                     }),
-                    missing: Ii({
+                    missing: ji({
                         name: "missing",
                         set: "this.missing"
                     }),
-                    valid: Ii({
+                    valid: ji({
                         name: "valid",
                         set: "this.valid"
                     }),
-                    sum: Ii({
+                    sum: ji({
                         name: "sum",
                         init: "this.sum = 0;",
                         add: "this.sum += v;",
                         rem: "this.sum -= v;",
                         set: "this.sum"
                     }),
-                    mean: Ii({
+                    mean: ji({
                         name: "mean",
                         init: "this.mean = 0;",
                         add: "var d = v - this.mean; this.mean += d / this.valid;",
                         rem: "var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",
                         set: "this.mean"
                     }),
-                    average: Ii({
+                    average: ji({
                         name: "average",
                         set: "this.mean",
                         req: ["mean"],
                         idx: 1
                     }),
-                    variance: Ii({
+                    variance: ji({
                         name: "variance",
                         init: "this.dev = 0;",
                         add: "this.dev += d * (v - this.mean);",
                         rem: "this.dev -= d * (v - this.mean);",
                         set: "this.valid > 1 ? this.dev / (this.valid-1) : 0",
                         req: ["mean"],
                         idx: 1
                     }),
-                    variancep: Ii({
+                    variancep: ji({
                         name: "variancep",
                         set: "this.valid > 1 ? this.dev / this.valid : 0",
                         req: ["variance"],
                         idx: 2
                     }),
-                    stdev: Ii({
+                    stdev: ji({
                         name: "stdev",
                         set: "this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : 0",
                         req: ["variance"],
                         idx: 2
                     }),
-                    stdevp: Ii({
+                    stdevp: ji({
                         name: "stdevp",
                         set: "this.valid > 1 ? Math.sqrt(this.dev / this.valid) : 0",
                         req: ["variance"],
                         idx: 2
                     }),
-                    stderr: Ii({
+                    stderr: ji({
                         name: "stderr",
                         set: "this.valid > 1 ? Math.sqrt(this.dev / (this.valid * (this.valid-1))) : 0",
                         req: ["variance"],
                         idx: 2
                     }),
-                    distinct: Ii({
+                    distinct: ji({
                         name: "distinct",
                         set: "cell.data.distinct(this.get)",
                         req: ["values"],
                         idx: 3
                     }),
-                    ci0: Ii({
+                    ci0: ji({
                         name: "ci0",
                         set: "cell.data.ci0(this.get)",
                         req: ["values"],
                         idx: 3
                     }),
-                    ci1: Ii({
+                    ci1: ji({
                         name: "ci1",
                         set: "cell.data.ci1(this.get)",
                         req: ["values"],
                         idx: 3
                     }),
-                    median: Ii({
+                    median: ji({
                         name: "median",
                         set: "cell.data.q2(this.get)",
                         req: ["values"],
                         idx: 3
                     }),
-                    q1: Ii({
+                    q1: ji({
                         name: "q1",
                         set: "cell.data.q1(this.get)",
                         req: ["values"],
                         idx: 3
                     }),
-                    q3: Ii({
+                    q3: ji({
                         name: "q3",
                         set: "cell.data.q3(this.get)",
                         req: ["values"],
                         idx: 3
                     }),
-                    argmin: Ii({
+                    argmin: ji({
                         name: "argmin",
                         init: "this.argmin = null;",
                         add: "if (v < this.min) this.argmin = t;",
                         rem: "if (v <= this.min) this.argmin = null;",
                         set: "this.argmin || cell.data.argmin(this.get)",
                         req: ["min"],
                         str: ["values"],
                         idx: 3
                     }),
-                    argmax: Ii({
+                    argmax: ji({
                         name: "argmax",
                         init: "this.argmax = null;",
                         add: "if (v > this.max) this.argmax = t;",
                         rem: "if (v >= this.max) this.argmax = null;",
                         set: "this.argmax || cell.data.argmax(this.get)",
                         req: ["max"],
                         str: ["values"],
                         idx: 3
                     }),
-                    min: Ii({
+                    min: ji({
                         name: "min",
                         init: "this.min = null;",
                         add: "if (v < this.min || this.min === null) this.min = v;",
                         rem: "if (v <= this.min) this.min = NaN;",
                         set: "this.min = (isNaN(this.min) ? cell.data.min(this.get) : this.min)",
                         str: ["values"],
                         idx: 4
                     }),
-                    max: Ii({
+                    max: ji({
                         name: "max",
                         init: "this.max = null;",
                         add: "if (v > this.max || this.max === null) this.max = v;",
                         rem: "if (v >= this.max) this.max = NaN;",
                         set: "this.max = (isNaN(this.max) ? cell.data.max(this.get) : this.max)",
                         str: ["values"],
                         idx: 4
                     })
                 },
-                Li = Object.keys(Ri);
+                zi = Object.keys(Li);
 
-            function zi(e, t) {
-                return Ri[e](t)
+            function Ii(e, t) {
+                return Li[e](t)
             }
 
-            function Ii(e) {
+            function ji(e) {
                 return function(t) {
-                    var n = (0, ke.extend)({
+                    var n = (0, Ee.extend)({
                         init: "",
                         add: "",
                         rem: "",
                         idx: 0
                     }, e);
                     return n.out = t || e.name, n
                 }
             }
 
-            function Ui(e, t) {
+            function Bi(e, t) {
                 return e.idx - t.idx
             }
 
-            function ji(e, t) {
-                var n = t || ke.identity,
+            function Ui(e, t) {
+                var n = t || Ee.identity,
                     r = function(e, t) {
                         var n, r = e.reduce((function e(t, n) {
                                 function r(n) {
-                                    t[n] || e(t, t[n] = Ri[n]())
+                                    t[n] || e(t, t[n] = Li[n]())
                                 }
                                 return n.req && n.req.forEach(r), n.str && n.str.forEach(r), t
                             }), e.reduce((function(e, t) {
                                 return e[t.name] = t, e
                             }), {})),
                             i = [];
                         for (n in r) i.push(r[n]);
-                        return i.sort(Ui)
+                        return i.sort(Bi)
                     }(e),
                     i = "var cell = this.cell; this.valid = 0; this.missing = 0;",
                     a = "this.cell = cell; this.init();",
                     o = "if(v==null){++this.missing; return;} if(v!==v) return; ++this.valid;",
                     u = "if(v==null){--this.missing; return;} if(v!==v) return; --this.valid;",
                     s = "var cell = this.cell;";
                 return r.forEach((function(e) {
                     i += e.init, o += e.add, u += e.rem
-                })), e.slice().sort(Ui).forEach((function(e) {
+                })), e.slice().sort(Bi).forEach((function(e) {
                     s += "t['" + e.out + "']=" + e.set + ";"
                 })), s += "return t;", (a = Function("cell", a)).prototype.init = Function(i), a.prototype.add = Function("v", "t", o), a.prototype.rem = Function("v", "t", u), a.prototype.set = Function("t", s), a.prototype.get = n, a.fields = e.map((function(e) {
                     return e.out
                 })), a
             }
 
-            function Bi(e, t) {
+            function qi(e, t) {
                 return e < t ? -1 : e > t ? 1 : e >= t ? 0 : NaN
             }
 
-            function qi(e, t) {
+            function Hi(e, t) {
                 let n;
                 if (void 0 === t)
                     for (const t of e) null != t && (n < t || void 0 === n && t >= t) && (n = t);
                 else {
                     let r = -1;
                     for (let i of e) null != (i = t(i, ++r, e)) && (n < i || void 0 === n && i >= i) && (n = i)
                 }
                 return n
             }
 
-            function Hi(e, t) {
+            function Wi(e, t) {
                 let n;
                 if (void 0 === t)
                     for (const t of e) null != t && (n > t || void 0 === n && t >= t) && (n = t);
                 else {
                     let r = -1;
                     for (let i of e) null != (i = t(i, ++r, e)) && (n > i || void 0 === n && i >= i) && (n = i)
                 }
                 return n
             }
 
-            function Wi(e, t, n = 0, r = e.length - 1, i = Bi) {
+            function Vi(e, t, n = 0, r = e.length - 1, i = qi) {
                 for (; r > n;) {
                     if (r - n > 600) {
                         const a = r - n + 1,
                             o = t - n + 1,
                             u = Math.log(a),
                             s = .5 * Math.exp(2 * u / 3),
                             l = .5 * Math.sqrt(u * s * (a - s) / a) * (o - a / 2 < 0 ? -1 : 1);
-                        Wi(e, t, Math.max(n, Math.floor(t - o * s / a + l)), Math.min(r, Math.floor(t + (a - o) * s / a + l)), i)
+                        Vi(e, t, Math.max(n, Math.floor(t - o * s / a + l)), Math.min(r, Math.floor(t + (a - o) * s / a + l)), i)
                     }
                     const a = e[t];
                     let o = n,
                         u = r;
-                    for (Yi(e, n, t), i(e[r], a) > 0 && Yi(e, n, r); o < u;) {
-                        for (Yi(e, o, u), ++o, --u; i(e[o], a) < 0;) ++o;
+                    for (Gi(e, n, t), i(e[r], a) > 0 && Gi(e, n, r); o < u;) {
+                        for (Gi(e, o, u), ++o, --u; i(e[o], a) < 0;) ++o;
                         for (; i(e[u], a) > 0;) --u
                     }
-                    0 === i(e[n], a) ? Yi(e, n, u) : (++u, Yi(e, u, r)), u <= t && (n = u + 1), t <= u && (r = u - 1)
+                    0 === i(e[n], a) ? Gi(e, n, u) : (++u, Gi(e, u, r)), u <= t && (n = u + 1), t <= u && (r = u - 1)
                 }
                 return e
             }
 
-            function Yi(e, t, n) {
+            function Gi(e, t, n) {
                 const r = e[t];
                 e[t] = e[n], e[n] = r
             }
 
-            function Vi(e) {
+            function Yi(e) {
                 return null === e ? NaN : +e
             }
 
-            function Gi(e, t, n) {
+            function Xi(e, t, n) {
                 if (e = Float64Array.from(function*(e, t) {
                         if (void 0 === t)
                             for (let t of e) null != t && (t = +t) >= t && (yield t);
                         else {
                             let n = -1;
                             for (let r of e) null != (r = t(r, ++n, e)) && (r = +r) >= r && (yield r)
                         }
                     }(e, n)), r = e.length) {
-                    if ((t = +t) <= 0 || r < 2) return Hi(e);
-                    if (t >= 1) return qi(e);
+                    if ((t = +t) <= 0 || r < 2) return Wi(e);
+                    if (t >= 1) return Hi(e);
                     var r, i = (r - 1) * t,
                         a = Math.floor(i),
-                        o = qi(Wi(e, a).subarray(0, a + 1));
-                    return o + (Hi(e.subarray(a + 1)) - o) * (i - a)
+                        o = Hi(Vi(e, a).subarray(0, a + 1));
+                    return o + (Wi(e.subarray(a + 1)) - o) * (i - a)
                 }
             }
 
-            function Xi(e, t) {
-                return Gi(e, .5, t)
+            function $i(e, t) {
+                return Xi(e, .5, t)
             }
 
-            function* $i(e, t) {
+            function* Ki(e, t) {
                 if (null == t)
                     for (let t of e) null != t && "" !== t && (t = +t) >= t && (yield t);
                 else {
                     let n = -1;
                     for (let r of e) r = t(r, ++n, e), null != r && "" !== r && (r = +r) >= r && (yield r)
                 }
             }
 
-            function Ki(e, t, n) {
-                const r = Float64Array.from($i(e, n));
-                return r.sort(Bi), t.map((e => function(e, t, n = Vi) {
+            function Ji(e, t, n) {
+                const r = Float64Array.from(Ki(e, n));
+                return r.sort(qi), t.map((e => function(e, t, n = Yi) {
                     if (r = e.length) {
                         if ((t = +t) <= 0 || r < 2) return +n(e[0], 0, e);
                         if (t >= 1) return +n(e[r - 1], r - 1, e);
                         var r, i = (r - 1) * t,
                             a = Math.floor(i),
                             o = +n(e[a], a, e);
                         return o + (+n(e[a + 1], a + 1, e) - o) * (i - a)
                     }
                 }(r, e)))
             }
 
-            function Ji(e, t) {
-                return Ki(e, [.25, .5, .75], t)
+            function Qi(e, t) {
+                return Ji(e, [.25, .5, .75], t)
             }
 
-            function Qi(e, t) {
+            function Zi(e, t) {
                 const n = e.length,
                     r = function(e, t) {
                         const n = function(e, t) {
                             let n, r = 0,
                                 i = 0,
                                 a = 0;
                             if (void 0 === t)
@@ -3879,20 +3875,20 @@
                                 let o = -1;
                                 for (let u of e) null != (u = t(u, ++o, e)) && (u = +u) >= u && (n = u - i, i += n / ++r, a += n * (u - i))
                             }
                             if (r > 1) return a / (r - 1)
                         }(e, t);
                         return n ? Math.sqrt(n) : n
                     }(e, t),
-                    i = Ji(e, t),
+                    i = Qi(e, t),
                     a = (i[2] - i[0]) / 1.34;
                 return 1.06 * (Math.min(r, a) || r || Math.abs(i[0]) || 1) * Math.pow(n, -.2)
             }
 
-            function Zi(e) {
+            function ea(e) {
                 const t = e.maxbins || 20,
                     n = e.base || 10,
                     r = Math.log(n),
                     i = e.divide || [5, 2];
                 let a, o, u, s, l, c, f = e.extent[0],
                     d = e.extent[1];
                 const h = e.span || d - f || Math.abs(f) || 1;
@@ -3909,34 +3905,34 @@
                     g = Math.pow(n, -p - 1);
                 return (e.nice || void 0 === e.nice) && (s = Math.floor(f / a + g) * a, f = f < s ? s - a : s, d = Math.ceil(d / a) * a), {
                     start: f,
                     stop: d === f ? f + a : d,
                     step: a
                 }
             }
-            var ea = Math.random;
+            var ta = Math.random;
 
-            function ta(e) {
-                ea = e
+            function na(e) {
+                ta = e
             }
 
-            function na(e, t, n, r) {
+            function ra(e, t, n, r) {
                 if (!e.length) return [void 0, void 0];
-                const i = Float64Array.from($i(e, r)),
+                const i = Float64Array.from(Ki(e, r)),
                     a = i.length,
                     o = t;
                 let u, s, l, c;
                 for (l = 0, c = Array(o); l < o; ++l) {
-                    for (u = 0, s = 0; s < a; ++s) u += i[~~(ea() * a)];
+                    for (u = 0, s = 0; s < a; ++s) u += i[~~(ta() * a)];
                     c[l] = u / a
                 }
-                return c.sort(Bi), [Gi(c, n / 2), Gi(c, 1 - n / 2)]
+                return c.sort(qi), [Xi(c, n / 2), Xi(c, 1 - n / 2)]
             }
 
-            function ra(e, t, n, r) {
+            function ia(e, t, n, r) {
                 r = r || (e => e);
                 const i = e.length,
                     a = new Float64Array(i);
                 let o, u = 0,
                     s = 1,
                     l = r(e[0]),
                     c = l,
@@ -3962,111 +3958,111 @@
                         }
                         a = o, o = r
                     }
                     return e
                 }(a, t + t / 4) : a
             }
 
-            function ia(e) {
+            function aa(e) {
                 return function() {
                     return (e = (1103515245 * e + 12345) % 2147483647) / 2147483647
                 }
             }
 
-            function aa(e, t) {
+            function oa(e, t) {
                 let n, r, i;
                 null == t && (t = e, e = 0);
                 const a = {
                     min(e) {
                         return arguments.length ? (n = e || 0, i = r - n, a) : n
                     },
                     max(e) {
                         return arguments.length ? (r = e || 0, i = r - n, a) : r
                     },
-                    sample: () => n + Math.floor(i * ea()),
+                    sample: () => n + Math.floor(i * ta()),
                     pdf: e => e === Math.floor(e) && e >= n && e < r ? 1 / i : 0,
                     cdf(e) {
                         const t = Math.floor(e);
                         return t < n ? 0 : t >= r ? 1 : (t - n + 1) / i
                     },
                     icdf: e => e >= 0 && e <= 1 ? n - 1 + Math.floor(e * i) : NaN
                 };
                 return a.min(e).max(t)
             }
-            const oa = Math.sqrt(2 * Math.PI),
-                ua = Math.SQRT2;
-            let sa = NaN;
+            const ua = Math.sqrt(2 * Math.PI),
+                sa = Math.SQRT2;
+            let la = NaN;
 
-            function la(e, t) {
+            function ca(e, t) {
                 e = e || 0, t = null == t ? 1 : t;
                 let n, r, i = 0,
                     a = 0;
-                if (sa == sa) i = sa, sa = NaN;
+                if (la == la) i = la, la = NaN;
                 else {
                     do {
-                        i = 2 * ea() - 1, a = 2 * ea() - 1, n = i * i + a * a
+                        i = 2 * ta() - 1, a = 2 * ta() - 1, n = i * i + a * a
                     } while (0 === n || n > 1);
-                    r = Math.sqrt(-2 * Math.log(n) / n), i *= r, sa = a * r
+                    r = Math.sqrt(-2 * Math.log(n) / n), i *= r, la = a * r
                 }
                 return e + i * t
             }
 
-            function ca(e, t, n) {
+            function fa(e, t, n) {
                 const r = (e - (t || 0)) / (n = null == n ? 1 : n);
-                return Math.exp(-.5 * r * r) / (n * oa)
+                return Math.exp(-.5 * r * r) / (n * ua)
             }
 
-            function fa(e, t, n) {
+            function da(e, t, n) {
                 const r = (e - (t = t || 0)) / (n = null == n ? 1 : n),
                     i = Math.abs(r);
                 let a;
                 if (i > 37) a = 0;
                 else {
                     const e = Math.exp(-i * i / 2);
                     let t;
                     i < 7.07106781186547 ? (t = .0352624965998911 * i + .700383064443688, t = t * i + 6.37396220353165, t = t * i + 33.912866078383, t = t * i + 112.079291497871, t = t * i + 221.213596169931, t = t * i + 220.206867912376, a = e * t, t = .0883883476483184 * i + 1.75566716318264, t = t * i + 16.064177579207, t = t * i + 86.7807322029461, t = t * i + 296.564248779674, t = t * i + 637.333633378831, t = t * i + 793.826512519948, t = t * i + 440.413735824752, a /= t) : (t = i + .65, t = i + 4 / t, t = i + 3 / t, t = i + 2 / t, t = i + 1 / t, a = e / t / 2.506628274631)
                 }
                 return r > 0 ? 1 - a : a
             }
 
-            function da(e, t, n) {
-                return e < 0 || e > 1 ? NaN : (t || 0) + (null == n ? 1 : n) * ua * function(e) {
+            function ha(e, t, n) {
+                return e < 0 || e > 1 ? NaN : (t || 0) + (null == n ? 1 : n) * sa * function(e) {
                     let t, n = -Math.log((1 - e) * (1 + e));
                     return n < 6.25 ? (n -= 3.125, t = -364441206401782e-35, t = t * n - 16850591381820166e-35, t = 128584807152564e-32 + t * n, t = 11157877678025181e-33 + t * n, t = t * n - 1333171662854621e-31, t = 20972767875968562e-33 + t * n, t = 6637638134358324e-30 + t * n, t = t * n - 4054566272975207e-29, t = t * n - 8151934197605472e-29, t = 26335093153082323e-28 + t * n, t = t * n - 12975133253453532e-27, t = t * n - 5415412054294628e-26, t = 1.0512122733215323e-9 + t * n, t = t * n - 4.112633980346984e-9, t = t * n - 2.9070369957882005e-8, t = 4.2347877827932404e-7 + t * n, t = t * n - 13654692000834679e-22, t = t * n - 13882523362786469e-21, t = .00018673420803405714 + t * n, t = t * n - .000740702534166267, t = t * n - .006033670871430149, t = .24015818242558962 + t * n, t = 1.6536545626831027 + t * n) : n < 16 ? (n = Math.sqrt(n) - 3.25, t = 2.2137376921775787e-9, t = 9.075656193888539e-8 + t * n, t = t * n - 2.7517406297064545e-7, t = 1.8239629214389228e-8 + t * n, t = 15027403968909828e-22 + t * n, t = t * n - 4013867526981546e-21, t = 29234449089955446e-22 + t * n, t = 12475304481671779e-21 + t * n, t = t * n - 47318229009055734e-21, t = 6828485145957318e-20 + t * n, t = 24031110387097894e-21 + t * n, t = t * n - .0003550375203628475, t = .0009532893797373805 + t * n, t = t * n - .0016882755560235047, t = .002491442096107851 + t * n, t = t * n - .003751208507569241, t = .005370914553590064 + t * n, t = 1.0052589676941592 + t * n, t = 3.0838856104922208 + t * n) : Number.isFinite(n) ? (n = Math.sqrt(n) - 5, t = -27109920616438573e-27, t = t * n - 2.555641816996525e-10, t = 1.5076572693500548e-9 + t * n, t = t * n - 3.789465440126737e-9, t = 7.61570120807834e-9 + t * n, t = t * n - 1.496002662714924e-8, t = 2.914795345090108e-8 + t * n, t = t * n - 6.771199775845234e-8, t = 2.2900482228026655e-7 + t * n, t = t * n - 9.9298272942317e-7, t = 4526062597223154e-21 + t * n, t = t * n - 1968177810553167e-20, t = 7599527703001776e-20 + t * n, t = t * n - .00021503011930044477, t = t * n - .00013871931833623122, t = 1.0103004648645344 + t * n, t = 4.849906401408584 + t * n) : t = 1 / 0, t * e
                 }(2 * e - 1)
             }
 
-            function ha(e, t) {
+            function pa(e, t) {
                 let n, r;
                 const i = {
                     mean(e) {
                         return arguments.length ? (n = e || 0, i) : n
                     },
                     stdev(e) {
                         return arguments.length ? (r = null == e ? 1 : e, i) : r
                     },
-                    sample: () => la(n, r),
-                    pdf: e => ca(e, n, r),
-                    cdf: e => fa(e, n, r),
-                    icdf: e => da(e, n, r)
+                    sample: () => ca(n, r),
+                    pdf: e => fa(e, n, r),
+                    cdf: e => da(e, n, r),
+                    icdf: e => ha(e, n, r)
                 };
                 return i.mean(e).stdev(t)
             }
 
-            function pa(e, t) {
-                const n = ha();
+            function ga(e, t) {
+                const n = pa();
                 let r = 0;
                 const i = {
                     data(n) {
                         return arguments.length ? (e = n, r = n ? n.length : 0, i.bandwidth(t)) : e
                     },
                     bandwidth(n) {
-                        return arguments.length ? (!(t = n) && e && (t = Qi(e)), i) : t
+                        return arguments.length ? (!(t = n) && e && (t = Zi(e)), i) : t
                     },
-                    sample: () => e[~~(ea() * r)] + t * n.sample(),
+                    sample: () => e[~~(ta() * r)] + t * n.sample(),
                     pdf(i) {
                         let a = 0,
                             o = 0;
                         for (; o < r; ++o) a += n.pdf((i - e[o]) / t);
                         return a / t / r
                     },
                     cdf(i) {
@@ -4078,51 +4074,51 @@
                     icdf() {
                         throw Error("KDE icdf not supported.")
                     }
                 };
                 return i.data(e)
             }
 
-            function ga(e, t) {
-                return e = e || 0, t = null == t ? 1 : t, Math.exp(e + la() * t)
+            function ma(e, t) {
+                return e = e || 0, t = null == t ? 1 : t, Math.exp(e + ca() * t)
             }
 
-            function ma(e, t, n) {
+            function va(e, t, n) {
                 if (e <= 0) return 0;
                 t = t || 0, n = null == n ? 1 : n;
                 const r = (Math.log(e) - t) / n;
-                return Math.exp(-.5 * r * r) / (n * oa * e)
+                return Math.exp(-.5 * r * r) / (n * ua * e)
             }
 
-            function va(e, t, n) {
-                return fa(Math.log(e), t, n)
+            function ya(e, t, n) {
+                return da(Math.log(e), t, n)
             }
 
-            function ya(e, t, n) {
-                return Math.exp(da(e, t, n))
+            function ba(e, t, n) {
+                return Math.exp(ha(e, t, n))
             }
 
-            function ba(e, t) {
+            function _a(e, t) {
                 let n, r;
                 const i = {
                     mean(e) {
                         return arguments.length ? (n = e || 0, i) : n
                     },
                     stdev(e) {
                         return arguments.length ? (r = null == e ? 1 : e, i) : r
                     },
-                    sample: () => ga(n, r),
-                    pdf: e => ma(e, n, r),
-                    cdf: e => va(e, n, r),
-                    icdf: e => ya(e, n, r)
+                    sample: () => ma(n, r),
+                    pdf: e => va(e, n, r),
+                    cdf: e => ya(e, n, r),
+                    icdf: e => ba(e, n, r)
                 };
                 return i.mean(e).stdev(t)
             }
 
-            function _a(e, t) {
+            function xa(e, t) {
                 let n, r = 0;
                 const i = {
                     weights(e) {
                         return arguments.length ? (n = function(e) {
                             const t = [];
                             let n, i = 0;
                             for (n = 0; n < r; ++n) i += t[n] = null == e[n] ? 1 : +e[n];
@@ -4130,15 +4126,15 @@
                             return t
                         }(t = e || []), i) : t
                     },
                     distributions(n) {
                         return arguments.length ? (n ? (r = n.length, e = n) : (r = 0, e = []), i.weights(t)) : e
                     },
                     sample() {
-                        const t = ea();
+                        const t = ta();
                         let i = e[r - 1],
                             a = n[0],
                             o = 0;
                         for (; o < r - 1; a += n[++o])
                             if (t < a) {
                                 i = e[o];
                                 break
@@ -4159,54 +4155,54 @@
                     icdf() {
                         throw Error("Mixture icdf not supported.")
                     }
                 };
                 return i.distributions(e).weights(t)
             }
 
-            function xa(e, t) {
-                return null == t && (t = null == e ? 1 : e, e = 0), e + (t - e) * ea()
+            function wa(e, t) {
+                return null == t && (t = null == e ? 1 : e, e = 0), e + (t - e) * ta()
             }
 
-            function wa(e, t, n) {
+            function Sa(e, t, n) {
                 return null == n && (n = null == t ? 1 : t, t = 0), e >= t && e <= n ? 1 / (n - t) : 0
             }
 
-            function Sa(e, t, n) {
+            function Ea(e, t, n) {
                 return null == n && (n = null == t ? 1 : t, t = 0), e < t ? 0 : e > n ? 1 : (e - t) / (n - t)
             }
 
-            function Ea(e, t, n) {
+            function Aa(e, t, n) {
                 return null == n && (n = null == t ? 1 : t, t = 0), e >= 0 && e <= 1 ? t + e * (n - t) : NaN
             }
 
-            function Aa(e, t) {
+            function ka(e, t) {
                 let n, r;
                 const i = {
                     min(e) {
                         return arguments.length ? (n = e || 0, i) : n
                     },
                     max(e) {
                         return arguments.length ? (r = null == e ? 1 : e, i) : r
                     },
-                    sample: () => xa(n, r),
-                    pdf: e => wa(e, n, r),
-                    cdf: e => Sa(e, n, r),
-                    icdf: e => Ea(e, n, r)
+                    sample: () => wa(n, r),
+                    pdf: e => Sa(e, n, r),
+                    cdf: e => Ea(e, n, r),
+                    icdf: e => Aa(e, n, r)
                 };
                 return null == t && (t = null == e ? 1 : e, e = 0), i.min(e).max(t)
             }
 
-            function ka(e, t, n, r) {
+            function Ma(e, t, n, r) {
                 const i = r - e * e,
                     a = Math.abs(i) < 1e-24 ? 0 : (n - e * t) / i;
                 return [t - a * e, a]
             }
 
-            function Ma(e, t, n, r) {
+            function Da(e, t, n, r) {
                 e = e.filter((e => {
                     let r = t(e),
                         i = n(e);
                     return null != r && (r = +r) >= r && null != i && (i = +i) >= i
                 })), r && e.sort(((e, n) => t(e) - t(n)));
                 const i = e.length,
                     a = new Float64Array(i),
@@ -4215,106 +4211,106 @@
                     f = 0,
                     d = 0;
                 for (l of e) a[c] = u = +t(l), o[c] = s = +n(l), ++c, f += (u - f) / c, d += (s - d) / c;
                 for (c = 0; c < i; ++c) a[c] -= f, o[c] -= d;
                 return [a, o, f, d]
             }
 
-            function Da(e, t, n, r) {
+            function Ca(e, t, n, r) {
                 let i, a, o = -1;
                 for (const u of e) i = t(u), a = n(u), null != i && (i = +i) >= i && null != a && (a = +a) >= a && r(i, a, ++o)
             }
 
-            function Ca(e, t, n, r, i) {
+            function Fa(e, t, n, r, i) {
                 let a = 0,
                     o = 0;
-                return Da(e, t, n, ((e, t) => {
+                return Ca(e, t, n, ((e, t) => {
                     const n = t - i(e),
                         u = t - r;
                     a += n * n, o += u * u
                 })), 1 - a / o
             }
 
-            function Fa(e, t, n) {
+            function Na(e, t, n) {
                 let r = 0,
                     i = 0,
                     a = 0,
                     o = 0,
                     u = 0;
-                Da(e, t, n, ((e, t) => {
+                Ca(e, t, n, ((e, t) => {
                     ++u, r += (e - r) / u, i += (t - i) / u, a += (e * t - a) / u, o += (e * e - o) / u
                 }));
-                const s = ka(r, i, a, o),
+                const s = Ma(r, i, a, o),
                     l = e => s[0] + s[1] * e;
                 return {
                     coef: s,
                     predict: l,
-                    rSquared: Ca(e, t, n, i, l)
+                    rSquared: Fa(e, t, n, i, l)
                 }
             }
 
-            function Na(e, t, n) {
+            function Oa(e, t, n) {
                 let r = 0,
                     i = 0,
                     a = 0,
                     o = 0,
                     u = 0;
-                Da(e, t, n, ((e, t) => {
+                Ca(e, t, n, ((e, t) => {
                     ++u, e = Math.log(e), r += (e - r) / u, i += (t - i) / u, a += (e * t - a) / u, o += (e * e - o) / u
                 }));
-                const s = ka(r, i, a, o),
+                const s = Ma(r, i, a, o),
                     l = e => s[0] + s[1] * Math.log(e);
                 return {
                     coef: s,
                     predict: l,
-                    rSquared: Ca(e, t, n, i, l)
+                    rSquared: Fa(e, t, n, i, l)
                 }
             }
 
             function Ta(e, t, n) {
-                const [r, i, a, o] = Ma(e, t, n);
+                const [r, i, a, o] = Da(e, t, n);
                 let u, s, l, c = 0,
                     f = 0,
                     d = 0,
                     h = 0,
                     p = 0;
-                Da(e, t, n, ((e, t) => {
+                Ca(e, t, n, ((e, t) => {
                     u = r[p++], s = Math.log(t), l = u * t, c += (t * s - c) / p, f += (l - f) / p, d += (l * s - d) / p, h += (u * l - h) / p
                 }));
-                const [g, m] = ka(f / o, c / o, d / o, h / o), v = e => Math.exp(g + m * (e - a));
+                const [g, m] = Ma(f / o, c / o, d / o, h / o), v = e => Math.exp(g + m * (e - a));
                 return {
                     coef: [Math.exp(g - m * a), m],
                     predict: v,
-                    rSquared: Ca(e, t, n, o, v)
+                    rSquared: Fa(e, t, n, o, v)
                 }
             }
 
-            function Oa(e, t, n) {
+            function Pa(e, t, n) {
                 let r = 0,
                     i = 0,
                     a = 0,
                     o = 0,
                     u = 0,
                     s = 0;
-                Da(e, t, n, ((e, t) => {
+                Ca(e, t, n, ((e, t) => {
                     const n = Math.log(e),
                         l = Math.log(t);
                     ++s, r += (n - r) / s, i += (l - i) / s, a += (n * l - a) / s, o += (n * n - o) / s, u += (t - u) / s
                 }));
-                const l = ka(r, i, a, o),
+                const l = Ma(r, i, a, o),
                     c = e => l[0] * Math.pow(e, l[1]);
                 return l[0] = Math.exp(l[0]), {
                     coef: l,
                     predict: c,
-                    rSquared: Ca(e, t, n, u, c)
+                    rSquared: Fa(e, t, n, u, c)
                 }
             }
 
-            function Pa(e, t, n) {
-                const [r, i, a, o] = Ma(e, t, n), u = r.length;
+            function Ra(e, t, n) {
+                const [r, i, a, o] = Da(e, t, n), u = r.length;
                 let s, l, c, f, d = 0,
                     h = 0,
                     p = 0,
                     g = 0,
                     m = 0;
                 for (s = 0; s < u;) l = r[s], c = i[s++], f = l * l, d += (f - d) / s, h += (f * l - h) / s, p += (f * f - p) / s, g += (l * c - g) / s, m += (f * c - m) / s;
                 const v = p - d * d,
@@ -4322,22 +4318,22 @@
                     b = (m * d - g * h) / y,
                     _ = (g * v - m * h) / y,
                     x = -b * d,
                     w = e => b * (e -= a) * e + _ * e + x + o;
                 return {
                     coef: [x - _ * a + b * a * a + o, _ - 2 * b * a, b],
                     predict: w,
-                    rSquared: Ca(e, t, n, o, w)
+                    rSquared: Fa(e, t, n, o, w)
                 }
             }
 
-            function Ra(e, t, n, r) {
-                if (1 === r) return Fa(e, t, n);
-                if (2 === r) return Pa(e, t, n);
-                const [i, a, o, u] = Ma(e, t, n), s = i.length, l = [], c = [], f = r + 1;
+            function La(e, t, n, r) {
+                if (1 === r) return Na(e, t, n);
+                if (2 === r) return Ra(e, t, n);
+                const [i, a, o, u] = Da(e, t, n), s = i.length, l = [], c = [], f = r + 1;
                 let d, h, p, g, m;
                 for (d = 0; d < f; ++d) {
                     for (p = 0, g = 0; p < s; ++p) g += Math.pow(i[p], d) * a[p];
                     for (l.push(g), m = new Float64Array(f), h = 0; h < f; ++h) {
                         for (p = 0, g = 0; p < s; ++p) g += Math.pow(i[p], d + h);
                         m[h] = g
                     }
@@ -4363,32 +4359,34 @@
                     y = e => {
                         e -= o;
                         let t = u + v[0] + v[1] * e + v[2] * e * e;
                         for (d = 3; d < f; ++d) t += v[d] * Math.pow(e, d);
                         return t
                     };
                 return {
-                    coef: La(f, v, -o, u),
+                    coef: za(f, v, -o, u),
                     predict: y,
-                    rSquared: Ca(e, t, n, u, y)
+                    rSquared: Fa(e, t, n, u, y)
                 }
             }
 
-            function La(e, t, n, r) {
+            function za(e, t, n, r) {
                 const i = Array(e);
                 let a, o, u, s;
                 for (a = 0; a < e; ++a) i[a] = 0;
                 for (a = e - 1; a >= 0; --a)
                     for (u = t[a], s = 1, i[a] += u, o = 1; o <= a; ++o) s *= (a + 1 - o) / o, i[a - o] += u * Math.pow(n, o) * s;
                 return i[0] += r, i
             }
+            const Ia = 2,
+                ja = 1e-12;
 
-            function za(e, t, n, r) {
-                const [i, a, o, u] = Ma(e, t, n, !0), s = i.length, l = Math.max(2, ~~(r * s)), c = new Float64Array(s), f = new Float64Array(s), d = new Float64Array(s).fill(1);
-                for (let e = -1; ++e <= 2;) {
+            function Ba(e, t, n, r) {
+                const [i, a, o, u] = Da(e, t, n, !0), s = i.length, l = Math.max(2, ~~(r * s)), c = new Float64Array(s), f = new Float64Array(s), d = new Float64Array(s).fill(1);
+                for (let e = -1; ++e <= Ia;) {
                     const t = [0, l - 1];
                     for (let e = 0; e < s; ++e) {
                         const n = i[e],
                             r = t[0],
                             o = t[1],
                             u = n - i[r] > i[o] - n ? r : o;
                         let s = 0,
@@ -4396,51 +4394,51 @@
                             h = 0,
                             p = 0,
                             g = 0;
                         const m = 1 / Math.abs(i[u] - n || 1);
                         for (let e = r; e <= o; ++e) {
                             const t = i[e],
                                 r = a[e],
-                                o = Ia(Math.abs(n - t) * m) * d[e],
+                                o = Ua(Math.abs(n - t) * m) * d[e],
                                 u = t * o;
                             s += o, l += u, h += r * o, p += r * u, g += t * u
                         }
-                        const [v, y] = ka(l / s, h / s, p / s, g / s);
-                        c[e] = v + y * n, f[e] = Math.abs(a[e] - c[e]), Ua(i, e + 1, t)
+                        const [v, y] = Ma(l / s, h / s, p / s, g / s);
+                        c[e] = v + y * n, f[e] = Math.abs(a[e] - c[e]), qa(i, e + 1, t)
                     }
-                    if (2 === e) break;
-                    const n = Xi(f);
-                    if (Math.abs(n) < 1e-12) break;
-                    for (let e, t, r = 0; r < s; ++r) e = f[r] / (6 * n), d[r] = e >= 1 ? 1e-12 : (t = 1 - e * e) * t
+                    if (e === Ia) break;
+                    const n = $i(f);
+                    if (Math.abs(n) < ja) break;
+                    for (let e, t, r = 0; r < s; ++r) e = f[r] / (6 * n), d[r] = e >= 1 ? ja : (t = 1 - e * e) * t
                 }
                 return function(e, t, n, r) {
                     const i = e.length,
                         a = [];
                     let o, u = 0,
                         s = 0,
                         l = [];
                     for (; u < i; ++u) o = e[u] + n, l[0] === o ? l[1] += (t[u] - l[1]) / ++s : (s = 0, l[1] += r, l = [o, t[u]], a.push(l));
                     return l[1] += r, a
                 }(i, c, o, u)
             }
 
-            function Ia(e) {
+            function Ua(e) {
                 return (e = 1 - e * e * e) * e * e
             }
 
-            function Ua(e, t, n) {
+            function qa(e, t, n) {
                 const r = e[t];
                 let i = n[0],
                     a = n[1] + 1;
                 if (!(a >= e.length))
                     for (; t > i && e[a] - r <= r - e[i];) n[0] = ++i, n[1] = a, ++a
             }
-            const ja = .5 * Math.PI / 180;
+            const Ha = .5 * Math.PI / 180;
 
-            function Ba(e, t, n, r) {
+            function Wa(e, t, n, r) {
                 n = n || 25, r = Math.max(n, r || 200);
                 const i = t => [t, e(t)],
                     a = t[0],
                     o = t[1],
                     u = o - a,
                     s = u / r,
                     l = [i(a)],
@@ -4462,100 +4460,100 @@
                             const i = t[e][1];
                             i < n && (n = i), i > r && (r = i)
                         }
                         return 1 / (r - n)
                     }(f[1], c);
                 for (; d;) {
                     const e = i((f[0] + d[0]) / 2);
-                    e[0] - f[0] >= s && qa(f, e, d, h, p) > ja ? c.push(e) : (f = d, l.push(d), c.pop()), d = c[c.length - 1]
+                    e[0] - f[0] >= s && Va(f, e, d, h, p) > Ha ? c.push(e) : (f = d, l.push(d), c.pop()), d = c[c.length - 1]
                 }
                 return l
             }
 
-            function qa(e, t, n, r, i) {
+            function Va(e, t, n, r, i) {
                 const a = Math.atan2(i * (n[1] - e[1]), r * (n[0] - e[0])),
                     o = Math.atan2(i * (t[1] - e[1]), r * (t[0] - e[0]));
                 return Math.abs(a - o)
             }
 
-            function Ha(e) {
-                this._key = e ? (0, ke.field)(e) : Ne, this.reset()
+            function Ga(e) {
+                this._key = e ? (0, Ee.field)(e) : Ce, this.reset()
             }
-            var Wa = Ha.prototype;
+            var Ya = Ga.prototype;
 
-            function Ya(e) {
-                Di.call(this, null, e), this._adds = [], this._mods = [], this._alen = 0, this._mlen = 0, this._drop = !0, this._cross = !1, this._dims = [], this._dnames = [], this._measures = [], this._countOnly = !1, this._counts = null, this._prev = null, this._inputs = null, this._outputs = null
+            function Xa(e) {
+                Ci.call(this, null, e), this._adds = [], this._mods = [], this._alen = 0, this._mlen = 0, this._drop = !0, this._cross = !1, this._dims = [], this._dnames = [], this._measures = [], this._countOnly = !1, this._counts = null, this._prev = null, this._inputs = null, this._outputs = null
             }
-            Wa.reset = function() {
+            Ya.reset = function() {
                 this._add = [], this._rem = [], this._ext = null, this._get = null, this._q = null
-            }, Wa.add = function(e) {
+            }, Ya.add = function(e) {
                 this._add.push(e)
-            }, Wa.rem = function(e) {
+            }, Ya.rem = function(e) {
                 this._rem.push(e)
-            }, Wa.values = function() {
+            }, Ya.values = function() {
                 if (this._get = null, 0 === this._rem.length) return this._add;
                 var e, t, n, r = this._add,
                     i = this._rem,
                     a = this._key,
                     o = r.length,
                     u = i.length,
                     s = Array(o - u),
                     l = {};
                 for (e = 0; e < u; ++e) l[a(i[e])] = 1;
                 for (e = 0, t = 0; e < o; ++e) l[a(n = r[e])] ? l[a(n)] = 0 : s[t++] = n;
                 return this._rem = [], this._add = s
-            }, Wa.distinct = function(e) {
+            }, Ya.distinct = function(e) {
                 for (var t, n = this.values(), r = n.length, i = {}, a = 0; --r >= 0;) t = e(n[r]) + "", i.hasOwnProperty(t) || (i[t] = 1, ++a);
                 return a
-            }, Wa.extent = function(e) {
+            }, Ya.extent = function(e) {
                 if (this._get !== e || !this._ext) {
                     var t = this.values(),
-                        n = (0, ke.extentIndex)(t, e);
+                        n = (0, Ee.extentIndex)(t, e);
                     this._ext = [t[n[0]], t[n[1]]], this._get = e
                 }
                 return this._ext
-            }, Wa.argmin = function(e) {
+            }, Ya.argmin = function(e) {
                 return this.extent(e)[0] || {}
-            }, Wa.argmax = function(e) {
+            }, Ya.argmax = function(e) {
                 return this.extent(e)[1] || {}
-            }, Wa.min = function(e) {
+            }, Ya.min = function(e) {
                 var t = this.extent(e)[0];
                 return null != t ? e(t) : 1 / 0
-            }, Wa.max = function(e) {
+            }, Ya.max = function(e) {
                 var t = this.extent(e)[1];
                 return null != t ? e(t) : -1 / 0
-            }, Wa.quartile = function(e) {
-                return this._get === e && this._q || (this._q = Ji(this.values(), e), this._get = e), this._q
-            }, Wa.q1 = function(e) {
+            }, Ya.quartile = function(e) {
+                return this._get === e && this._q || (this._q = Qi(this.values(), e), this._get = e), this._q
+            }, Ya.q1 = function(e) {
                 return this.quartile(e)[0]
-            }, Wa.q2 = function(e) {
+            }, Ya.q2 = function(e) {
                 return this.quartile(e)[1]
-            }, Wa.q3 = function(e) {
+            }, Ya.q3 = function(e) {
                 return this.quartile(e)[2]
-            }, Wa.ci = function(e) {
-                return this._get === e && this._ci || (this._ci = na(this.values(), 1e3, .05, e), this._get = e), this._ci
-            }, Wa.ci0 = function(e) {
+            }, Ya.ci = function(e) {
+                return this._get === e && this._ci || (this._ci = ra(this.values(), 1e3, .05, e), this._get = e), this._ci
+            }, Ya.ci0 = function(e) {
                 return this.ci(e)[0]
-            }, Wa.ci1 = function(e) {
+            }, Ya.ci1 = function(e) {
                 return this.ci(e)[1]
-            }, Ya.Definition = {
+            }, Xa.Definition = {
                 type: "Aggregate",
                 metadata: {
                     generates: !0,
                     changes: !0
                 },
                 params: [{
                     name: "groupby",
                     type: "field",
                     array: !0
                 }, {
                     name: "ops",
                     type: "enum",
                     array: !0,
-                    values: Li
+                    values: zi
                 }, {
                     name: "fields",
                     type: "field",
                     null: !0,
                     array: !0
                 }, {
                     name: "as",
@@ -4571,30 +4569,30 @@
                     type: "boolean",
                     default: !1
                 }, {
                     name: "key",
                     type: "field"
                 }]
             };
-            var Va = (0, ke.inherits)(Ya, Di);
+            var $a = (0, Ee.inherits)(Xa, Ci);
 
-            function Ga(e) {
-                Di.call(this, null, e)
+            function Ka(e) {
+                Ci.call(this, null, e)
             }
-            Va.transform = function(e, t) {
+            $a.transform = function(e, t) {
                 var n, r = this,
                     i = t.fork(t.NO_SOURCE | t.NO_FIELDS);
                 return this.stamp = i.stamp, this.value && ((n = e.modified()) || t.modified(this._inputs)) ? (this._prev = this.value, this.value = n ? this.init(e) : {}, t.visit(t.SOURCE, (function(e) {
                     r.add(e)
                 }))) : (this.value = this.value || this.init(e), t.visit(t.REM, (function(e) {
                     r.rem(e)
                 })), t.visit(t.ADD, (function(e) {
                     r.add(e)
                 }))), i.modifies(this._outputs), r._drop = !1 !== e.drop, e.cross && r._dims.length > 1 && (r._drop = !1, this.cross()), r.changes(i)
-            }, Va.cross = function() {
+            }, $a.cross = function() {
                 var e = this,
                     t = e.value,
                     n = e._dnames,
                     r = n.map((function() {
                         return {}
                     })),
                     i = n.length;
@@ -4606,90 +4604,90 @@
                 }
                 a(e._prev), a(t),
                     function a(o, u, s) {
                         var l, c, f = n[s],
                             d = r[s++];
                         for (l in d) u[f] = d[l], c = o ? o + "|" + l : l, s < i ? a(c, u, s) : t[c] || e.cell(c, u)
                     }("", {}, 0)
-            }, Va.init = function(e) {
+            }, $a.init = function(e) {
                 var t = this._inputs = [],
                     n = this._outputs = [],
                     r = {};
 
                 function i(e) {
-                    for (var n, i = (0, ke.array)((0, ke.accessorFields)(e)), a = 0, o = i.length; a < o; ++a) r[n = i[a]] || (r[n] = 1, t.push(n))
+                    for (var n, i = (0, Ee.array)((0, Ee.accessorFields)(e)), a = 0, o = i.length; a < o; ++a) r[n = i[a]] || (r[n] = 1, t.push(n))
                 }
-                this._dims = (0, ke.array)(e.groupby), this._dnames = this._dims.map((function(e) {
-                    var t = (0, ke.accessorName)(e);
+                this._dims = (0, Ee.array)(e.groupby), this._dnames = this._dims.map((function(e) {
+                    var t = (0, Ee.accessorName)(e);
                     return i(e), n.push(t), t
-                })), this.cellkey = e.key ? e.key : Oi(this._dims), this._countOnly = !0, this._counts = [], this._measures = [];
+                })), this.cellkey = e.key ? e.key : Pi(this._dims), this._countOnly = !0, this._counts = [], this._measures = [];
                 var a, o, u, s, l, c, f = e.fields || [null],
                     d = e.ops || ["count"],
                     h = e.as || [],
                     p = f.length,
                     g = {};
-                for (p !== d.length && (0, ke.error)("Unmatched number of fields and aggregate ops."), c = 0; c < p; ++c) a = f[c], o = d[c], null == a && "count" !== o && (0, ke.error)("Null aggregate field specified."), l = Pi(o, s = (0, ke.accessorName)(a), h[c]), n.push(l), "count" !== o ? ((u = g[s]) || (i(a), (u = g[s] = []).field = a, this._measures.push(u)), "count" !== o && (this._countOnly = !1), u.push(zi(o, l))) : this._counts.push(l);
+                for (p !== d.length && (0, Ee.error)("Unmatched number of fields and aggregate ops."), c = 0; c < p; ++c) a = f[c], o = d[c], null == a && "count" !== o && (0, Ee.error)("Null aggregate field specified."), l = Ri(o, s = (0, Ee.accessorName)(a), h[c]), n.push(l), "count" !== o ? ((u = g[s]) || (i(a), (u = g[s] = []).field = a, this._measures.push(u)), "count" !== o && (this._countOnly = !1), u.push(Ii(o, l))) : this._counts.push(l);
                 return this._measures = this._measures.map((function(e) {
-                    return ji(e, e.field)
+                    return Ui(e, e.field)
                 })), {}
-            }, Va.cellkey = Oi(), Va.cell = function(e, t) {
+            }, $a.cellkey = Pi(), $a.cell = function(e, t) {
                 var n = this.value[e];
                 return n ? 0 === n.num && this._drop && n.stamp < this.stamp ? (n.stamp = this.stamp, this._adds[this._alen++] = n) : n.stamp < this.stamp && (n.stamp = this.stamp, this._mods[this._mlen++] = n) : (n = this.value[e] = this.newcell(e, t), this._adds[this._alen++] = n), n
-            }, Va.newcell = function(e, t) {
+            }, $a.newcell = function(e, t) {
                 var n = {
                     key: e,
                     num: 0,
                     agg: null,
                     tuple: this.newtuple(t, this._prev && this._prev[e]),
                     stamp: this.stamp,
                     store: !1
                 };
                 if (!this._countOnly) {
                     var r, i = this._measures,
                         a = i.length;
                     for (n.agg = Array(a), r = 0; r < a; ++r) n.agg[r] = new i[r](n)
                 }
-                return n.store && (n.data = new Ha), n
-            }, Va.newtuple = function(e, t) {
+                return n.store && (n.data = new Ga), n
+            }, $a.newtuple = function(e, t) {
                 var n, r, i = this._dnames,
                     a = this._dims,
                     o = {};
                 for (n = 0, r = a.length; n < r; ++n) o[i[n]] = a[n](e);
-                return t ? Le(t.tuple, o) : Oe(o)
-            }, Va.add = function(e) {
+                return t ? Pe(t.tuple, o) : Ne(o)
+            }, $a.add = function(e) {
                 var t, n, r, i = this.cellkey(e),
                     a = this.cell(i, e);
                 if (a.num += 1, !this._countOnly)
                     for (a.store && a.data.add(e), n = 0, r = (t = a.agg).length; n < r; ++n) t[n].add(t[n].get(e), e)
-            }, Va.rem = function(e) {
+            }, $a.rem = function(e) {
                 var t, n, r, i = this.cellkey(e),
                     a = this.cell(i, e);
                 if (a.num -= 1, !this._countOnly)
                     for (a.store && a.data.rem(e), n = 0, r = (t = a.agg).length; n < r; ++n) t[n].rem(t[n].get(e), e)
-            }, Va.celltuple = function(e) {
+            }, $a.celltuple = function(e) {
                 var t, n, r, i = e.tuple,
                     a = this._counts;
                 for (e.store && e.data.values(), n = 0, r = a.length; n < r; ++n) i[a[n]] = e.num;
                 if (!this._countOnly)
                     for (n = 0, r = (t = e.agg).length; n < r; ++n) t[n].set(i);
                 return i
-            }, Va.changes = function(e) {
+            }, $a.changes = function(e) {
                 var t, n, r, i, a = this._adds,
                     o = this._mods,
                     u = this._prev,
                     s = this._drop,
                     l = e.add,
                     c = e.rem,
                     f = e.mod;
                 if (u)
                     for (n in u) t = u[n], s && !t.num || c.push(t.tuple);
                 for (r = 0, i = this._alen; r < i; ++r) l.push(this.celltuple(a[r])), a[r] = null;
                 for (r = 0, i = this._mlen; r < i; ++r)(0 === (t = o[r]).num && s ? c : f).push(this.celltuple(t)), o[r] = null;
                 return this._alen = this._mlen = 0, this._prev = null, e
-            }, Ga.Definition = {
+            }, Ka.Definition = {
                 type: "Bin",
                 metadata: {
                     modifies: !0
                 },
                 params: [{
                     name: "field",
                     type: "field",
@@ -4738,17 +4736,17 @@
                     name: "as",
                     type: "string",
                     array: !0,
                     length: 2,
                     default: ["bin0", "bin1"]
                 }]
             };
-            var Xa = (0, ke.inherits)(Ga, Di);
+            var Ja = (0, Ee.inherits)(Ka, Ci);
 
-            function $a(e, t, n) {
+            function Qa(e, t, n) {
                 var r = e,
                     i = t || [],
                     a = n || [],
                     o = {},
                     u = 0;
                 return {
                     add: function(e) {
@@ -4759,74 +4757,74 @@
                     },
                     size: function() {
                         return i.length
                     },
                     data: function(e, t) {
                         return u && (i = i.filter((function(e) {
                             return !o[r(e)]
-                        })), o = {}, u = 0), t && e && i.sort(e), a.length && (i = e ? (0, ke.merge)(e, i, a.sort(e)) : i.concat(a), a = []), i
+                        })), o = {}, u = 0), t && e && i.sort(e), a.length && (i = e ? (0, Ee.merge)(e, i, a.sort(e)) : i.concat(a), a = []), i
                     }
                 }
             }
 
-            function Ka(e) {
-                Di.call(this, [], e)
+            function Za(e) {
+                Ci.call(this, [], e)
             }
 
-            function Ja(e) {
-                We.call(this, null, Qa, e)
+            function eo(e) {
+                qe.call(this, null, to, e)
             }
 
-            function Qa(e) {
-                return this.value && !e.modified() ? this.value : (0, ke.compare)(e.fields, e.orders)
+            function to(e) {
+                return this.value && !e.modified() ? this.value : (0, Ee.compare)(e.fields, e.orders)
             }
 
-            function Za(e) {
-                Di.call(this, null, e)
+            function no(e) {
+                Ci.call(this, null, e)
             }
-            Xa.transform = function(e, t) {
+            Ja.transform = function(e, t) {
                 var n, r = this._bins(e),
                     i = r.start,
                     a = r.step,
                     o = e.as || ["bin0", "bin1"],
                     u = o[0],
                     s = o[1];
-                return n = e.modified() ? (t = t.reflow(!0)).SOURCE : t.modified((0, ke.accessorFields)(e.field)) ? t.ADD_MOD : t.ADD, t.visit(n, (function(e) {
+                return n = e.modified() ? (t = t.reflow(!0)).SOURCE : t.modified((0, Ee.accessorFields)(e.field)) ? t.ADD_MOD : t.ADD, t.visit(n, (function(e) {
                     var t = r(e);
                     e[u] = t, e[s] = null == t ? null : i + a * (1 + (t - i) / a)
                 })), t.modifies(o)
-            }, Xa._bins = function(e) {
+            }, Ja._bins = function(e) {
                 if (this.value && !e.modified()) return this.value;
                 var t, n, r = e.field,
-                    i = Zi(e),
+                    i = ea(e),
                     a = i.start,
                     o = i.stop,
                     u = i.step;
                 null != (t = e.anchor) && (n = t - (a + u * Math.floor((t - a) / u)), a += n, o += n);
                 var s = function(e) {
                     var t = r(e);
                     return null == t ? null : (t = Math.max(a, Math.min(+t, o - u)), a + u * Math.floor((t - a) / u))
                 };
-                return s.start = a, s.stop = o, s.step = u, this.value = (0, ke.accessor)(s, (0, ke.accessorFields)(r), e.name || "bin_" + (0, ke.accessorName)(r))
-            }, Ka.Definition = {
+                return s.start = a, s.stop = o, s.step = u, this.value = (0, Ee.accessor)(s, (0, Ee.accessorFields)(r), e.name || "bin_" + (0, Ee.accessorName)(r))
+            }, Za.Definition = {
                 type: "Collect",
                 metadata: {
                     source: !0
                 },
                 params: [{
                     name: "sort",
                     type: "compare"
                 }]
-            }, (0, ke.inherits)(Ka, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(Za, Ci).transform = function(e, t) {
                 var n = t.fork(t.ALL),
-                    r = $a(Ne, this.value, n.materialize(n.ADD).add),
+                    r = Qa(Ce, this.value, n.materialize(n.ADD).add),
                     i = e.sort,
                     a = t.changed() || i && (e.modified("sort") || t.modified(i.fields));
                 return n.visit(n.REM, r.remove), this.modified(a), this.value = n.source = r.data(i, a), t.source && t.source.root && (this.value.root = t.source.root), n
-            }, (0, ke.inherits)(Ja, We), Za.Definition = {
+            }, (0, Ee.inherits)(eo, qe), no.Definition = {
                 type: "CountPattern",
                 metadata: {
                     generates: !0,
                     changes: !0
                 },
                 params: [{
                     name: "field",
@@ -4849,20 +4847,20 @@
                     name: "as",
                     type: "string",
                     array: !0,
                     length: 2,
                     default: ["text", "count"]
                 }]
             };
-            var eo = (0, ke.inherits)(Za, Di);
+            var ro = (0, Ee.inherits)(no, Ci);
 
-            function to(e) {
-                Di.call(this, null, e)
+            function io(e) {
+                Ci.call(this, null, e)
             }
-            eo.transform = function(e, t) {
+            ro.transform = function(e, t) {
                 function n(t) {
                     return function(n) {
                         for (var r, i = function(e, t, n) {
                                 switch (t) {
                                     case "upper":
                                         e = e.toUpperCase();
                                         break;
@@ -4882,77 +4880,78 @@
                     l = n((function(e) {
                         i[e] = 1 + (i[e] || 0)
                     })),
                     c = n((function(e) {
                         i[e] -= 1
                     }));
                 return r ? t.visit(t.SOURCE, l) : (t.visit(t.ADD, l), t.visit(t.REM, c)), this._finish(t, s)
-            }, eo._parameterCheck = function(e, t) {
+            }, ro._parameterCheck = function(e, t) {
                 var n = !1;
                 return !e.modified("stopwords") && this._stop || (this._stop = new RegExp("^" + (e.stopwords || "") + "$", "i"), n = !0), !e.modified("pattern") && this._match || (this._match = new RegExp(e.pattern || "[\\w']+", "g"), n = !0), (e.modified("field") || t.modified(e.field.fields)) && (n = !0), n && (this._counts = {}), n
-            }, eo._finish = function(e, t) {
+            }, ro._finish = function(e, t) {
                 var n, r, i, a = this._counts,
                     o = this._tuples || (this._tuples = {}),
                     u = t[0],
                     s = t[1],
                     l = e.fork(e.NO_SOURCE | e.NO_FIELDS);
-                for (n in a) r = o[n], i = a[n] || 0, !r && i ? (o[n] = r = Oe({}), r[u] = n, r[s] = i, l.add.push(r)) : 0 === i ? (r && l.rem.push(r), a[n] = null, o[n] = null) : r[s] !== i && (r[s] = i, l.mod.push(r));
+                for (n in a) r = o[n], i = a[n] || 0, !r && i ? (o[n] = r = Ne({}), r[u] = n, r[s] = i, l.add.push(r)) : 0 === i ? (r && l.rem.push(r), a[n] = null, o[n] = null) : r[s] !== i && (r[s] = i, l.mod.push(r));
                 return l.modifies(t)
-            }, to.Definition = {
+            }, io.Definition = {
                 type: "Cross",
                 metadata: {
                     generates: !0
                 },
                 params: [{
                     name: "filter",
                     type: "expr"
                 }, {
                     name: "as",
                     type: "string",
                     array: !0,
                     length: 2,
                     default: ["a", "b"]
                 }]
-            }, (0, ke.inherits)(to, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(io, Ci).transform = function(e, t) {
                 var n = t.fork(t.NO_SOURCE),
                     r = this.value,
                     i = e.as || ["a", "b"],
                     a = i[0],
                     o = i[1];
                 return !r || t.changed(t.ADD_REM) || e.modified("as") || e.modified("filter") ? (r && (n.rem = r), r = t.materialize(t.SOURCE).source, n.add = this.value = function(e, t, n, r) {
                     for (var i, a, o = [], u = {}, s = e.length, l = 0; l < s; ++l)
-                        for (u[t] = a = e[l], i = 0; i < s; ++i) u[n] = e[i], r(u) && (o.push(Oe(u)), (u = {})[t] = a);
+                        for (u[t] = a = e[l], i = 0; i < s; ++i) u[n] = e[i], r(u) && (o.push(Ne(u)), (u = {})[t] = a);
                     return o
-                }(r, a, o, e.filter || ke.truthy)) : n.mod = r, n.source = this.value, n.modifies(i)
+                }(r, a, o, e.filter || Ee.truthy)) : n.mod = r, n.source = this.value, n.modifies(i)
             };
-            var no = {
-                kde: pa,
-                mixture: _a,
-                normal: ha,
-                uniform: Aa
-            };
-
-            function ro(e, t) {
-                var n = e.function;
-                no.hasOwnProperty(n) || (0, ke.error)("Unknown distribution function: " + n);
-                var r = no[n]();
+            var ao = {
+                    kde: ga,
+                    mixture: xa,
+                    normal: pa,
+                    uniform: ka
+                },
+                oo = "function";
+
+            function uo(e, t) {
+                var n = e[oo];
+                ao.hasOwnProperty(n) || (0, Ee.error)("Unknown distribution function: " + n);
+                var r = ao[n]();
                 for (var i in e) "field" === i ? r.data((e.from || t()).map(e[i])) : "distributions" === i ? r[i](e[i].map((function(e) {
-                    return ro(e, t)
-                }))) : "function" == typeof r[i] && r[i](e[i]);
+                    return uo(e, t)
+                }))) : typeof r[i] === oo && r[i](e[i]);
                 return r
             }
 
-            function io(e, t) {
+            function so(e, t) {
                 return e < t ? -1 : e > t ? 1 : e >= t ? 0 : NaN
             }
 
-            function ao(e) {
+            function lo(e) {
                 var t;
                 return 1 === e.length && (t = e, e = function(e, n) {
-                    return io(t(e), n)
+                    return so(t(e), n)
                 }), {
                     left: function(t, n, r, i) {
                         for (null == r && (r = 0), null == i && (i = t.length); r < i;) {
                             var a = r + i >>> 1;
                             e(t[a], n) < 0 ? r = a + 1 : i = a
                         }
                         return r
@@ -4962,33 +4961,105 @@
                             var a = r + i >>> 1;
                             e(t[a], n) > 0 ? i = a : r = a + 1
                         }
                         return r
                     }
                 }
             }
-            var oo = ao(io);
-            oo.right, oo.left;
-            var uo = Array.prototype;
+            var co = lo(so),
+                fo = co.right,
+                ho = co.left;
+            const po = fo;
 
-            function so(e) {
+            function go(e, t) {
+                var n, r, i, a = e.length,
+                    o = -1;
+                if (null == t) {
+                    for (; ++o < a;)
+                        if (null != (n = e[o]) && n >= n)
+                            for (r = i = n; ++o < a;) null != (n = e[o]) && (r > n && (r = n), i < n && (i = n))
+                } else
+                    for (; ++o < a;)
+                        if (null != (n = t(e[o], o, e)) && n >= n)
+                            for (r = i = n; ++o < a;) null != (n = t(e[o], o, e)) && (r > n && (r = n), i < n && (i = n));
+                return [r, i]
+            }
+            var mo = Array.prototype,
+                vo = (mo.slice, mo.map, Math.sqrt(50)),
+                yo = Math.sqrt(10),
+                bo = Math.sqrt(2);
+
+            function _o(e, t, n) {
+                var r, i, a, o, u = -1;
+                if (n = +n, (e = +e) == (t = +t) && n > 0) return [e];
+                if ((r = t < e) && (i = e, e = t, t = i), 0 === (o = xo(e, t, n)) || !isFinite(o)) return [];
+                if (o > 0)
+                    for (e = Math.ceil(e / o), t = Math.floor(t / o), a = new Array(i = Math.ceil(t - e + 1)); ++u < i;) a[u] = (e + u) * o;
+                else
+                    for (e = Math.floor(e * o), t = Math.ceil(t * o), a = new Array(i = Math.ceil(e - t + 1)); ++u < i;) a[u] = (e - u) / o;
+                return r && a.reverse(), a
+            }
+
+            function xo(e, t, n) {
+                var r = (t - e) / Math.max(0, n),
+                    i = Math.floor(Math.log(r) / Math.LN10),
+                    a = r / Math.pow(10, i);
+                return i >= 0 ? (a >= vo ? 10 : a >= yo ? 5 : a >= bo ? 2 : 1) * Math.pow(10, i) : -Math.pow(10, -i) / (a >= vo ? 10 : a >= yo ? 5 : a >= bo ? 2 : 1)
+            }
+
+            function wo(e, t, n) {
+                var r = Math.abs(t - e) / Math.max(0, n),
+                    i = Math.pow(10, Math.floor(Math.log(r) / Math.LN10)),
+                    a = r / i;
+                return a >= vo ? i *= 10 : a >= yo ? i *= 5 : a >= bo && (i *= 2), t < e ? -i : i
+            }
+
+            function So(e) {
+                return Math.ceil(Math.log(e.length) / Math.LN2) + 1
+            }
+
+            function Eo(e, t) {
+                var n, r, i = e.length,
+                    a = -1;
+                if (null == t) {
+                    for (; ++a < i;)
+                        if (null != (n = e[a]) && n >= n)
+                            for (r = n; ++a < i;) null != (n = e[a]) && n > r && (r = n)
+                } else
+                    for (; ++a < i;)
+                        if (null != (n = t(e[a], a, e)) && n >= n)
+                            for (r = n; ++a < i;) null != (n = t(e[a], a, e)) && n > r && (r = n);
+                return r
+            }
+
+            function Ao(e) {
                 return null === e ? NaN : +e
             }
 
-            function lo(e, t, n) {
+            function ko(e, t, n) {
+                if (null == n && (n = Ao), r = e.length) {
+                    if ((t = +t) <= 0 || r < 2) return +n(e[0], 0, e);
+                    if (t >= 1) return +n(e[r - 1], r - 1, e);
+                    var r, i = (r - 1) * t,
+                        a = Math.floor(i),
+                        o = +n(e[a], a, e);
+                    return o + (+n(e[a + 1], a + 1, e) - o) * (i - a)
+                }
+            }
+
+            function Mo(e, t, n) {
                 e = +e, t = +t, n = (i = arguments.length) < 2 ? (t = e, e = 0, 1) : i < 3 ? 1 : +n;
                 for (var r = -1, i = 0 | Math.max(0, Math.ceil((t - e) / n)), a = new Array(i); ++r < i;) a[r] = e + r * n;
                 return a
             }
 
-            function co(e) {
-                Di.call(this, null, e)
+            function Do(e) {
+                Ci.call(this, null, e)
             }
-            uo.slice, uo.map, Math.sqrt(50), Math.sqrt(10), Math.sqrt(2);
-            var fo = [{
+            var Co = [{
                     key: {
                         function: "normal"
                     },
                     params: [{
                         name: "mean",
                         type: "number",
                         default: 0
@@ -5023,38 +5094,38 @@
                         type: "data"
                     }, {
                         name: "bandwidth",
                         type: "number",
                         default: 0
                     }]
                 }],
-                ho = {
+                Fo = {
                     key: {
                         function: "mixture"
                     },
                     params: [{
                         name: "distributions",
                         type: "param",
                         array: !0,
-                        params: fo
+                        params: Co
                     }, {
                         name: "weights",
                         type: "number",
                         array: !0
                     }]
                 };
 
-            function po(e) {
-                Di.call(this, [1 / 0, -1 / 0], e)
+            function No(e) {
+                Ci.call(this, [1 / 0, -1 / 0], e)
             }
 
-            function go(e, t) {
-                We.call(this, e), this.parent = t
+            function Oo(e, t) {
+                qe.call(this, e), this.parent = t
             }
-            co.Definition = {
+            Do.Definition = {
                 type: "Density",
                 metadata: {
                     generates: !0
                 },
                 params: [{
                     name: "extent",
                     type: "number",
@@ -5068,226 +5139,219 @@
                     name: "method",
                     type: "string",
                     default: "pdf",
                     values: ["pdf", "cdf"]
                 }, {
                     name: "distribution",
                     type: "param",
-                    params: fo.concat(ho)
+                    params: Co.concat(Fo)
                 }, {
                     name: "as",
                     type: "string",
                     array: !0,
                     default: ["value", "density"]
                 }]
-            }, (0, ke.inherits)(co, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(Do, Ci).transform = function(e, t) {
                 var n = t.fork(t.NO_SOURCE | t.NO_FIELDS);
                 if (!this.value || t.changed() || e.modified()) {
-                    var r = ro(e.distribution, function(e) {
+                    var r = uo(e.distribution, function(e) {
                             return function() {
                                 return e.materialize(e.SOURCE).source
                             }
                         }(t)),
                         i = e.method || "pdf";
-                    "pdf" !== i && "cdf" !== i && (0, ke.error)("Invalid density method: " + i), e.extent || r.data || (0, ke.error)("Missing density extent parameter."), i = r[i];
+                    "pdf" !== i && "cdf" !== i && (0, Ee.error)("Invalid density method: " + i), e.extent || r.data || (0, Ee.error)("Missing density extent parameter."), i = r[i];
                     var a = e.as || ["value", "density"],
-                        o = e.extent || function(e, t) {
-                            var n, r, i, a = e.length,
-                                o = -1;
-                            for (1; ++o < a;)
-                                if (null != (n = e[o]) && n >= n)
-                                    for (r = i = n; ++o < a;) null != (n = e[o]) && (r > n && (r = n), i < n && (i = n));
-                            return [r, i]
-                        }(r.data()),
+                        o = e.extent || go(r.data()),
                         u = (o[1] - o[0]) / (e.steps || 100),
-                        s = lo(o[0], o[1] + u / 2, u).map((function(e) {
+                        s = Mo(o[0], o[1] + u / 2, u).map((function(e) {
                             var t = {};
-                            return t[a[0]] = e, t[a[1]] = i(e), Oe(t)
+                            return t[a[0]] = e, t[a[1]] = i(e), Ne(t)
                         }));
                     this.value && (n.rem = this.value), this.value = n.add = n.source = s
                 }
                 return n
-            }, po.Definition = {
+            }, No.Definition = {
                 type: "Extent",
                 metadata: {},
                 params: [{
                     name: "field",
                     type: "field",
                     required: !0
                 }]
-            }, (0, ke.inherits)(po, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(No, Ci).transform = function(e, t) {
                 var n = this.value,
                     r = e.field,
                     i = n[0],
                     a = n[1],
                     o = t.ADD;
                 (t.changed() || t.modified(r.fields) || e.modified("field")) && (o = t.SOURCE, i = 1 / 0, a = -1 / 0), t.visit(o, (function(e) {
                     var t = r(e);
                     null != t && ((t = +t) < i && (i = t), t > a && (a = t))
                 })), this.value = [i, a]
             };
-            var mo = (0, ke.inherits)(go, We);
+            var To = (0, Ee.inherits)(Oo, qe);
 
-            function vo(e) {
-                Di.call(this, {}, e), this._keys = (0, ke.fastmap)();
+            function Po(e) {
+                Ci.call(this, {}, e), this._keys = (0, Ee.fastmap)();
                 var t = this._targets = [];
                 t.active = 0, t.forEach = function(e) {
                     for (var n = 0, r = t.active; n < r; ++n) e(t[n], n, t)
                 }
             }
-            mo.connect = function(e) {
+            To.connect = function(e) {
                 return this.targets().add(e), e.source = this
-            }, mo.add = function(e) {
+            }, To.add = function(e) {
                 this.value.add.push(e)
-            }, mo.rem = function(e) {
+            }, To.rem = function(e) {
                 this.value.rem.push(e)
-            }, mo.mod = function(e) {
+            }, To.mod = function(e) {
                 this.value.mod.push(e)
-            }, mo.init = function(e) {
+            }, To.init = function(e) {
                 this.value.init(e, e.NO_SOURCE)
-            }, mo.evaluate = function() {
+            }, To.evaluate = function() {
                 return this.value
             };
-            var yo = (0, ke.inherits)(vo, Di);
+            var Ro = (0, Ee.inherits)(Po, Ci);
 
-            function bo(e) {
-                We.call(this, null, _o, e)
+            function Lo(e) {
+                qe.call(this, null, zo, e)
             }
 
-            function _o(e) {
-                return this.value && !e.modified() ? this.value : (0, ke.isArray)(e.name) ? (0, ke.array)(e.name).map((function(e) {
-                    return (0, ke.field)(e)
-                })) : (0, ke.field)(e.name, e.as)
+            function zo(e) {
+                return this.value && !e.modified() ? this.value : (0, Ee.isArray)(e.name) ? (0, Ee.array)(e.name).map((function(e) {
+                    return (0, Ee.field)(e)
+                })) : (0, Ee.field)(e.name, e.as)
             }
 
-            function xo(e) {
-                Di.call(this, (0, ke.fastmap)(), e)
+            function Io(e) {
+                Ci.call(this, (0, Ee.fastmap)(), e)
             }
 
-            function wo(e, t) {
+            function jo(e, t) {
                 return e ? e.map((function(e, n) {
-                    return t[n] || (0, ke.accessorName)(e)
+                    return t[n] || (0, Ee.accessorName)(e)
                 })) : null
             }
 
-            function So(e) {
-                Di.call(this, [], e)
+            function Bo(e) {
+                Ci.call(this, [], e)
             }
 
-            function Eo(e) {
-                Di.call(this, [], e)
+            function Uo(e) {
+                Ci.call(this, [], e)
             }
 
-            function Ao(e) {
-                Di.call(this, null, e)
+            function qo(e) {
+                Ci.call(this, null, e)
             }
 
-            function ko(e) {
-                Di.call(this, [], e)
+            function Ho(e) {
+                Ci.call(this, [], e)
             }
-            yo.activate = function(e) {
+            Ro.activate = function(e) {
                 this._targets[this._targets.active++] = e
-            }, yo.subflow = function(e, t, n, r) {
+            }, Ro.subflow = function(e, t, n, r) {
                 var i, a, o = this.value,
                     u = o.hasOwnProperty(e) && o[e];
-                return u ? u.value.stamp < n.stamp && (u.init(n), this.activate(u)) : (a = r || (a = this._group[e]) && a.tuple, u = (i = n.dataflow).add(new go(n.fork(n.NO_SOURCE), this)).connect(t(i, e, a)), o[e] = u, this.activate(u)), u
-            }, yo.transform = function(e, t) {
+                return u ? u.value.stamp < n.stamp && (u.init(n), this.activate(u)) : (a = r || (a = this._group[e]) && a.tuple, u = (i = n.dataflow).add(new Oo(n.fork(n.NO_SOURCE), this)).connect(t(i, e, a)), o[e] = u, this.activate(u)), u
+            }, Ro.transform = function(e, t) {
                 var n = t.dataflow,
                     r = this,
                     i = e.key,
                     a = e.subflow,
                     o = this._keys,
                     u = e.modified("key");
 
                 function s(e) {
                     return r.subflow(e, a, t)
                 }
                 return this._group = e.group || {}, this._targets.active = 0, t.visit(t.REM, (function(e) {
-                    var t = Ne(e),
+                    var t = Ce(e),
                         n = o.get(t);
                     void 0 !== n && (o.delete(t), s(n).rem(e))
                 })), t.visit(t.ADD, (function(e) {
                     var t = i(e);
-                    o.set(Ne(e), t), s(t).add(e)
+                    o.set(Ce(e), t), s(t).add(e)
                 })), u || t.modified(i.fields) ? t.visit(t.MOD, (function(e) {
-                    var t = Ne(e),
+                    var t = Ce(e),
                         n = o.get(t),
                         r = i(e);
                     n === r ? s(r).mod(e) : (o.set(t, r), s(n).rem(e), s(r).add(e))
                 })) : t.changed(t.MOD) && t.visit(t.MOD, (function(e) {
-                    s(o.get(Ne(e))).mod(e)
+                    s(o.get(Ce(e))).mod(e)
                 })), u && t.visit(t.REFLOW, (function(e) {
-                    var t = Ne(e),
+                    var t = Ce(e),
                         n = o.get(t),
                         r = i(e);
                     n !== r && (o.set(t, r), s(n).rem(e), s(r).add(e))
                 })), o.empty > n.cleanThreshold && n.runAfter(o.clean), t
-            }, (0, ke.inherits)(bo, We), xo.Definition = {
+            }, (0, Ee.inherits)(Lo, qe), Io.Definition = {
                 type: "Filter",
                 metadata: {
                     changes: !0
                 },
                 params: [{
                     name: "expr",
                     type: "expr",
                     required: !0
                 }]
-            }, (0, ke.inherits)(xo, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(Io, Ci).transform = function(e, t) {
                 var n = t.dataflow,
                     r = this.value,
                     i = t.fork(),
                     a = i.add,
                     o = i.rem,
                     u = i.mod,
                     s = e.expr,
                     l = !0;
 
                 function c(t) {
-                    var n = Ne(t),
+                    var n = Ce(t),
                         i = s(t, e),
                         c = r.get(n);
                     i && c ? (r.delete(n), a.push(t)) : i || c ? l && i && !c && u.push(t) : (r.set(n, 1), o.push(t))
                 }
                 return t.visit(t.REM, (function(e) {
-                    var t = Ne(e);
+                    var t = Ce(e);
                     r.has(t) ? r.delete(t) : o.push(e)
                 })), t.visit(t.ADD, (function(t) {
-                    s(t, e) ? a.push(t) : r.set(Ne(t), 1)
+                    s(t, e) ? a.push(t) : r.set(Ce(t), 1)
                 })), t.visit(t.MOD, c), e.modified() && (l = !1, t.visit(t.REFLOW, c)), r.empty > n.cleanThreshold && n.runAfter(r.clean), i
-            }, So.Definition = {
+            }, Bo.Definition = {
                 type: "Flatten",
                 metadata: {
                     generates: !0
                 },
                 params: [{
                     name: "fields",
                     type: "field",
                     array: !0,
                     required: !0
                 }, {
                     name: "as",
                     type: "string",
                     array: !0
                 }]
-            }, (0, ke.inherits)(So, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(Bo, Ci).transform = function(e, t) {
                 var n = t.fork(t.NO_SOURCE),
                     r = e.fields,
-                    i = wo(r, e.as || []),
+                    i = jo(r, e.as || []),
                     a = i.length;
                 return n.rem = this.value, t.visit(t.SOURCE, (function(e) {
                     for (var t, o, u, s = r.map((function(t) {
                             return t(e)
                         })), l = s.reduce((function(e, t) {
                             return Math.max(e, t.length)
                         }), 0), c = 0; c < l; ++c) {
-                        for (o = Pe(e), t = 0; t < a; ++t) o[i[t]] = null == (u = s[t][c]) ? null : u;
+                        for (o = Oe(e), t = 0; t < a; ++t) o[i[t]] = null == (u = s[t][c]) ? null : u;
                         n.add.push(o)
                     }
                 })), this.value = n.source = n.add, n.modifies(i)
-            }, Eo.Definition = {
+            }, Uo.Definition = {
                 type: "Fold",
                 metadata: {
                     generates: !0
                 },
                 params: [{
                     name: "fields",
                     type: "field",
@@ -5296,26 +5360,26 @@
                 }, {
                     name: "as",
                     type: "string",
                     array: !0,
                     length: 2,
                     default: ["key", "value"]
                 }]
-            }, (0, ke.inherits)(Eo, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(Uo, Ci).transform = function(e, t) {
                 var n = t.fork(t.NO_SOURCE),
                     r = e.fields,
-                    i = r.map(ke.accessorName),
+                    i = r.map(Ee.accessorName),
                     a = e.as || ["key", "value"],
                     o = a[0],
                     u = a[1],
                     s = r.length;
                 return n.rem = this.value, t.visit(t.SOURCE, (function(e) {
-                    for (var t, a = 0; a < s; ++a)(t = Pe(e))[o] = i[a], t[u] = r[a](e), n.add.push(t)
+                    for (var t, a = 0; a < s; ++a)(t = Oe(e))[o] = i[a], t[u] = r[a](e), n.add.push(t)
                 })), this.value = n.source = n.add, n.modifies(a)
-            }, Ao.Definition = {
+            }, qo.Definition = {
                 type: "Formula",
                 metadata: {
                     modifies: !0
                 },
                 params: [{
                     name: "expr",
                     type: "expr",
@@ -5324,63 +5388,54 @@
                     name: "as",
                     type: "string",
                     required: !0
                 }, {
                     name: "initonly",
                     type: "boolean"
                 }]
-            }, (0, ke.inherits)(Ao, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(qo, Ci).transform = function(e, t) {
                 var n = e.expr,
                     r = e.as,
                     i = e.modified(),
                     a = e.initonly ? t.ADD : i ? t.SOURCE : t.modified(n.fields) ? t.ADD_MOD : t.ADD;
                 return i && (t = t.materialize().reflow(!0)), e.initonly || t.modifies(r), t.visit(a, (function(t) {
                     t[r] = n(t, e)
                 }))
-            }, (0, ke.inherits)(ko, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(Ho, Ci).transform = function(e, t) {
                 var n, r, i, a = this.value,
                     o = t.fork(t.ALL),
                     u = e.size - a.length,
                     s = e.generator;
                 if (u > 0) {
-                    for (n = []; --u >= 0;) n.push(i = Oe(s(e))), a.push(i);
+                    for (n = []; --u >= 0;) n.push(i = Ne(s(e))), a.push(i);
                     o.add = o.add.length ? o.materialize(o.ADD).add.concat(n) : n
                 } else r = a.slice(0, -u), o.rem = o.rem.length ? o.materialize(o.REM).rem.concat(r) : r, a = a.slice(-u);
                 return o.source = this.value = a, o
             };
-            var Mo = {
+            var Wo = {
                     value: "value",
                     median: function(e, t) {
                         var n, r = e.length,
                             i = -1,
                             a = [];
                         if (null == t)
-                            for (; ++i < r;) isNaN(n = so(e[i])) || a.push(n);
+                            for (; ++i < r;) isNaN(n = Ao(e[i])) || a.push(n);
                         else
-                            for (; ++i < r;) isNaN(n = so(t(e[i], i, e))) || a.push(n);
-                        return function(e, t, n) {
-                            if (null == n && (n = so), r = e.length) {
-                                if ((t = +t) <= 0 || r < 2) return +n(e[0], 0, e);
-                                if (t >= 1) return +n(e[r - 1], r - 1, e);
-                                var r, i = (r - 1) * t,
-                                    a = Math.floor(i),
-                                    o = +n(e[a], a, e);
-                                return o + (+n(e[a + 1], a + 1, e) - o) * (i - a)
-                            }
-                        }(a.sort(io), .5)
+                            for (; ++i < r;) isNaN(n = Ao(t(e[i], i, e))) || a.push(n);
+                        return ko(a.sort(so), .5)
                     },
                     mean: function(e, t) {
                         var n, r = e.length,
                             i = r,
                             a = -1,
                             o = 0;
                         if (null == t)
-                            for (; ++a < r;) isNaN(n = so(e[a])) ? --i : o += n;
+                            for (; ++a < r;) isNaN(n = Ao(e[a])) ? --i : o += n;
                         else
-                            for (; ++a < r;) isNaN(n = so(t(e[a], a, e))) ? --i : o += n;
+                            for (; ++a < r;) isNaN(n = Ao(t(e[a], a, e))) ? --i : o += n;
                         if (i) return o / i
                     },
                     min: function(e, t) {
                         var n, r, i = e.length,
                             a = -1;
                         if (null == t) {
                             for (; ++a < i;)
@@ -5388,38 +5443,26 @@
                                     for (r = n; ++a < i;) null != (n = e[a]) && r > n && (r = n)
                         } else
                             for (; ++a < i;)
                                 if (null != (n = t(e[a], a, e)) && n >= n)
                                     for (r = n; ++a < i;) null != (n = t(e[a], a, e)) && r > n && (r = n);
                         return r
                     },
-                    max: function(e, t) {
-                        var n, r, i = e.length,
-                            a = -1;
-                        if (null == t) {
-                            for (; ++a < i;)
-                                if (null != (n = e[a]) && n >= n)
-                                    for (r = n; ++a < i;) null != (n = e[a]) && n > r && (r = n)
-                        } else
-                            for (; ++a < i;)
-                                if (null != (n = t(e[a], a, e)) && n >= n)
-                                    for (r = n; ++a < i;) null != (n = t(e[a], a, e)) && n > r && (r = n);
-                        return r
-                    }
+                    max: Eo
                 },
-                Do = [];
+                Vo = [];
 
-            function Co(e) {
-                Di.call(this, [], e)
+            function Go(e) {
+                Ci.call(this, [], e)
             }
 
-            function Fo(e) {
-                Ya.call(this, e)
+            function Yo(e) {
+                Xa.call(this, e)
             }
-            Co.Definition = {
+            Go.Definition = {
                 type: "Impute",
                 metadata: {
                     changes: !0
                 },
                 params: [{
                     name: "field",
                     type: "field",
@@ -5440,57 +5483,57 @@
                     type: "enum",
                     default: "value",
                     values: ["value", "mean", "median", "max", "min"]
                 }, {
                     name: "value",
                     default: 0
                 }]
-            }, (0, ke.inherits)(Co, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(Go, Ci).transform = function(e, t) {
                 var n, r, i, a, o, u, s, l, c, f, d = t.fork(t.ALL),
                     h = function(e) {
-                        var t, n = e.method || Mo.value;
-                        if (null != Mo[n]) return n === Mo.value ? (t = void 0 !== e.value ? e.value : 0, function() {
+                        var t, n = e.method || Wo.value;
+                        if (null != Wo[n]) return n === Wo.value ? (t = void 0 !== e.value ? e.value : 0, function() {
                             return t
-                        }) : Mo[n];
-                        (0, ke.error)("Unrecognized imputation method: " + n)
+                        }) : Wo[n];
+                        (0, Ee.error)("Unrecognized imputation method: " + n)
                     }(e),
                     p = function(e) {
                         var t = e.field;
                         return function(e) {
                             return e ? t(e) : NaN
                         }
                     }(e),
-                    g = (0, ke.accessorName)(e.field),
-                    m = (0, ke.accessorName)(e.key),
-                    v = (e.groupby || []).map(ke.accessorName),
+                    g = (0, Ee.accessorName)(e.field),
+                    m = (0, Ee.accessorName)(e.key),
+                    v = (e.groupby || []).map(Ee.accessorName),
                     y = function(e, t, n, r) {
                         var i, a, o, u, s, l, c, f, d = function(e) {
                                 return e(f)
                             },
                             h = [],
                             p = r ? r.slice() : [],
                             g = {},
                             m = {};
                         for (p.forEach((function(e, t) {
                                 g[e] = t + 1
-                            })), u = 0, c = e.length; u < c; ++u) l = n(f = e[u]), s = g[l] || (g[l] = p.push(l)), (o = m[a = (i = t ? t.map(d) : Do) + ""]) || (o = m[a] = [], h.push(o), o.values = i), o[s - 1] = f;
+                            })), u = 0, c = e.length; u < c; ++u) l = n(f = e[u]), s = g[l] || (g[l] = p.push(l)), (o = m[a = (i = t ? t.map(d) : Vo) + ""]) || (o = m[a] = [], h.push(o), o.values = i), o[s - 1] = f;
                         return h.domain = p, h
                     }(t.source, e.groupby, e.key, e.keyvals),
                     b = [],
                     _ = this.value,
                     x = y.domain.length;
                 for (o = 0, l = y.length; o < l; ++o)
                     for (i = (n = y[o]).values, r = NaN, s = 0; s < x; ++s)
                         if (null == n[s]) {
                             for (a = y.domain[s], f = {
                                     _impute: !0
                                 }, u = 0, c = i.length; u < c; ++u) f[v[u]] = i[u];
-                            f[m] = a, f[g] = isNaN(r) ? r = h(n, p) : r, b.push(Oe(f))
+                            f[m] = a, f[g] = isNaN(r) ? r = h(n, p) : r, b.push(Ne(f))
                         } return b.length && (d.add = d.materialize(d.ADD).add.concat(b)), _.length && (d.rem = d.materialize(d.REM).rem.concat(_)), this.value = b, d
-            }, Fo.Definition = {
+            }, Yo.Definition = {
                 type: "JoinAggregate",
                 metadata: {
                     modifies: !0
                 },
                 params: [{
                     name: "groupby",
                     type: "field",
@@ -5500,88 +5543,88 @@
                     type: "field",
                     null: !0,
                     array: !0
                 }, {
                     name: "ops",
                     type: "enum",
                     array: !0,
-                    values: Li
+                    values: zi
                 }, {
                     name: "as",
                     type: "string",
                     null: !0,
                     array: !0
                 }, {
                     name: "key",
                     type: "field"
                 }]
             };
-            var No = (0, ke.inherits)(Fo, Ya);
+            var Xo = (0, Ee.inherits)(Yo, Xa);
 
-            function To(e) {
-                We.call(this, null, Oo, e)
+            function $o(e) {
+                qe.call(this, null, Ko, e)
             }
 
-            function Oo(e) {
-                return this.value && !e.modified() ? this.value : (0, ke.key)(e.fields, e.flat)
+            function Ko(e) {
+                return this.value && !e.modified() ? this.value : (0, Ee.key)(e.fields, e.flat)
             }
 
-            function Po(e) {
-                Di.call(this, {}, e)
+            function Jo(e) {
+                Ci.call(this, {}, e)
             }
 
-            function Ro(e) {
-                We.call(this, null, Lo, e)
+            function Qo(e) {
+                qe.call(this, null, Zo, e)
             }
 
-            function Lo(e) {
+            function Zo(e) {
                 if (this.value && !e.modified()) return this.value;
                 var t, n, r, i = 1 / 0,
                     a = -1 / 0,
                     o = e.extents;
                 for (t = 0, n = o.length; t < n; ++t)(r = o[t])[0] < i && (i = r[0]), r[1] > a && (a = r[1]);
                 return [i, a]
             }
 
-            function zo(e) {
-                We.call(this, null, Io, e)
+            function eu(e) {
+                qe.call(this, null, tu, e)
             }
 
-            function Io(e) {
+            function tu(e) {
                 return this.value && !e.modified() ? this.value : e.values.reduce((function(e, t) {
                     return e.concat(t)
                 }), [])
             }
 
-            function Uo(e) {
-                Di.call(this, null, e)
+            function nu(e) {
+                Ci.call(this, null, e)
             }
 
-            function jo(e) {
-                Ya.call(this, e)
+            function ru(e) {
+                Xa.call(this, e)
             }
-            No.transform = function(e, t) {
+            Xo.transform = function(e, t) {
                 var n, r = this,
                     i = e.modified();
                 return r.value && (i || t.modified(r._inputs)) ? (n = r.value = i ? r.init(e) : {}, t.visit(t.SOURCE, (function(e) {
                     r.add(e)
                 }))) : (n = r.value = r.value || this.init(e), t.visit(t.REM, (function(e) {
                     r.rem(e)
                 })), t.visit(t.ADD, (function(e) {
                     r.add(e)
                 }))), r.changes(), t.visit(t.SOURCE, (function(e) {
-                    (0, ke.extend)(e, n[r.cellkey(e)].tuple)
+                    (0, Ee.extend)(e, n[r.cellkey(e)].tuple)
                 })), t.reflow(i).modifies(this._outputs)
-            }, No.changes = function() {
+            }, Xo.changes = function() {
                 var e, t, n = this._adds,
                     r = this._mods;
                 for (e = 0, t = this._alen; e < t; ++e) this.celltuple(n[e]), n[e] = null;
                 for (e = 0, t = this._mlen; e < t; ++e) this.celltuple(r[e]), r[e] = null;
                 this._alen = this._mlen = 0
-            }, (0, ke.inherits)(To, We), Po.Definition = {
+            }, (0, Ee.inherits)($o, qe), Jo.Definition = {
                 type: "Lookup",
                 metadata: {
                     modifies: !0
                 },
                 params: [{
                     name: "index",
                     type: "index",
@@ -5607,38 +5650,38 @@
                     name: "as",
                     type: "string",
                     array: !0
                 }, {
                     name: "default",
                     default: null
                 }]
-            }, (0, ke.inherits)(Po, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(Jo, Ci).transform = function(e, t) {
                 var n, r, i = t,
                     a = e.as,
                     o = e.fields,
                     u = e.index,
                     s = e.values,
                     l = null == e.default ? null : e.default,
                     c = e.modified(),
                     f = c ? t.SOURCE : t.ADD,
                     d = o.length;
-                return s ? (r = s.length, d > 1 && !a && (0, ke.error)('Multi-field lookup requires explicit "as" parameter.'), a && a.length !== d * r && (0, ke.error)('The "as" parameter has too few output field names.'), a = a || s.map(ke.accessorName), n = function(e) {
+                return s ? (r = s.length, d > 1 && !a && (0, Ee.error)('Multi-field lookup requires explicit "as" parameter.'), a && a.length !== d * r && (0, Ee.error)('The "as" parameter has too few output field names.'), a = a || s.map(Ee.accessorName), n = function(e) {
                     for (var t, n, i = 0, c = 0; i < d; ++i)
                         if (null == (n = u.get(o[i](e))))
                             for (t = 0; t < r; ++t, ++c) e[a[c]] = l;
                         else
                             for (t = 0; t < r; ++t, ++c) e[a[c]] = s[t](n)
-                }) : (a || (0, ke.error)("Missing output field names."), n = function(e) {
+                }) : (a || (0, Ee.error)("Missing output field names."), n = function(e) {
                     for (var t, n = 0; n < d; ++n) t = u.get(o[n](e)), e[a[n]] = null == t ? l : t
                 }), c ? i = t.reflow(!0) : f |= o.some((function(e) {
                     return t.modified(e.fields)
                 })) ? t.MOD : 0, t.visit(f, n), i.modifies(a)
-            }, (0, ke.inherits)(Ro, We), (0, ke.inherits)(zo, We), (0, ke.inherits)(Uo, Di), Uo.prototype.transform = function(e, t) {
+            }, (0, Ee.inherits)(Qo, qe), (0, Ee.inherits)(eu, qe), (0, Ee.inherits)(nu, Ci), nu.prototype.transform = function(e, t) {
                 return this.modified(e.modified()), this.value = e, t.fork(t.NO_SOURCE | t.NO_FIELDS)
-            }, jo.Definition = {
+            }, ru.Definition = {
                 type: "Pivot",
                 metadata: {
                     generates: !0,
                     changes: !0
                 },
                 params: [{
                     name: "groupby",
@@ -5651,68 +5694,68 @@
                 }, {
                     name: "value",
                     type: "field",
                     required: !0
                 }, {
                     name: "op",
                     type: "enum",
-                    values: Li,
+                    values: zi,
                     default: "sum"
                 }, {
                     name: "limit",
                     type: "number",
                     default: 0
                 }, {
                     name: "key",
                     type: "field"
                 }]
             };
-            var Bo = (0, ke.inherits)(jo, Ya);
+            var iu = (0, Ee.inherits)(ru, Xa);
 
-            function qo(e) {
-                vo.call(this, e)
+            function au(e) {
+                Po.call(this, e)
             }
 
-            function Ho(e) {
-                Di.call(this, null, e)
+            function ou(e) {
+                Ci.call(this, null, e)
             }
 
-            function Wo(e) {
-                Di.call(this, null, e)
+            function uu(e) {
+                Ci.call(this, null, e)
             }
 
-            function Yo(e) {
-                Di.call(this, null, e)
+            function su(e) {
+                Ci.call(this, null, e)
             }
 
-            function Vo(e) {
-                Di.call(this, [], e), this.count = 0
+            function lu(e) {
+                Ci.call(this, [], e), this.count = 0
             }
 
-            function Go(e) {
-                Di.call(this, null, e)
+            function cu(e) {
+                Ci.call(this, null, e)
             }
 
-            function Xo(e) {
-                Di.call(this, null, e), this.modified(!0)
+            function fu(e) {
+                Ci.call(this, null, e), this.modified(!0)
             }
 
-            function $o(e) {
-                Di.call(this, (0, ke.fastmap)(), e)
+            function du(e) {
+                Ci.call(this, (0, Ee.fastmap)(), e)
             }
 
-            function Ko(e) {
-                Di.call(this, null, e)
+            function hu(e) {
+                Ci.call(this, null, e)
             }
-            Bo._transform = Bo.transform, Bo.transform = function(e, t) {
+            iu._transform = iu.transform, iu.transform = function(e, t) {
                 return this._transform(function(e, t) {
                     var n = e.field,
                         r = e.value,
                         i = ("count" === e.op ? "__count__" : e.op) || "sum",
-                        a = (0, ke.accessorFields)(n).concat((0, ke.accessorFields)(r)),
+                        a = (0, Ee.accessorFields)(n).concat((0, Ee.accessorFields)(r)),
                         o = function(e, t, n) {
                             var r = {},
                                 i = [];
                             return n.visit(n.SOURCE, (function(t) {
                                 var n = e(t);
                                 r[n] || (r[n] = 1, i.push(n))
                             })), i.sort((function(e, t) {
@@ -5723,46 +5766,46 @@
                         key: e.key,
                         groupby: e.groupby,
                         ops: o.map((function() {
                             return i
                         })),
                         fields: o.map((function(e) {
                             return function(e, t, n, r) {
-                                return (0, ke.accessor)((function(r) {
+                                return (0, Ee.accessor)((function(r) {
                                     return t(r) === e ? n(r) : NaN
                                 }), r, e + "")
                             }(e, n, r, a)
                         })),
                         as: o.map((function(e) {
                             return e + ""
                         })),
                         modified: e.modified.bind(e)
                     }
                 }(e, t), t)
-            }, (0, ke.inherits)(qo, vo).transform = function(e, t) {
+            }, (0, Ee.inherits)(au, Po).transform = function(e, t) {
                 var n = this,
                     r = e.subflow,
                     i = e.field;
-                return (e.modified("field") || i && t.modified((0, ke.accessorFields)(i))) && (0, ke.error)("PreFacet does not support field modification."), this._targets.active = 0, t.visit(t.MOD, (function(e) {
-                    var a = n.subflow(Ne(e), r, t, e);
+                return (e.modified("field") || i && t.modified((0, Ee.accessorFields)(i))) && (0, Ee.error)("PreFacet does not support field modification."), this._targets.active = 0, t.visit(t.MOD, (function(e) {
+                    var a = n.subflow(Ce(e), r, t, e);
                     i ? i(e).forEach((function(e) {
                         a.mod(e)
                     })) : a.mod(e)
                 })), t.visit(t.ADD, (function(e) {
-                    var a = n.subflow(Ne(e), r, t, e);
+                    var a = n.subflow(Ce(e), r, t, e);
                     i ? i(e).forEach((function(e) {
-                        a.add(Oe(e))
+                        a.add(Ne(e))
                     })) : a.add(e)
                 })), t.visit(t.REM, (function(e) {
-                    var a = n.subflow(Ne(e), r, t, e);
+                    var a = n.subflow(Ce(e), r, t, e);
                     i ? i(e).forEach((function(e) {
                         a.rem(e)
                     })) : a.rem(e)
                 })), t
-            }, Ho.Definition = {
+            }, ou.Definition = {
                 type: "Project",
                 metadata: {
                     generates: !0,
                     changes: !0
                 },
                 params: [{
                     name: "fields",
@@ -5770,85 +5813,85 @@
                     array: !0
                 }, {
                     name: "as",
                     type: "string",
                     null: !0,
                     array: !0
                 }]
-            }, (0, ke.inherits)(Ho, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(ou, Ci).transform = function(e, t) {
                 var n, r, i = e.fields,
-                    a = wo(e.fields, e.as || []),
+                    a = jo(e.fields, e.as || []),
                     o = i ? function(e, t) {
                         return function(e, t, n, r) {
                             for (var i = 0, a = n.length; i < a; ++i) t[r[i]] = n[i](e);
                             return t
                         }(e, t, i, a)
-                    } : Re;
+                    } : Te;
                 return this.value ? r = this.value : (t = t.addAll(), r = this.value = {}), n = t.fork(t.NO_SOURCE), t.visit(t.REM, (function(e) {
-                    var t = Ne(e);
+                    var t = Ce(e);
                     n.rem.push(r[t]), r[t] = null
                 })), t.visit(t.ADD, (function(e) {
-                    var t = o(e, Oe({}));
-                    r[Ne(e)] = t, n.add.push(t)
+                    var t = o(e, Ne({}));
+                    r[Ce(e)] = t, n.add.push(t)
                 })), t.visit(t.MOD, (function(e) {
-                    n.mod.push(o(e, r[Ne(e)]))
+                    n.mod.push(o(e, r[Ce(e)]))
                 })), n
-            }, (0, ke.inherits)(Wo, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(uu, Ci).transform = function(e, t) {
                 return this.value = e.value, e.modified("value") ? t.fork(t.NO_SOURCE | t.NO_FIELDS) : t.StopPropagation
-            }, (0, ke.inherits)(Yo, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(su, Ci).transform = function(e, t) {
                 var n, r;
                 return this.value ? r = this.value : (n = t = t.addAll(), r = this.value = {}), e.derive && (n = t.fork(t.NO_SOURCE), t.visit(t.REM, (function(e) {
-                    var t = Ne(e);
+                    var t = Ce(e);
                     n.rem.push(r[t]), r[t] = null
                 })), t.visit(t.ADD, (function(e) {
-                    var t = Pe(e);
-                    r[Ne(e)] = t, n.add.push(t)
+                    var t = Oe(e);
+                    r[Ce(e)] = t, n.add.push(t)
                 })), t.visit(t.MOD, (function(e) {
-                    n.mod.push(Re(e, r[Ne(e)]))
+                    n.mod.push(Te(e, r[Ce(e)]))
                 }))), n
-            }, Vo.Definition = {
+            }, lu.Definition = {
                 type: "Sample",
                 metadata: {},
                 params: [{
                     name: "size",
                     type: "number",
                     default: 1e3
                 }]
-            }, (0, ke.inherits)(Vo, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(lu, Ci).transform = function(e, t) {
                 var n = t.fork(t.NO_SOURCE),
                     r = e.modified("size"),
                     i = e.size,
                     a = this.value,
                     o = this.count,
                     u = 0,
                     s = a.reduce((function(e, t) {
-                        return e[Ne(t)] = 1, e
+                        return e[Ce(t)] = 1, e
                     }), {});
 
                 function l(e) {
                     var t, r;
-                    a.length < i ? a.push(e) : (r = ~~((o + 1) * ea())) < a.length && r >= u && (t = a[r], s[Ne(t)] && n.rem.push(t), a[r] = e), ++o
+                    a.length < i ? a.push(e) : (r = ~~((o + 1) * ta())) < a.length && r >= u && (t = a[r], s[Ce(t)] && n.rem.push(t), a[r] = e), ++o
                 }
                 if (t.rem.length && (t.visit(t.REM, (function(e) {
-                        var t = Ne(e);
+                        var t = Ce(e);
                         s[t] && (s[t] = -1, n.rem.push(e)), --o
                     })), a = a.filter((function(e) {
-                        return -1 !== s[Ne(e)]
+                        return -1 !== s[Ce(e)]
                     }))), (t.rem.length || r) && a.length < i && t.source && (u = o = a.length, t.visit(t.SOURCE, (function(e) {
-                        s[Ne(e)] || l(e)
+                        s[Ce(e)] || l(e)
                     })), u = -1), r && a.length > i) {
-                    for (var c = 0, f = a.length - i; c < f; ++c) s[Ne(a[c])] = -1, n.rem.push(a[c]);
+                    for (var c = 0, f = a.length - i; c < f; ++c) s[Ce(a[c])] = -1, n.rem.push(a[c]);
                     a = a.slice(f)
                 }
                 return t.mod.length && t.visit(t.MOD, (function(e) {
-                    s[Ne(e)] && n.mod.push(e)
+                    s[Ce(e)] && n.mod.push(e)
                 })), t.add.length && t.visit(t.ADD, l), (t.add.length || u < 0) && (n.add = a.filter((function(e) {
-                    return !s[Ne(e)]
+                    return !s[Ce(e)]
                 }))), this.count = o, this.value = n.source = a, n
-            }, Go.Definition = {
+            }, cu.Definition = {
                 type: "Sequence",
                 metadata: {
                     changes: !0
                 },
                 params: [{
                     name: "start",
                     type: "number",
@@ -5859,37 +5902,37 @@
                     required: !0
                 }, {
                     name: "step",
                     type: "number",
                     default: 1
                 }],
                 output: ["value"]
-            }, (0, ke.inherits)(Go, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(cu, Ci).transform = function(e, t) {
                 if (!this.value || e.modified()) {
                     var n = t.materialize().fork(t.MOD);
-                    return n.rem = this.value ? t.rem.concat(this.value) : t.rem, this.value = lo(e.start, e.stop, e.step || 1).map(Oe), n.add = t.add.concat(this.value), n
+                    return n.rem = this.value ? t.rem.concat(this.value) : t.rem, this.value = Mo(e.start, e.stop, e.step || 1).map(Ne), n.add = t.add.concat(this.value), n
                 }
-            }, (0, ke.inherits)(Xo, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(fu, Ci).transform = function(e, t) {
                 return this.value = t.source, t.changed() ? t.fork(t.NO_SOURCE | t.NO_FIELDS) : t.StopPropagation
-            }, (0, ke.inherits)($o, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(du, Ci).transform = function(e, t) {
                 var n = t.dataflow,
                     r = e.field,
                     i = this.value,
                     a = !0;
 
                 function o(e) {
                     i.set(r(e), e)
                 }
                 return e.modified("field") || t.modified(r.fields) ? (i.clear(), t.visit(t.SOURCE, o)) : t.changed() ? (t.visit(t.REM, (function(e) {
                     i.delete(r(e))
                 })), t.visit(t.ADD, o)) : a = !1, this.modified(a), i.empty > n.cleanThreshold && n.runAfter(i.clean), t.fork()
-            }, (0, ke.inherits)(Ko, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(hu, Ci).transform = function(e, t) {
                 (!this.value || e.modified("field") || e.modified("sort") || t.changed() || e.sort && t.modified(e.sort.fields)) && (this.value = (e.sort ? t.source.slice().sort(e.sort) : t.source).map(e.field))
             };
-            var Jo = {
+            var pu = {
                     row_number: function() {
                         return {
                             next: function(e) {
                                 return e.index + 1
                             }
                         }
                     },
@@ -5916,15 +5959,15 @@
                                 var n = t.index,
                                     r = t.data;
                                 return n && t.compare(r[n - 1], r[n]) ? ++e : e
                             }
                         }
                     },
                     percent_rank: function() {
-                        var e = Jo.rank(),
+                        var e = pu.rank(),
                             t = e.next;
                         return {
                             init: e.init,
                             next: function(e) {
                                 return (t(e) - 1) / (e.data.length - 1)
                             }
                         }
@@ -5944,16 +5987,16 @@
                                     e = n
                                 }
                                 return (1 + e) / r.length
                             }
                         }
                     },
                     ntile: function(e, t) {
-                        (t = +t) > 0 || (0, ke.error)("ntile num must be greater than zero.");
-                        var n = Jo.cume_dist(),
+                        (t = +t) > 0 || (0, Ee.error)("ntile num must be greater than zero.");
+                        var n = pu.cume_dist(),
                             r = n.next;
                         return {
                             init: n.init,
                             next: function(e) {
                                 return Math.ceil(t * r(e))
                             }
                         }
@@ -5986,75 +6029,75 @@
                         return {
                             next: function(t) {
                                 return e(t.data[t.i1 - 1])
                             }
                         }
                     },
                     nth_value: function(e, t) {
-                        return (t = +t) > 0 || (0, ke.error)("nth_value nth must be greater than zero."), {
+                        return (t = +t) > 0 || (0, Ee.error)("nth_value nth must be greater than zero."), {
                             next: function(n) {
                                 var r = n.i0 + (t - 1);
                                 return r < n.i1 ? e(n.data[r]) : null
                             }
                         }
                     }
                 },
-                Qo = Object.keys(Jo);
+                gu = Object.keys(pu);
 
-            function Zo(e) {
+            function mu(e) {
                 var t = this,
-                    n = (0, ke.array)(e.ops),
-                    r = (0, ke.array)(e.fields),
-                    i = (0, ke.array)(e.params),
-                    a = (0, ke.array)(e.as),
+                    n = (0, Ee.array)(e.ops),
+                    r = (0, Ee.array)(e.fields),
+                    i = (0, Ee.array)(e.params),
+                    a = (0, Ee.array)(e.as),
                     o = t.outputs = [],
                     u = t.windows = [],
                     s = {},
                     l = {},
                     c = !0,
                     f = [],
                     d = [];
 
                 function h(e) {
-                    (0, ke.array)((0, ke.accessorFields)(e)).forEach((function(e) {
+                    (0, Ee.array)((0, Ee.accessorFields)(e)).forEach((function(e) {
                         s[e] = 1
                     }))
                 }
                 h(e.sort), n.forEach((function(e, t) {
                     var n = r[t],
-                        s = (0, ke.accessorName)(n),
-                        p = Pi(e, s, a[t]);
-                    if (h(n), o.push(p), Jo.hasOwnProperty(e)) u.push(function(e, t, n, r) {
-                        var i = Jo[e](t, n);
+                        s = (0, Ee.accessorName)(n),
+                        p = Ri(e, s, a[t]);
+                    if (h(n), o.push(p), pu.hasOwnProperty(e)) u.push(function(e, t, n, r) {
+                        var i = pu[e](t, n);
                         return {
-                            init: i.init || ke.zero,
+                            init: i.init || Ee.zero,
                             update: function(e, t) {
                                 t[r] = i.next(e)
                             }
                         }
                     }(e, r[t], i[t], p));
                     else {
-                        if (null == n && "count" !== e && (0, ke.error)("Null aggregate field specified."), "count" === e) return void f.push(p);
+                        if (null == n && "count" !== e && (0, Ee.error)("Null aggregate field specified."), "count" === e) return void f.push(p);
                         c = !1;
                         var g = l[s];
-                        g || ((g = l[s] = []).field = n, d.push(g)), g.push(zi(e, p))
+                        g || ((g = l[s] = []).field = n, d.push(g)), g.push(Ii(e, p))
                     }
                 })), (f.length || d.length) && (t.cell = function(e, t, n) {
                     e = e.map((function(e) {
-                        return ji(e, e.field)
+                        return Ui(e, e.field)
                     }));
                     var r = {
                         num: 0,
                         agg: null,
                         store: !1,
                         count: t
                     };
                     if (!n)
                         for (var i = e.length, a = r.agg = Array(i), o = 0; o < i; ++o) a[o] = new e[o](r);
-                    if (r.store) var u = r.data = new Ha;
+                    if (r.store) var u = r.data = new Ga;
                     return r.add = function(e) {
                         if (r.num += 1, !n) {
                             u && u.add(e);
                             for (var t = 0; t < i; ++t) a[t].add(a[t].get(e), e)
                         }
                     }, r.rem = function(e) {
                         if (r.num -= 1, !n) {
@@ -6068,35 +6111,35 @@
                             for (i = 0, o = a.length; i < o; ++i) a[i].set(e)
                     }, r.init = function() {
                         r.num = 0, u && u.reset();
                         for (var e = 0; e < i; ++e) a[e].init()
                     }, r
                 }(d, f, c)), t.inputs = Object.keys(s)
             }
-            var eu = Zo.prototype;
+            var vu = mu.prototype;
 
-            function tu(e) {
-                Di.call(this, {}, e), this._mlen = 0, this._mods = []
+            function yu(e) {
+                Ci.call(this, {}, e), this._mlen = 0, this._mods = []
             }
-            eu.init = function() {
+            vu.init = function() {
                 this.windows.forEach((function(e) {
                     e.init()
                 })), this.cell && this.cell.init()
-            }, eu.update = function(e, t) {
+            }, vu.update = function(e, t) {
                 var n, r = this.cell,
                     i = this.windows,
                     a = e.data,
                     o = i && i.length;
                 if (r) {
                     for (n = e.p0; n < e.i0; ++n) r.rem(a[n]);
                     for (n = e.p1; n < e.i1; ++n) r.add(a[n]);
                     r.set(t)
                 }
                 for (n = 0; n < o; ++n) i[n].update(e, t)
-            }, tu.Definition = {
+            }, yu.Definition = {
                 type: "Window",
                 metadata: {
                     modifies: !0
                 },
                 params: [{
                     name: "sort",
                     type: "compare"
@@ -6104,15 +6147,15 @@
                     name: "groupby",
                     type: "field",
                     array: !0
                 }, {
                     name: "ops",
                     type: "enum",
                     array: !0,
-                    values: Qo.concat(Li)
+                    values: gu.concat(zi)
                 }, {
                     name: "params",
                     type: "number",
                     null: !0,
                     array: !0
                 }, {
                     name: "fields",
@@ -6133,248 +6176,248 @@
                     default: [null, 0]
                 }, {
                     name: "ignorePeers",
                     type: "boolean",
                     default: !1
                 }]
             };
-            var nu = (0, ke.inherits)(tu, Di);
+            var bu = (0, Ee.inherits)(yu, Ci);
 
-            function ru(e, t, n) {
+            function _u(e, t, n) {
                 var r = n.sort,
                     i = r && !n.ignorePeers,
                     a = n.frame || [null, 0],
                     o = e.data(r),
                     u = o.length,
                     s = 0,
-                    l = i ? ao(r) : null,
+                    l = i ? lo(r) : null,
                     c = {
                         i0: 0,
                         i1: 0,
                         p0: 0,
                         p1: 0,
                         index: 0,
                         data: o,
-                        compare: r || (0, ke.constant)(-1)
+                        compare: r || (0, Ee.constant)(-1)
                     };
-                for (t.init(); s < u; ++s) iu(c, a, s, u), i && au(c, l), t.update(c, o[s])
+                for (t.init(); s < u; ++s) xu(c, a, s, u), i && wu(c, l), t.update(c, o[s])
             }
 
-            function iu(e, t, n, r) {
+            function xu(e, t, n, r) {
                 e.p0 = e.i0, e.p1 = e.i1, e.i0 = null == t[0] ? 0 : Math.max(0, n - Math.abs(t[0])), e.i1 = null == t[1] ? r : Math.min(r, n + Math.abs(t[1]) + 1), e.index = n
             }
 
-            function au(e, t) {
+            function wu(e, t) {
                 var n = e.i0,
                     r = e.i1 - 1,
                     i = e.compare,
                     a = e.data,
                     o = a.length - 1;
                 n > 0 && !i(a[n], a[n - 1]) && (e.i0 = t.left(a, a[n])), r < o && !i(a[r], a[r + 1]) && (e.i1 = t.right(a, a[r]))
             }
 
-            function ou(e) {
+            function Su(e) {
                 this.clear(), e && this.union(e)
             }
-            nu.transform = function(e, t) {
+            bu.transform = function(e, t) {
                 var n, r, i = this,
                     a = i.state,
                     o = e.modified();
-                this.stamp = t.stamp, a && !o || (a = i.state = new Zo(e));
-                var u = Oi(e.groupby);
+                this.stamp = t.stamp, a && !o || (a = i.state = new mu(e));
+                var u = Pi(e.groupby);
 
                 function s(e) {
                     return i.group(u(e))
                 }
                 for (o || t.modified(a.inputs) ? (i.value = {}, t.visit(t.SOURCE, (function(e) {
                         s(e).add(e)
                     }))) : (t.visit(t.REM, (function(e) {
                         s(e).remove(e)
                     })), t.visit(t.ADD, (function(e) {
                         s(e).add(e)
-                    }))), n = 0, r = i._mlen; n < r; ++n) ru(i._mods[n], a, e);
+                    }))), n = 0, r = i._mlen; n < r; ++n) _u(i._mods[n], a, e);
                 return i._mlen = 0, i._mods = [], t.reflow(o).modifies(a.outputs)
-            }, nu.group = function(e) {
+            }, bu.group = function(e) {
                 var t = this,
                     n = t.value[e];
-                return n || ((n = t.value[e] = $a(Ne)).stamp = -1), n.stamp < t.stamp && (n.stamp = t.stamp, t._mods[t._mlen++] = n), n
+                return n || ((n = t.value[e] = Qa(Ce)).stamp = -1), n.stamp < t.stamp && (n.stamp = t.stamp, t._mods[t._mlen++] = n), n
             };
-            var uu = ou.prototype;
-            uu.clone = function() {
-                return new ou(this)
-            }, uu.clear = function() {
+            var Eu = Su.prototype;
+            Eu.clone = function() {
+                return new Su(this)
+            }, Eu.clear = function() {
                 return this.x1 = +Number.MAX_VALUE, this.y1 = +Number.MAX_VALUE, this.x2 = -Number.MAX_VALUE, this.y2 = -Number.MAX_VALUE, this
-            }, uu.empty = function() {
+            }, Eu.empty = function() {
                 return this.x1 === +Number.MAX_VALUE && this.y1 === +Number.MAX_VALUE && this.x2 === -Number.MAX_VALUE && this.y2 === -Number.MAX_VALUE
-            }, uu.set = function(e, t, n, r) {
+            }, Eu.set = function(e, t, n, r) {
                 return n < e ? (this.x2 = e, this.x1 = n) : (this.x1 = e, this.x2 = n), r < t ? (this.y2 = t, this.y1 = r) : (this.y1 = t, this.y2 = r), this
-            }, uu.add = function(e, t) {
+            }, Eu.add = function(e, t) {
                 return e < this.x1 && (this.x1 = e), t < this.y1 && (this.y1 = t), e > this.x2 && (this.x2 = e), t > this.y2 && (this.y2 = t), this
-            }, uu.expand = function(e) {
+            }, Eu.expand = function(e) {
                 return this.x1 -= e, this.y1 -= e, this.x2 += e, this.y2 += e, this
-            }, uu.round = function() {
+            }, Eu.round = function() {
                 return this.x1 = Math.floor(this.x1), this.y1 = Math.floor(this.y1), this.x2 = Math.ceil(this.x2), this.y2 = Math.ceil(this.y2), this
-            }, uu.translate = function(e, t) {
+            }, Eu.translate = function(e, t) {
                 return this.x1 += e, this.x2 += e, this.y1 += t, this.y2 += t, this
-            }, uu.rotate = function(e, t, n) {
+            }, Eu.rotate = function(e, t, n) {
                 var r = Math.cos(e),
                     i = Math.sin(e),
                     a = t - t * r + n * i,
                     o = n - t * i - n * r,
                     u = this.x1,
                     s = this.x2,
                     l = this.y1,
                     c = this.y2;
                 return this.clear().add(r * u - i * l + a, i * u + r * l + o).add(r * u - i * c + a, i * u + r * c + o).add(r * s - i * l + a, i * s + r * l + o).add(r * s - i * c + a, i * s + r * c + o)
-            }, uu.union = function(e) {
+            }, Eu.union = function(e) {
                 return e.x1 < this.x1 && (this.x1 = e.x1), e.y1 < this.y1 && (this.y1 = e.y1), e.x2 > this.x2 && (this.x2 = e.x2), e.y2 > this.y2 && (this.y2 = e.y2), this
-            }, uu.intersect = function(e) {
+            }, Eu.intersect = function(e) {
                 return e.x1 > this.x1 && (this.x1 = e.x1), e.y1 > this.y1 && (this.y1 = e.y1), e.x2 < this.x2 && (this.x2 = e.x2), e.y2 < this.y2 && (this.y2 = e.y2), this
-            }, uu.encloses = function(e) {
+            }, Eu.encloses = function(e) {
                 return e && this.x1 <= e.x1 && this.x2 >= e.x2 && this.y1 <= e.y1 && this.y2 >= e.y2
-            }, uu.alignsWith = function(e) {
+            }, Eu.alignsWith = function(e) {
                 return e && (this.x1 == e.x1 || this.x2 == e.x2 || this.y1 == e.y1 || this.y2 == e.y2)
-            }, uu.intersects = function(e) {
+            }, Eu.intersects = function(e) {
                 return e && !(this.x2 < e.x1 || this.x1 > e.x2 || this.y2 < e.y1 || this.y1 > e.y2)
-            }, uu.contains = function(e, t) {
+            }, Eu.contains = function(e, t) {
                 return !(e < this.x1 || e > this.x2 || t < this.y1 || t > this.y2)
-            }, uu.width = function() {
+            }, Eu.width = function() {
                 return this.x2 - this.x1
-            }, uu.height = function() {
+            }, Eu.height = function() {
                 return this.y2 - this.y1
             };
-            var su = 0;
+            var Au = 0;
 
-            function lu(e, t) {
+            function ku(e, t) {
                 var n, r = [];
                 return n = {
-                    id: "gradient_" + su++,
+                    id: "gradient_" + Au++,
                     x1: e ? e[0] : 0,
                     y1: e ? e[1] : 0,
                     x2: t ? t[0] : 1,
                     y2: t ? t[1] : 0,
                     stops: r,
                     stop: function(e, t) {
                         return r.push({
                             offset: e,
                             color: t
                         }), n
                     }
                 }
             }
 
-            function cu(e) {
-                this.mark = e, this.bounds = this.bounds || new ou
+            function Mu(e) {
+                this.mark = e, this.bounds = this.bounds || new Su
             }
 
-            function fu(e) {
-                cu.call(this, e), this.items = this.items || []
+            function Du(e) {
+                Mu.call(this, e), this.items = this.items || []
             }
 
-            function du(e, t) {
+            function Cu(e, t) {
                 if ("undefined" != typeof document && document.createElement) {
                     const n = document.createElement("canvas");
                     if (n && n.getContext) return n.width = e, n.height = t, n
                 }
                 return null
-            }(0, ke.inherits)(fu, cu);
-            const hu = () => "undefined" != typeof Image ? Image : null;
+            }(0, Ee.inherits)(Du, Mu);
+            const Fu = () => "undefined" != typeof Image ? Image : null;
 
-            function pu(e) {
-                this._pending = 0, this._loader = e || Tt()
+            function Nu(e) {
+                this._pending = 0, this._loader = e || Nt()
             }
-            var gu = pu.prototype;
+            var Ou = Nu.prototype;
 
-            function mu(e) {
+            function Tu(e) {
                 e._pending += 1
             }
 
-            function vu(e) {
+            function Pu(e) {
                 e._pending -= 1
             }
 
-            function yu(e, t, n) {
+            function Ru(e, t, n) {
                 e._context.bezierCurveTo((2 * e._x0 + e._x1) / 3, (2 * e._y0 + e._y1) / 3, (e._x0 + 2 * e._x1) / 3, (e._y0 + 2 * e._y1) / 3, (e._x0 + 4 * e._x1 + t) / 6, (e._y0 + 4 * e._y1 + n) / 6)
             }
 
-            function bu(e) {
+            function Lu(e) {
                 this._context = e
             }
 
-            function _u() {}
+            function zu() {}
 
-            function xu(e) {
+            function Iu(e) {
                 this._context = e
             }
 
-            function wu(e) {
+            function ju(e) {
                 this._context = e
             }
 
-            function Su(e, t) {
-                this._basis = new bu(e), this._beta = t
+            function Bu(e, t) {
+                this._basis = new Lu(e), this._beta = t
             }
-            gu.pending = function() {
+            Ou.pending = function() {
                 return this._pending
-            }, gu.sanitizeURL = function(e) {
+            }, Ou.sanitizeURL = function(e) {
                 var t = this;
-                return mu(t), t._loader.sanitize(e, {
+                return Tu(t), t._loader.sanitize(e, {
                     context: "href"
                 }).then((function(e) {
-                    return vu(t), e
+                    return Pu(t), e
                 })).catch((function() {
-                    return vu(t), null
+                    return Pu(t), null
                 }))
-            }, gu.loadImage = function(e) {
+            }, Ou.loadImage = function(e) {
                 var t = this,
-                    n = hu();
-                return mu(t), t._loader.sanitize(e, {
+                    n = Fu();
+                return Tu(t), t._loader.sanitize(e, {
                     context: "image"
                 }).then((function(e) {
                     var r = e.href;
                     if (!r || !n) throw {
                         url: r
                     };
                     var i = new n;
                     return i.onload = function() {
-                        vu(t), i.loaded = !0
+                        Pu(t), i.loaded = !0
                     }, i.onerror = function() {
-                        vu(t), i.loaded = !1
+                        Pu(t), i.loaded = !1
                     }, i.src = r, i
                 })).catch((function(e) {
-                    return vu(t), {
+                    return Pu(t), {
                         loaded: !1,
                         width: 0,
                         height: 0,
                         src: e && e.url || ""
                     }
                 }))
-            }, gu.ready = function() {
+            }, Ou.ready = function() {
                 var e = this;
                 return new Promise((function(t) {
                     ! function n(r) {
                         e.pending() ? setTimeout((function() {
                             n(!0)
                         }), 10) : t(r)
                     }(!1)
                 }))
-            }, bu.prototype = {
+            }, Lu.prototype = {
                 areaStart: function() {
                     this._line = 0
                 },
                 areaEnd: function() {
                     this._line = NaN
                 },
                 lineStart: function() {
                     this._x0 = this._x1 = this._y0 = this._y1 = NaN, this._point = 0
                 },
                 lineEnd: function() {
                     switch (this._point) {
                         case 3:
-                            yu(this, this._x1, this._y1);
+                            Ru(this, this._x1, this._y1);
                         case 2:
                             this._context.lineTo(this._x1, this._y1)
                     }(this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line = 1 - this._line
                 },
                 point: function(e, t) {
                     switch (e = +e, t = +t, this._point) {
                         case 0:
@@ -6382,21 +6425,21 @@
                             break;
                         case 1:
                             this._point = 2;
                             break;
                         case 2:
                             this._point = 3, this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6);
                         default:
-                            yu(this, e, t)
+                            Ru(this, e, t)
                     }
                     this._x0 = this._x1, this._x1 = e, this._y0 = this._y1, this._y1 = t
                 }
-            }, xu.prototype = {
-                areaStart: _u,
-                areaEnd: _u,
+            }, Iu.prototype = {
+                areaStart: zu,
+                areaEnd: zu,
                 lineStart: function() {
                     this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN, this._point = 0
                 },
                 lineEnd: function() {
                     switch (this._point) {
                         case 1:
                             this._context.moveTo(this._x2, this._y2), this._context.closePath();
@@ -6416,19 +6459,19 @@
                         case 1:
                             this._point = 2, this._x3 = e, this._y3 = t;
                             break;
                         case 2:
                             this._point = 3, this._x4 = e, this._y4 = t, this._context.moveTo((this._x0 + 4 * this._x1 + e) / 6, (this._y0 + 4 * this._y1 + t) / 6);
                             break;
                         default:
-                            yu(this, e, t)
+                            Ru(this, e, t)
                     }
                     this._x0 = this._x1, this._x1 = e, this._y0 = this._y1, this._y1 = t
                 }
-            }, wu.prototype = {
+            }, ju.prototype = {
                 areaStart: function() {
                     this._line = 0
                 },
                 areaEnd: function() {
                     this._line = NaN
                 },
                 lineStart: function() {
@@ -6450,19 +6493,19 @@
                             var n = (this._x0 + 4 * this._x1 + e) / 6,
                                 r = (this._y0 + 4 * this._y1 + t) / 6;
                             this._line ? this._context.lineTo(n, r) : this._context.moveTo(n, r);
                             break;
                         case 3:
                             this._point = 4;
                         default:
-                            yu(this, e, t)
+                            Ru(this, e, t)
                     }
                     this._x0 = this._x1, this._x1 = e, this._y0 = this._y1, this._y1 = t
                 }
-            }, Su.prototype = {
+            }, Bu.prototype = {
                 lineStart: function() {
                     this._x = [], this._y = [], this._basis.lineStart()
                 },
                 lineEnd: function() {
                     var e = this._x,
                         t = this._y,
                         n = e.length - 1;
@@ -6470,31 +6513,31 @@
                         for (var r, i = e[0], a = t[0], o = e[n] - i, u = t[n] - a, s = -1; ++s <= n;) r = s / n, this._basis.point(this._beta * e[s] + (1 - this._beta) * (i + r * o), this._beta * t[s] + (1 - this._beta) * (a + r * u));
                     this._x = this._y = null, this._basis.lineEnd()
                 },
                 point: function(e, t) {
                     this._x.push(+e), this._y.push(+t)
                 }
             };
-            const Eu = function e(t) {
+            const Uu = function e(t) {
                 function n(e) {
-                    return 1 === t ? new bu(e) : new Su(e, t)
+                    return 1 === t ? new Lu(e) : new Bu(e, t)
                 }
                 return n.beta = function(t) {
                     return e(+t)
                 }, n
             }(.85);
 
-            function Au(e, t, n) {
+            function qu(e, t, n) {
                 e._context.bezierCurveTo(e._x1 + e._k * (e._x2 - e._x0), e._y1 + e._k * (e._y2 - e._y0), e._x2 + e._k * (e._x1 - t), e._y2 + e._k * (e._y1 - n), e._x2, e._y2)
             }
 
-            function ku(e, t) {
+            function Hu(e, t) {
                 this._context = e, this._k = (1 - t) / 6
             }
-            ku.prototype = {
+            Hu.prototype = {
                 areaStart: function() {
                     this._line = 0
                 },
                 areaEnd: function() {
                     this._line = NaN
                 },
                 lineStart: function() {
@@ -6502,46 +6545,46 @@
                 },
                 lineEnd: function() {
                     switch (this._point) {
                         case 2:
                             this._context.lineTo(this._x2, this._y2);
                             break;
                         case 3:
-                            Au(this, this._x1, this._y1)
+                            qu(this, this._x1, this._y1)
                     }(this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line = 1 - this._line
                 },
                 point: function(e, t) {
                     switch (e = +e, t = +t, this._point) {
                         case 0:
                             this._point = 1, this._line ? this._context.lineTo(e, t) : this._context.moveTo(e, t);
                             break;
                         case 1:
                             this._point = 2, this._x1 = e, this._y1 = t;
                             break;
                         case 2:
                             this._point = 3;
                         default:
-                            Au(this, e, t)
+                            qu(this, e, t)
                     }
                     this._x0 = this._x1, this._x1 = this._x2, this._x2 = e, this._y0 = this._y1, this._y1 = this._y2, this._y2 = t
                 }
             };
-            const Mu = function e(t) {
+            const Wu = function e(t) {
                 function n(e) {
-                    return new ku(e, t)
+                    return new Hu(e, t)
                 }
                 return n.tension = function(t) {
                     return e(+t)
                 }, n
             }(0);
 
-            function Du(e, t) {
+            function Vu(e, t) {
                 this._context = e, this._k = (1 - t) / 6
             }
-            Du.prototype = {
+            Vu.prototype = {
                 areaStart: function() {
                     this._line = 0
                 },
                 areaEnd: function() {
                     this._line = NaN
                 },
                 lineStart: function() {
@@ -6560,34 +6603,34 @@
                             break;
                         case 2:
                             this._point = 3, this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);
                             break;
                         case 3:
                             this._point = 4;
                         default:
-                            Au(this, e, t)
+                            qu(this, e, t)
                     }
                     this._x0 = this._x1, this._x1 = this._x2, this._x2 = e, this._y0 = this._y1, this._y1 = this._y2, this._y2 = t
                 }
             };
-            const Cu = function e(t) {
+            const Gu = function e(t) {
                 function n(e) {
-                    return new Du(e, t)
+                    return new Vu(e, t)
                 }
                 return n.tension = function(t) {
                     return e(+t)
                 }, n
             }(0);
 
-            function Fu(e, t) {
+            function Yu(e, t) {
                 this._context = e, this._k = (1 - t) / 6
             }
-            Fu.prototype = {
-                areaStart: _u,
-                areaEnd: _u,
+            Yu.prototype = {
+                areaStart: zu,
+                areaEnd: zu,
                 lineStart: function() {
                     this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN, this._point = 0
                 },
                 lineEnd: function() {
                     switch (this._point) {
                         case 1:
                             this._context.moveTo(this._x3, this._y3), this._context.closePath();
@@ -6607,69 +6650,65 @@
                         case 1:
                             this._point = 2, this._context.moveTo(this._x4 = e, this._y4 = t);
                             break;
                         case 2:
                             this._point = 3, this._x5 = e, this._y5 = t;
                             break;
                         default:
-                            Au(this, e, t)
+                            qu(this, e, t)
                     }
                     this._x0 = this._x1, this._x1 = this._x2, this._x2 = e, this._y0 = this._y1, this._y1 = this._y2, this._y2 = t
                 }
             };
-            const Nu = function e(t) {
+            const Xu = function e(t) {
                 function n(e) {
-                    return new Fu(e, t)
+                    return new Yu(e, t)
                 }
                 return n.tension = function(t) {
                     return e(+t)
                 }, n
             }(0);
-            var Tu = Math.abs,
-                Ou = Math.atan2,
-                Pu = Math.cos,
-                Ru = Math.max,
-                Lu = Math.min,
-                zu = Math.sin,
-                Iu = Math.sqrt,
-                Uu = 1e-12,
-                ju = Math.PI,
-                Bu = ju / 2,
-                qu = 2 * ju;
-
-            function Hu(e) {
-                return e > 1 ? 0 : e < -1 ? ju : Math.acos(e)
-            }
+            var $u = Math.abs,
+                Ku = Math.atan2,
+                Ju = Math.cos,
+                Qu = Math.max,
+                Zu = Math.min,
+                es = Math.sin,
+                ts = Math.sqrt,
+                ns = 1e-12,
+                rs = Math.PI,
+                is = rs / 2,
+                as = 2 * rs;
 
-            function Wu(e) {
-                return e >= 1 ? Bu : e <= -1 ? -Bu : Math.asin(e)
+            function os(e) {
+                return e >= 1 ? is : e <= -1 ? -is : Math.asin(e)
             }
 
-            function Yu(e, t, n) {
+            function us(e, t, n) {
                 var r = e._x1,
                     i = e._y1,
                     a = e._x2,
                     o = e._y2;
-                if (e._l01_a > Uu) {
+                if (e._l01_a > ns) {
                     var u = 2 * e._l01_2a + 3 * e._l01_a * e._l12_a + e._l12_2a,
                         s = 3 * e._l01_a * (e._l01_a + e._l12_a);
                     r = (r * u - e._x0 * e._l12_2a + e._x2 * e._l01_2a) / s, i = (i * u - e._y0 * e._l12_2a + e._y2 * e._l01_2a) / s
                 }
-                if (e._l23_a > Uu) {
+                if (e._l23_a > ns) {
                     var l = 2 * e._l23_2a + 3 * e._l23_a * e._l12_a + e._l12_2a,
                         c = 3 * e._l23_a * (e._l23_a + e._l12_a);
                     a = (a * l + e._x1 * e._l23_2a - t * e._l12_2a) / c, o = (o * l + e._y1 * e._l23_2a - n * e._l12_2a) / c
                 }
                 e._context.bezierCurveTo(r, i, a, o, e._x2, e._y2)
             }
 
-            function Vu(e, t) {
+            function ss(e, t) {
                 this._context = e, this._alpha = t
             }
-            Vu.prototype = {
+            ss.prototype = {
                 areaStart: function() {
                     this._line = 0
                 },
                 areaEnd: function() {
                     this._line = NaN
                 },
                 lineStart: function() {
@@ -6696,34 +6735,34 @@
                             break;
                         case 1:
                             this._point = 2;
                             break;
                         case 2:
                             this._point = 3;
                         default:
-                            Yu(this, e, t)
+                            us(this, e, t)
                     }
                     this._l01_a = this._l12_a, this._l12_a = this._l23_a, this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a, this._x0 = this._x1, this._x1 = this._x2, this._x2 = e, this._y0 = this._y1, this._y1 = this._y2, this._y2 = t
                 }
             };
-            const Gu = function e(t) {
+            const ls = function e(t) {
                 function n(e) {
-                    return t ? new Vu(e, t) : new ku(e, 0)
+                    return t ? new ss(e, t) : new Hu(e, 0)
                 }
                 return n.alpha = function(t) {
                     return e(+t)
                 }, n
             }(.5);
 
-            function Xu(e, t) {
+            function cs(e, t) {
                 this._context = e, this._alpha = t
             }
-            Xu.prototype = {
-                areaStart: _u,
-                areaEnd: _u,
+            cs.prototype = {
+                areaStart: zu,
+                areaEnd: zu,
                 lineStart: function() {
                     this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN, this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0
                 },
                 lineEnd: function() {
                     switch (this._point) {
                         case 1:
                             this._context.moveTo(this._x3, this._y3), this._context.closePath();
@@ -6748,32 +6787,32 @@
                         case 1:
                             this._point = 2, this._context.moveTo(this._x4 = e, this._y4 = t);
                             break;
                         case 2:
                             this._point = 3, this._x5 = e, this._y5 = t;
                             break;
                         default:
-                            Yu(this, e, t)
+                            us(this, e, t)
                     }
                     this._l01_a = this._l12_a, this._l12_a = this._l23_a, this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a, this._x0 = this._x1, this._x1 = this._x2, this._x2 = e, this._y0 = this._y1, this._y1 = this._y2, this._y2 = t
                 }
             };
-            const $u = function e(t) {
+            const fs = function e(t) {
                 function n(e) {
-                    return t ? new Xu(e, t) : new Fu(e, 0)
+                    return t ? new cs(e, t) : new Yu(e, 0)
                 }
                 return n.alpha = function(t) {
                     return e(+t)
                 }, n
             }(.5);
 
-            function Ku(e, t) {
+            function ds(e, t) {
                 this._context = e, this._alpha = t
             }
-            Ku.prototype = {
+            ds.prototype = {
                 areaStart: function() {
                     this._line = 0
                 },
                 areaEnd: function() {
                     this._line = NaN
                 },
                 lineStart: function() {
@@ -6797,99 +6836,99 @@
                             break;
                         case 2:
                             this._point = 3, this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);
                             break;
                         case 3:
                             this._point = 4;
                         default:
-                            Yu(this, e, t)
+                            us(this, e, t)
                     }
                     this._l01_a = this._l12_a, this._l12_a = this._l23_a, this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a, this._x0 = this._x1, this._x1 = this._x2, this._x2 = e, this._y0 = this._y1, this._y1 = this._y2, this._y2 = t
                 }
             };
-            const Ju = function e(t) {
+            const hs = function e(t) {
                 function n(e) {
-                    return t ? new Ku(e, t) : new Du(e, 0)
+                    return t ? new ds(e, t) : new Vu(e, 0)
                 }
                 return n.alpha = function(t) {
                     return e(+t)
                 }, n
             }(.5);
 
-            function Qu(e) {
+            function ps(e) {
                 this._context = e
             }
 
-            function Zu(e) {
-                return new Qu(e)
+            function gs(e) {
+                return new ps(e)
             }
 
-            function es(e) {
+            function ms(e) {
                 this._context = e
             }
 
-            function ts(e) {
+            function vs(e) {
                 return e < 0 ? -1 : 1
             }
 
-            function ns(e, t, n) {
+            function ys(e, t, n) {
                 var r = e._x1 - e._x0,
                     i = t - e._x1,
                     a = (e._y1 - e._y0) / (r || i < 0 && -0),
                     o = (n - e._y1) / (i || r < 0 && -0),
                     u = (a * i + o * r) / (r + i);
-                return (ts(a) + ts(o)) * Math.min(Math.abs(a), Math.abs(o), .5 * Math.abs(u)) || 0
+                return (vs(a) + vs(o)) * Math.min(Math.abs(a), Math.abs(o), .5 * Math.abs(u)) || 0
             }
 
-            function rs(e, t) {
+            function bs(e, t) {
                 var n = e._x1 - e._x0;
                 return n ? (3 * (e._y1 - e._y0) / n - t) / 2 : t
             }
 
-            function is(e, t, n) {
+            function _s(e, t, n) {
                 var r = e._x0,
                     i = e._y0,
                     a = e._x1,
                     o = e._y1,
                     u = (a - r) / 3;
                 e._context.bezierCurveTo(r + u, i + u * t, a - u, o - u * n, a, o)
             }
 
-            function as(e) {
+            function xs(e) {
                 this._context = e
             }
 
-            function os(e) {
-                this._context = new us(e)
+            function ws(e) {
+                this._context = new Ss(e)
             }
 
-            function us(e) {
+            function Ss(e) {
                 this._context = e
             }
 
-            function ss(e) {
+            function Es(e) {
                 this._context = e
             }
 
-            function ls(e) {
+            function As(e) {
                 var t, n, r = e.length - 1,
                     i = new Array(r),
                     a = new Array(r),
                     o = new Array(r);
                 for (i[0] = 0, a[0] = 2, o[0] = e[0] + 2 * e[1], t = 1; t < r - 1; ++t) i[t] = 1, a[t] = 4, o[t] = 4 * e[t] + 2 * e[t + 1];
                 for (i[r - 1] = 2, a[r - 1] = 7, o[r - 1] = 8 * e[r - 1] + e[r], t = 1; t < r; ++t) n = i[t] / a[t - 1], a[t] -= n, o[t] -= n * o[t - 1];
                 for (i[r - 1] = o[r - 1] / a[r - 1], t = r - 2; t >= 0; --t) i[t] = (o[t] - i[t + 1]) / a[t];
                 for (a[r - 1] = (e[r] + i[r - 1]) / 2, t = 0; t < r - 1; ++t) a[t] = 2 * e[t + 1] - i[t + 1];
                 return [i, a]
             }
 
-            function cs(e, t) {
+            function ks(e, t) {
                 this._context = e, this._t = t
             }
-            Qu.prototype = {
+            ps.prototype = {
                 areaStart: function() {
                     this._line = 0
                 },
                 areaEnd: function() {
                     this._line = NaN
                 },
                 lineStart: function() {
@@ -6905,27 +6944,27 @@
                             break;
                         case 1:
                             this._point = 2;
                         default:
                             this._context.lineTo(e, t)
                     }
                 }
-            }, es.prototype = {
-                areaStart: _u,
-                areaEnd: _u,
+            }, ms.prototype = {
+                areaStart: zu,
+                areaEnd: zu,
                 lineStart: function() {
                     this._point = 0
                 },
                 lineEnd: function() {
                     this._point && this._context.closePath()
                 },
                 point: function(e, t) {
                     e = +e, t = +t, this._point ? this._context.lineTo(e, t) : (this._point = 1, this._context.moveTo(e, t))
                 }
-            }, as.prototype = {
+            }, xs.prototype = {
                 areaStart: function() {
                     this._line = 0
                 },
                 areaEnd: function() {
                     this._line = NaN
                 },
                 lineStart: function() {
@@ -6933,52 +6972,52 @@
                 },
                 lineEnd: function() {
                     switch (this._point) {
                         case 2:
                             this._context.lineTo(this._x1, this._y1);
                             break;
                         case 3:
-                            is(this, this._t0, rs(this, this._t0))
+                            _s(this, this._t0, bs(this, this._t0))
                     }(this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line = 1 - this._line
                 },
                 point: function(e, t) {
                     var n = NaN;
                     if (t = +t, (e = +e) !== this._x1 || t !== this._y1) {
                         switch (this._point) {
                             case 0:
                                 this._point = 1, this._line ? this._context.lineTo(e, t) : this._context.moveTo(e, t);
                                 break;
                             case 1:
                                 this._point = 2;
                                 break;
                             case 2:
-                                this._point = 3, is(this, rs(this, n = ns(this, e, t)), n);
+                                this._point = 3, _s(this, bs(this, n = ys(this, e, t)), n);
                                 break;
                             default:
-                                is(this, this._t0, n = ns(this, e, t))
+                                _s(this, this._t0, n = ys(this, e, t))
                         }
                         this._x0 = this._x1, this._x1 = e, this._y0 = this._y1, this._y1 = t, this._t0 = n
                     }
                 }
-            }, (os.prototype = Object.create(as.prototype)).point = function(e, t) {
-                as.prototype.point.call(this, t, e)
-            }, us.prototype = {
+            }, (ws.prototype = Object.create(xs.prototype)).point = function(e, t) {
+                xs.prototype.point.call(this, t, e)
+            }, Ss.prototype = {
                 moveTo: function(e, t) {
                     this._context.moveTo(t, e)
                 },
                 closePath: function() {
                     this._context.closePath()
                 },
                 lineTo: function(e, t) {
                     this._context.lineTo(t, e)
                 },
                 bezierCurveTo: function(e, t, n, r, i, a) {
                     this._context.bezierCurveTo(t, e, r, n, a, i)
                 }
-            }, ss.prototype = {
+            }, Es.prototype = {
                 areaStart: function() {
                     this._line = 0
                 },
                 areaEnd: function() {
                     this._line = NaN
                 },
                 lineStart: function() {
@@ -6987,21 +7026,21 @@
                 lineEnd: function() {
                     var e = this._x,
                         t = this._y,
                         n = e.length;
                     if (n)
                         if (this._line ? this._context.lineTo(e[0], t[0]) : this._context.moveTo(e[0], t[0]), 2 === n) this._context.lineTo(e[1], t[1]);
                         else
-                            for (var r = ls(e), i = ls(t), a = 0, o = 1; o < n; ++a, ++o) this._context.bezierCurveTo(r[0][a], i[0][a], r[1][a], i[1][a], e[o], t[o]);
+                            for (var r = As(e), i = As(t), a = 0, o = 1; o < n; ++a, ++o) this._context.bezierCurveTo(r[0][a], i[0][a], r[1][a], i[1][a], e[o], t[o]);
                     (this._line || 0 !== this._line && 1 === n) && this._context.closePath(), this._line = 1 - this._line, this._x = this._y = null
                 },
                 point: function(e, t) {
                     this._x.push(+e), this._y.push(+t)
                 }
-            }, cs.prototype = {
+            }, ks.prototype = {
                 areaStart: function() {
                     this._line = 0
                 },
                 areaEnd: function() {
                     this._line = NaN
                 },
                 lineStart: function() {
@@ -7023,138 +7062,138 @@
                                 var n = this._x * (1 - this._t) + e * this._t;
                                 this._context.lineTo(n, this._y), this._context.lineTo(n, t)
                             }
                     }
                     this._x = e, this._y = t
                 }
             };
-            var fs = {
+            var Ms = {
                 basis: {
                     curve: function(e) {
-                        return new bu(e)
+                        return new Lu(e)
                     }
                 },
                 "basis-closed": {
                     curve: function(e) {
-                        return new xu(e)
+                        return new Iu(e)
                     }
                 },
                 "basis-open": {
                     curve: function(e) {
-                        return new wu(e)
+                        return new ju(e)
                     }
                 },
                 bundle: {
-                    curve: Eu,
+                    curve: Uu,
                     tension: "beta",
                     value: .85
                 },
                 cardinal: {
-                    curve: Mu,
+                    curve: Wu,
                     tension: "tension",
                     value: 0
                 },
                 "cardinal-open": {
-                    curve: Cu,
+                    curve: Gu,
                     tension: "tension",
                     value: 0
                 },
                 "cardinal-closed": {
-                    curve: Nu,
+                    curve: Xu,
                     tension: "tension",
                     value: 0
                 },
                 "catmull-rom": {
-                    curve: Gu,
+                    curve: ls,
                     tension: "alpha",
                     value: .5
                 },
                 "catmull-rom-closed": {
-                    curve: $u,
+                    curve: fs,
                     tension: "alpha",
                     value: .5
                 },
                 "catmull-rom-open": {
-                    curve: Ju,
+                    curve: hs,
                     tension: "alpha",
                     value: .5
                 },
                 linear: {
-                    curve: Zu
+                    curve: gs
                 },
                 "linear-closed": {
                     curve: function(e) {
-                        return new es(e)
+                        return new ms(e)
                     }
                 },
                 monotone: {
                     horizontal: function(e) {
-                        return new os(e)
+                        return new ws(e)
                     },
                     vertical: function(e) {
-                        return new as(e)
+                        return new xs(e)
                     }
                 },
                 natural: {
                     curve: function(e) {
-                        return new ss(e)
+                        return new Es(e)
                     }
                 },
                 step: {
                     curve: function(e) {
-                        return new cs(e, .5)
+                        return new ks(e, .5)
                     }
                 },
                 "step-after": {
                     curve: function(e) {
-                        return new cs(e, 1)
+                        return new ks(e, 1)
                     }
                 },
                 "step-before": {
                     curve: function(e) {
-                        return new cs(e, 0)
+                        return new ks(e, 0)
                     }
                 }
             };
 
-            function ds(e, t, n) {
-                var r = fs.hasOwnProperty(e) && fs[e],
+            function Ds(e, t, n) {
+                var r = Ms.hasOwnProperty(e) && Ms[e],
                     i = null;
                 return r && (i = r.curve || r[t || "vertical"], r.tension && null != n && (i = i[r.tension](n))), i
             }
-            var hs = {
+            var Cs = {
                     m: 2,
                     l: 2,
                     h: 1,
                     v: 1,
                     c: 6,
                     s: 4,
                     q: 4,
                     t: 2,
                     a: 7
                 },
-                ps = [/([MLHVCSQTAZmlhvcsqtaz])/g, /###/, /(\d)([-+])/g, /\s|,|###/];
+                Fs = [/([MLHVCSQTAZmlhvcsqtaz])/g, /###/, /(\d)([-+])/g, /\s|,|###/];
 
-            function gs(e) {
+            function Ns(e) {
                 var t, n, r, i, a, o, u, s, l, c, f, d = [];
-                for (s = 0, c = (t = e.slice().replace(ps[0], "###$1").split(ps[1]).slice(1)).length; s < c; ++s) {
-                    for (r = (n = t[s]).slice(1).trim().replace(ps[2], "$1###$2").split(ps[3]), i = [o = n.charAt(0)], l = 0, f = r.length; l < f; ++l)(a = +r[l]) === a && i.push(a);
-                    if (u = hs[o.toLowerCase()], i.length - 1 > u)
+                for (s = 0, c = (t = e.slice().replace(Fs[0], "###$1").split(Fs[1]).slice(1)).length; s < c; ++s) {
+                    for (r = (n = t[s]).slice(1).trim().replace(Fs[2], "$1###$2").split(Fs[3]), i = [o = n.charAt(0)], l = 0, f = r.length; l < f; ++l)(a = +r[l]) === a && i.push(a);
+                    if (u = Cs[o.toLowerCase()], i.length - 1 > u)
                         for (l = 1, f = i.length; l < f; l += u) d.push([o].concat(i.slice(l, l + u)));
                     else d.push(i)
                 }
                 return d
             }
-            var ms = {},
-                vs = {},
-                ys = [].join;
-
-            function bs(e) {
-                var t = ys.call(e);
-                if (vs[t]) return vs[t];
+            var Os = {},
+                Ts = {},
+                Ps = [].join;
+
+            function Rs(e) {
+                var t = Ps.call(e);
+                if (Ts[t]) return Ts[t];
                 var n = e[0],
                     r = e[1],
                     i = e[2],
                     a = e[3],
                     o = e[4],
                     u = e[5],
                     s = e[6],
@@ -7172,35 +7211,35 @@
                     _ = 8 / 3 * b * b / Math.sin(y),
                     x = n + p - _ * g,
                     w = r + g + _ * p,
                     S = n + m,
                     E = r + v,
                     A = S + _ * v,
                     k = E - _ * m;
-                return vs[t] = [c * x + f * w, d * x + h * w, c * A + f * k, d * A + h * k, c * S + f * E, d * S + h * E]
+                return Ts[t] = [c * x + f * w, d * x + h * w, c * A + f * k, d * A + h * k, c * S + f * E, d * S + h * E]
             }
-            var _s = ["l", 0, 0, 0, 0, 0, 0, 0];
+            var Ls = ["l", 0, 0, 0, 0, 0, 0, 0];
 
-            function xs(e, t) {
-                var n = _s[0] = e[0];
-                if ("a" === n || "A" === n) _s[1] = t * e[1], _s[2] = t * e[2], _s[6] = t * e[6], _s[7] = t * e[7];
+            function zs(e, t) {
+                var n = Ls[0] = e[0];
+                if ("a" === n || "A" === n) Ls[1] = t * e[1], Ls[2] = t * e[2], Ls[6] = t * e[6], Ls[7] = t * e[7];
                 else
-                    for (var r = 1, i = e.length; r < i; ++r) _s[r] = t * e[r];
-                return _s
+                    for (var r = 1, i = e.length; r < i; ++r) Ls[r] = t * e[r];
+                return Ls
             }
 
-            function ws(e, t, n, r, i) {
+            function Is(e, t, n, r, i) {
                 var a, o, u, s, l, c = null,
                     f = 0,
                     d = 0,
                     h = 0,
                     p = 0;
                 null == n && (n = 0), null == r && (r = 0), null == i && (i = 1), e.beginPath && e.beginPath();
                 for (var g = 0, m = t.length; g < m; ++g) {
-                    switch (a = t[g], 1 !== i && (a = xs(a, i)), a[0]) {
+                    switch (a = t[g], 1 !== i && (a = zs(a, i)), a[0]) {
                         case "l":
                             f += a[1], d += a[2], e.lineTo(f + n, d + r);
                             break;
                         case "L":
                             f = a[1], d = a[2], e.lineTo(f + n, d + r);
                             break;
                         case "h":
@@ -7242,31 +7281,31 @@
                         case "t":
                             o = f + a[1], u = d + a[2], null === c[0].match(/[QqTt]/) ? (h = f, p = d) : "t" === c[0] ? (h = 2 * f - s, p = 2 * d - l) : "q" === c[0] && (h = 2 * f - h, p = 2 * d - p), s = h, l = p, e.quadraticCurveTo(h + n, p + r, o + n, u + r), d = u, h = (f = o) + a[1], p = d + a[2];
                             break;
                         case "T":
                             o = a[1], u = a[2], h = 2 * f - h, p = 2 * d - p, e.quadraticCurveTo(h + n, p + r, o + n, u + r), f = o, d = u;
                             break;
                         case "a":
-                            Ss(e, f + n, d + r, [a[1], a[2], a[3], a[4], a[5], a[6] + f + n, a[7] + d + r]), f += a[6], d += a[7];
+                            js(e, f + n, d + r, [a[1], a[2], a[3], a[4], a[5], a[6] + f + n, a[7] + d + r]), f += a[6], d += a[7];
                             break;
                         case "A":
-                            Ss(e, f + n, d + r, [a[1], a[2], a[3], a[4], a[5], a[6] + n, a[7] + r]), f = a[6], d = a[7];
+                            js(e, f + n, d + r, [a[1], a[2], a[3], a[4], a[5], a[6] + n, a[7] + r]), f = a[6], d = a[7];
                             break;
                         case "z":
                         case "Z":
                             e.closePath()
                     }
                     c = a
                 }
             }
 
-            function Ss(e, t, n, r) {
+            function js(e, t, n, r) {
                 for (var i = function(e, t, n, r, i, a, o, u, s) {
-                        var l = ys.call(arguments);
-                        if (ms[l]) return ms[l];
+                        var l = Ps.call(arguments);
+                        if (Os[l]) return Os[l];
                         var c = o * (Math.PI / 180),
                             f = Math.sin(c),
                             d = Math.cos(c),
                             h = d * (u - e) * .5 + f * (s - t) * .5,
                             p = d * (s - t) * .5 - f * (u - e) * .5,
                             g = h * h / ((n = Math.abs(n)) * n) + p * p / ((r = Math.abs(r)) * r);
                         g > 1 && (n *= g = Math.sqrt(g), r *= g);
@@ -7283,32 +7322,32 @@
                         var A = Math.sqrt(E);
                         a == i && (A = -A);
                         var k = .5 * (_ + w) - A * (S - x),
                             M = .5 * (x + S) + A * (w - _),
                             D = Math.atan2(x - M, _ - k),
                             C = Math.atan2(S - M, w - k) - D;
                         C < 0 && 1 === a ? C += 2 * Math.PI : C > 0 && 0 === a && (C -= 2 * Math.PI);
-                        for (var F = Math.ceil(Math.abs(C / (.5 * Math.PI + .001))), N = [], T = 0; T < F; ++T) {
-                            var O = D + T * C / F,
-                                P = D + (T + 1) * C / F;
-                            N[T] = [k, M, O, P, n, r, f, d]
+                        for (var F = Math.ceil(Math.abs(C / (.5 * Math.PI + .001))), N = [], O = 0; O < F; ++O) {
+                            var T = D + O * C / F,
+                                P = D + (O + 1) * C / F;
+                            N[O] = [k, M, T, P, n, r, f, d]
                         }
-                        return ms[l] = N
+                        return Os[l] = N
                     }(r[5], r[6], r[0], r[1], r[3], r[4], r[2], t, n), a = 0; a < i.length; ++a) {
-                    var o = bs(i[a]);
+                    var o = Rs(i[a]);
                     e.bezierCurveTo(o[0], o[1], o[2], o[3], o[4], o[5])
                 }
             }
-            var Es = 2 * Math.PI,
-                As = Math.sqrt(3) / 2,
-                ks = {
+            var Bs = 2 * Math.PI,
+                Us = Math.sqrt(3) / 2,
+                qs = {
                     circle: {
                         draw: function(e, t) {
                             var n = Math.sqrt(t) / 2;
-                            e.moveTo(n, 0), e.arc(0, 0, n, 0, Es)
+                            e.moveTo(n, 0), e.arc(0, 0, n, 0, Bs)
                         }
                     },
                     cross: {
                         draw: function(e, t) {
                             var n = Math.sqrt(t) / 2,
                                 r = n / 2.5;
                             e.moveTo(-n, -r), e.lineTo(-n, r), e.lineTo(-r, r), e.lineTo(-r, n), e.lineTo(r, n), e.lineTo(r, r), e.lineTo(n, r), e.lineTo(n, -r), e.lineTo(r, -r), e.lineTo(r, -n), e.lineTo(-r, -n), e.lineTo(-r, -r), e.closePath()
@@ -7326,69 +7365,69 @@
                                 r = -n / 2;
                             e.rect(r, r, n, n)
                         }
                     },
                     "triangle-up": {
                         draw: function(e, t) {
                             var n = Math.sqrt(t) / 2,
-                                r = As * n;
+                                r = Us * n;
                             e.moveTo(0, -r), e.lineTo(-n, r), e.lineTo(n, r), e.closePath()
                         }
                     },
                     "triangle-down": {
                         draw: function(e, t) {
                             var n = Math.sqrt(t) / 2,
-                                r = As * n;
+                                r = Us * n;
                             e.moveTo(0, r), e.lineTo(-n, -r), e.lineTo(n, -r), e.closePath()
                         }
                     },
                     "triangle-right": {
                         draw: function(e, t) {
                             var n = Math.sqrt(t) / 2,
-                                r = As * n;
+                                r = Us * n;
                             e.moveTo(r, 0), e.lineTo(-r, -n), e.lineTo(-r, n), e.closePath()
                         }
                     },
                     "triangle-left": {
                         draw: function(e, t) {
                             var n = Math.sqrt(t) / 2,
-                                r = As * n;
+                                r = Us * n;
                             e.moveTo(-r, 0), e.lineTo(r, -n), e.lineTo(r, n), e.closePath()
                         }
                     }
                 };
 
-            function Ms(e) {
-                return ks.hasOwnProperty(e) ? ks[e] : function(e) {
-                    if (!Ds.hasOwnProperty(e)) {
-                        var t = gs(e);
-                        Ds[e] = {
+            function Hs(e) {
+                return qs.hasOwnProperty(e) ? qs[e] : function(e) {
+                    if (!Ws.hasOwnProperty(e)) {
+                        var t = Ns(e);
+                        Ws[e] = {
                             draw: function(e, n) {
-                                ws(e, t, 0, 0, Math.sqrt(n) / 2)
+                                Is(e, t, 0, 0, Math.sqrt(n) / 2)
                             }
                         }
                     }
-                    return Ds[e]
+                    return Ws[e]
                 }(e)
             }
-            var Ds = {},
-                Cs = Math.PI,
-                Fs = 2 * Cs,
-                Ns = 1e-6,
-                Ts = Fs - Ns;
+            var Ws = {},
+                Vs = Math.PI,
+                Gs = 2 * Vs,
+                Ys = 1e-6,
+                Xs = Gs - Ys;
 
-            function Os() {
+            function $s() {
                 this._x0 = this._y0 = this._x1 = this._y1 = null, this._ = ""
             }
 
-            function Ps() {
-                return new Os
+            function Ks() {
+                return new $s
             }
-            Os.prototype = Ps.prototype = {
-                constructor: Os,
+            $s.prototype = Ks.prototype = {
+                constructor: $s,
                 moveTo: function(e, t) {
                     this._ += "M" + (this._x0 = this._x1 = +e) + "," + (this._y0 = this._y1 = +t)
                 },
                 closePath: function() {
                     null !== this._x1 && (this._x1 = this._x0, this._y1 = this._y0, this._ += "Z")
                 },
                 lineTo: function(e, t) {
@@ -7407,132 +7446,132 @@
                         u = n - e,
                         s = r - t,
                         l = a - e,
                         c = o - t,
                         f = l * l + c * c;
                     if (i < 0) throw new Error("negative radius: " + i);
                     if (null === this._x1) this._ += "M" + (this._x1 = e) + "," + (this._y1 = t);
-                    else if (f > Ns)
-                        if (Math.abs(c * u - s * l) > Ns && i) {
+                    else if (f > Ys)
+                        if (Math.abs(c * u - s * l) > Ys && i) {
                             var d = n - a,
                                 h = r - o,
                                 p = u * u + s * s,
                                 g = d * d + h * h,
                                 m = Math.sqrt(p),
                                 v = Math.sqrt(f),
-                                y = i * Math.tan((Cs - Math.acos((p + f - g) / (2 * m * v))) / 2),
+                                y = i * Math.tan((Vs - Math.acos((p + f - g) / (2 * m * v))) / 2),
                                 b = y / v,
                                 _ = y / m;
-                            Math.abs(b - 1) > Ns && (this._ += "L" + (e + b * l) + "," + (t + b * c)), this._ += "A" + i + "," + i + ",0,0," + +(c * d > l * h) + "," + (this._x1 = e + _ * u) + "," + (this._y1 = t + _ * s)
+                            Math.abs(b - 1) > Ys && (this._ += "L" + (e + b * l) + "," + (t + b * c)), this._ += "A" + i + "," + i + ",0,0," + +(c * d > l * h) + "," + (this._x1 = e + _ * u) + "," + (this._y1 = t + _ * s)
                         } else this._ += "L" + (this._x1 = e) + "," + (this._y1 = t)
                 },
                 arc: function(e, t, n, r, i, a) {
                     e = +e, t = +t, a = !!a;
                     var o = (n = +n) * Math.cos(r),
                         u = n * Math.sin(r),
                         s = e + o,
                         l = t + u,
                         c = 1 ^ a,
                         f = a ? r - i : i - r;
                     if (n < 0) throw new Error("negative radius: " + n);
-                    null === this._x1 ? this._ += "M" + s + "," + l : (Math.abs(this._x1 - s) > Ns || Math.abs(this._y1 - l) > Ns) && (this._ += "L" + s + "," + l), n && (f < 0 && (f = f % Fs + Fs), f > Ts ? this._ += "A" + n + "," + n + ",0,1," + c + "," + (e - o) + "," + (t - u) + "A" + n + "," + n + ",0,1," + c + "," + (this._x1 = s) + "," + (this._y1 = l) : f > Ns && (this._ += "A" + n + "," + n + ",0," + +(f >= Cs) + "," + c + "," + (this._x1 = e + n * Math.cos(i)) + "," + (this._y1 = t + n * Math.sin(i))))
+                    null === this._x1 ? this._ += "M" + s + "," + l : (Math.abs(this._x1 - s) > Ys || Math.abs(this._y1 - l) > Ys) && (this._ += "L" + s + "," + l), n && (f < 0 && (f = f % Gs + Gs), f > Xs ? this._ += "A" + n + "," + n + ",0,1," + c + "," + (e - o) + "," + (t - u) + "A" + n + "," + n + ",0,1," + c + "," + (this._x1 = s) + "," + (this._y1 = l) : f > Ys && (this._ += "A" + n + "," + n + ",0," + +(f >= Vs) + "," + c + "," + (this._x1 = e + n * Math.cos(i)) + "," + (this._y1 = t + n * Math.sin(i))))
                 },
                 rect: function(e, t, n, r) {
                     this._ += "M" + (this._x0 = this._x1 = +e) + "," + (this._y0 = this._y1 = +t) + "h" + +n + "v" + +r + "h" + -n + "Z"
                 },
                 toString: function() {
                     return this._
                 }
             };
-            const Rs = Ps;
+            const Js = Ks;
 
-            function Ls(e) {
+            function Qs(e) {
                 return e.x
             }
 
-            function zs(e) {
+            function Zs(e) {
                 return e.y
             }
 
-            function Is(e) {
+            function el(e) {
                 return e.width
             }
 
-            function Us(e) {
+            function tl(e) {
                 return e.height
             }
 
-            function js(e) {
+            function nl(e) {
                 return function() {
                     return e
                 }
             }
 
-            function Bs() {
-                var e = Ls,
-                    t = zs,
-                    n = Is,
-                    r = Us,
-                    i = js(0),
+            function rl() {
+                var e = Qs,
+                    t = Zs,
+                    n = el,
+                    r = tl,
+                    i = nl(0),
                     a = null;
 
                 function o(o, u, s) {
                     var l, c = null != u ? u : +e.call(this, o),
                         f = null != s ? s : +t.call(this, o),
                         d = +n.call(this, o),
                         h = +r.call(this, o),
                         p = +i.call(this, o);
-                    if (a || (a = l = Rs()), p <= 0) a.rect(c, f, d, h);
+                    if (a || (a = l = Js()), p <= 0) a.rect(c, f, d, h);
                     else {
                         var g = c + d,
                             m = f + h;
                         a.moveTo(c + p, f), a.lineTo(g - p, f), a.quadraticCurveTo(g, f, g, f + p), a.lineTo(g, m - p), a.quadraticCurveTo(g, m, g - p, m), a.lineTo(c + p, m), a.quadraticCurveTo(c, m, c, m - p), a.lineTo(c, f + p), a.quadraticCurveTo(c, f, c + p, f), a.closePath()
                     }
                     if (l) return a = null, l + "" || null
                 }
                 return o.x = function(t) {
-                    return arguments.length ? (e = "function" == typeof t ? t : js(+t), o) : e
+                    return arguments.length ? (e = "function" == typeof t ? t : nl(+t), o) : e
                 }, o.y = function(e) {
-                    return arguments.length ? (t = "function" == typeof e ? e : js(+e), o) : t
+                    return arguments.length ? (t = "function" == typeof e ? e : nl(+e), o) : t
                 }, o.width = function(e) {
-                    return arguments.length ? (n = "function" == typeof e ? e : js(+e), o) : n
+                    return arguments.length ? (n = "function" == typeof e ? e : nl(+e), o) : n
                 }, o.height = function(e) {
-                    return arguments.length ? (r = "function" == typeof e ? e : js(+e), o) : r
+                    return arguments.length ? (r = "function" == typeof e ? e : nl(+e), o) : r
                 }, o.cornerRadius = function(e) {
-                    return arguments.length ? (i = "function" == typeof e ? e : js(+e), o) : i
+                    return arguments.length ? (i = "function" == typeof e ? e : nl(+e), o) : i
                 }, o.context = function(e) {
                     return arguments.length ? (a = null == e ? null : e, o) : a
                 }, o
             }
-            var qs = Math.PI;
+            var il = Math.PI;
 
-            function Hs() {
+            function al() {
                 var e, t, n, r, i, a, o, u, s = null;
 
                 function l(e, t, n) {
                     var r = n / 2;
                     if (i) {
                         var l = o - t,
                             c = e - a;
                         if (l || c) {
                             var f = Math.sqrt(l * l + c * c),
                                 d = (l /= f) * u,
                                 h = (c /= f) * u,
                                 p = Math.atan2(c, l);
-                            s.moveTo(a - d, o - h), s.lineTo(e - l * r, t - c * r), s.arc(e, t, r, p - qs, p), s.lineTo(a + d, o + h), s.arc(a, o, u, p, p + qs)
-                        } else s.arc(e, t, r, 0, 2 * qs);
+                            s.moveTo(a - d, o - h), s.lineTo(e - l * r, t - c * r), s.arc(e, t, r, p - il, p), s.lineTo(a + d, o + h), s.arc(a, o, u, p, p + il)
+                        } else s.arc(e, t, r, 0, 2 * il);
                         s.closePath()
                     } else i = 1;
                     a = e, o = t, u = r
                 }
 
                 function c(a) {
                     var o, u, c, f = a.length,
                         d = !1;
-                    for (null == s && (s = c = Rs()), o = 0; o <= f; ++o) !(o < f && r(u = a[o], o, a)) === d && (d = !d) && (i = 0), d && l(+e(u, o, a), +t(u, o, a), +n(u, o, a));
+                    for (null == s && (s = c = Js()), o = 0; o <= f; ++o) !(o < f && r(u = a[o], o, a)) === d && (d = !d) && (i = 0), d && l(+e(u, o, a), +t(u, o, a), +n(u, o, a));
                     if (c) return s = null, c + "" || null
                 }
                 return c.x = function(t) {
                     return arguments.length ? (e = t, c) : e
                 }, c.y = function(e) {
                     return arguments.length ? (t = e, c) : t
                 }, c.size = function(e) {
@@ -7540,67 +7579,58 @@
                 }, c.defined = function(e) {
                     return arguments.length ? (r = e, c) : r
                 }, c.context = function(e) {
                     return arguments.length ? (s = null == e ? null : e, c) : s
                 }, c
             }
 
-            function Ws(e) {
+            function ol(e) {
                 return function() {
                     return e
                 }
             }
 
-            function Ys(e) {
+            function ul(e) {
                 return e.innerRadius
             }
 
-            function Vs(e) {
+            function sl(e) {
                 return e.outerRadius
             }
 
-            function Gs(e) {
+            function ll(e) {
                 return e.startAngle
             }
 
-            function Xs(e) {
+            function cl(e) {
                 return e.endAngle
             }
 
-            function $s(e) {
+            function fl(e) {
                 return e && e.padAngle
             }
 
-            function Ks(e, t, n, r, i, a, o, u) {
-                var s = n - e,
-                    l = r - t,
-                    c = o - i,
-                    f = u - a,
-                    d = f * s - c * l;
-                if (!(d * d < Uu)) return [e + (d = (c * (t - a) - f * (e - i)) / d) * s, t + d * l]
-            }
-
-            function Js(e, t, n, r, i, a, o) {
+            function dl(e, t, n, r, i, a, o) {
                 var u = e - n,
                     s = t - r,
-                    l = (o ? a : -a) / Iu(u * u + s * s),
+                    l = (o ? a : -a) / ts(u * u + s * s),
                     c = l * s,
                     f = -l * u,
                     d = e + c,
                     h = t + f,
                     p = n + c,
                     g = r + f,
                     m = (d + p) / 2,
                     v = (h + g) / 2,
                     y = p - d,
                     b = g - h,
                     _ = y * y + b * b,
                     x = i - a,
                     w = d * g - p * h,
-                    S = (b < 0 ? -1 : 1) * Iu(Ru(0, x * x * _ - w * w)),
+                    S = (b < 0 ? -1 : 1) * ts(Qu(0, x * x * _ - w * w)),
                     E = (w * b - y * S) / _,
                     A = (-w * y - b * S) / _,
                     k = (w * b + y * S) / _,
                     M = (-w * y + b * S) / _,
                     D = E - m,
                     C = A - v,
                     F = k - m,
@@ -7611,1746 +7641,1759 @@
                     x01: -c,
                     y01: -f,
                     x11: E * (i / x - 1),
                     y11: A * (i / x - 1)
                 }
             }
 
-            function Qs(e) {
+            function hl(e) {
                 return e[0]
             }
 
-            function Zs(e) {
+            function pl(e) {
                 return e[1]
             }
 
-            function el() {
-                var e = Qs,
-                    t = Zs,
-                    n = Ws(!0),
+            function gl() {
+                var e = hl,
+                    t = pl,
+                    n = ol(!0),
                     r = null,
-                    i = Zu,
+                    i = gs,
                     a = null;
 
                 function o(o) {
                     var u, s, l, c = o.length,
                         f = !1;
-                    for (null == r && (a = i(l = Rs())), u = 0; u <= c; ++u) !(u < c && n(s = o[u], u, o)) === f && ((f = !f) ? a.lineStart() : a.lineEnd()), f && a.point(+e(s, u, o), +t(s, u, o));
+                    for (null == r && (a = i(l = Js())), u = 0; u <= c; ++u) !(u < c && n(s = o[u], u, o)) === f && ((f = !f) ? a.lineStart() : a.lineEnd()), f && a.point(+e(s, u, o), +t(s, u, o));
                     if (l) return a = null, l + "" || null
                 }
                 return o.x = function(t) {
-                    return arguments.length ? (e = "function" == typeof t ? t : Ws(+t), o) : e
+                    return arguments.length ? (e = "function" == typeof t ? t : ol(+t), o) : e
                 }, o.y = function(e) {
-                    return arguments.length ? (t = "function" == typeof e ? e : Ws(+e), o) : t
+                    return arguments.length ? (t = "function" == typeof e ? e : ol(+e), o) : t
                 }, o.defined = function(e) {
-                    return arguments.length ? (n = "function" == typeof e ? e : Ws(!!e), o) : n
+                    return arguments.length ? (n = "function" == typeof e ? e : ol(!!e), o) : n
                 }, o.curve = function(e) {
                     return arguments.length ? (i = e, null != r && (a = i(r)), o) : i
                 }, o.context = function(e) {
                     return arguments.length ? (null == e ? r = a = null : a = i(r = e), o) : r
                 }, o
             }
 
-            function tl() {
-                var e = Qs,
+            function ml() {
+                var e = hl,
                     t = null,
-                    n = Ws(0),
-                    r = Zs,
-                    i = Ws(!0),
+                    n = ol(0),
+                    r = pl,
+                    i = ol(!0),
                     a = null,
-                    o = Zu,
+                    o = gs,
                     u = null;
 
                 function s(s) {
                     var l, c, f, d, h, p = s.length,
                         g = !1,
                         m = new Array(p),
                         v = new Array(p);
-                    for (null == a && (u = o(h = Rs())), l = 0; l <= p; ++l) {
+                    for (null == a && (u = o(h = Js())), l = 0; l <= p; ++l) {
                         if (!(l < p && i(d = s[l], l, s)) === g)
                             if (g = !g) c = l, u.areaStart(), u.lineStart();
                             else {
                                 for (u.lineEnd(), u.lineStart(), f = l - 1; f >= c; --f) u.point(m[f], v[f]);
                                 u.lineEnd(), u.areaEnd()
                             } g && (m[l] = +e(d, l, s), v[l] = +n(d, l, s), u.point(t ? +t(d, l, s) : m[l], r ? +r(d, l, s) : v[l]))
                     }
                     if (h) return u = null, h + "" || null
                 }
 
                 function l() {
-                    return el().defined(i).curve(o).context(a)
+                    return gl().defined(i).curve(o).context(a)
                 }
                 return s.x = function(n) {
-                    return arguments.length ? (e = "function" == typeof n ? n : Ws(+n), t = null, s) : e
+                    return arguments.length ? (e = "function" == typeof n ? n : ol(+n), t = null, s) : e
                 }, s.x0 = function(t) {
-                    return arguments.length ? (e = "function" == typeof t ? t : Ws(+t), s) : e
+                    return arguments.length ? (e = "function" == typeof t ? t : ol(+t), s) : e
                 }, s.x1 = function(e) {
-                    return arguments.length ? (t = null == e ? null : "function" == typeof e ? e : Ws(+e), s) : t
+                    return arguments.length ? (t = null == e ? null : "function" == typeof e ? e : ol(+e), s) : t
                 }, s.y = function(e) {
-                    return arguments.length ? (n = "function" == typeof e ? e : Ws(+e), r = null, s) : n
+                    return arguments.length ? (n = "function" == typeof e ? e : ol(+e), r = null, s) : n
                 }, s.y0 = function(e) {
-                    return arguments.length ? (n = "function" == typeof e ? e : Ws(+e), s) : n
+                    return arguments.length ? (n = "function" == typeof e ? e : ol(+e), s) : n
                 }, s.y1 = function(e) {
-                    return arguments.length ? (r = null == e ? null : "function" == typeof e ? e : Ws(+e), s) : r
+                    return arguments.length ? (r = null == e ? null : "function" == typeof e ? e : ol(+e), s) : r
                 }, s.lineX0 = s.lineY0 = function() {
                     return l().x(e).y(n)
                 }, s.lineY1 = function() {
                     return l().x(e).y(r)
                 }, s.lineX1 = function() {
                     return l().x(t).y(n)
                 }, s.defined = function(e) {
-                    return arguments.length ? (i = "function" == typeof e ? e : Ws(!!e), s) : i
+                    return arguments.length ? (i = "function" == typeof e ? e : ol(!!e), s) : i
                 }, s.curve = function(e) {
                     return arguments.length ? (o = e, null != a && (u = o(a)), s) : o
                 }, s.context = function(e) {
                     return arguments.length ? (null == e ? a = u = null : u = o(a = e), s) : a
                 }, s
             }
-            const nl = {
+            const vl = {
                 draw: function(e, t) {
-                    var n = Math.sqrt(t / ju);
-                    e.moveTo(n, 0), e.arc(0, 0, n, 0, qu)
+                    var n = Math.sqrt(t / rs);
+                    e.moveTo(n, 0), e.arc(0, 0, n, 0, as)
                 }
             };
             Math.sqrt(1 / 3);
-            Math.sin(ju / 10), Math.sin(7 * ju / 10);
+            Math.sin(rs / 10), Math.sin(7 * rs / 10);
 
-            function rl(e) {
+            function yl(e) {
                 return e.x || 0
             }
 
-            function il(e) {
+            function bl(e) {
                 return e.y || 0
             }
 
-            function al(e) {
+            function _l(e) {
                 return e.cornerRadius || 0
             }
 
-            function ol(e) {
+            function xl(e) {
                 return !(!1 === e.defined)
             }
-            Math.sin(qu / 10), Math.cos(qu / 10), Math.sqrt(3), Math.sqrt(3), Math.sqrt(12);
-            var ul = function() {
-                    var e = Ys,
-                        t = Vs,
-                        n = Ws(0),
+            Math.sin(as / 10), Math.cos(as / 10), Math.sqrt(3), Math.sqrt(3), Math.sqrt(12);
+            var wl = function() {
+                    var e = ul,
+                        t = sl,
+                        n = ol(0),
                         r = null,
-                        i = Gs,
-                        a = Xs,
-                        o = $s,
+                        i = ll,
+                        a = cl,
+                        o = fl,
                         u = null;
 
                     function s() {
                         var s, l, c = +e.apply(this, arguments),
                             f = +t.apply(this, arguments),
-                            d = i.apply(this, arguments) - Bu,
-                            h = a.apply(this, arguments) - Bu,
-                            p = Tu(h - d),
+                            d = i.apply(this, arguments) - is,
+                            h = a.apply(this, arguments) - is,
+                            p = $u(h - d),
                             g = h > d;
-                        if (u || (u = s = Rs()), f < c && (l = f, f = c, c = l), f > Uu)
-                            if (p > qu - Uu) u.moveTo(f * Pu(d), f * zu(d)), u.arc(0, 0, f, d, h, !g), c > Uu && (u.moveTo(c * Pu(h), c * zu(h)), u.arc(0, 0, c, h, d, g));
+                        if (u || (u = s = Js()), f < c && (l = f, f = c, c = l), f > ns)
+                            if (p > as - ns) u.moveTo(f * Ju(d), f * es(d)), u.arc(0, 0, f, d, h, !g), c > ns && (u.moveTo(c * Ju(h), c * es(h)), u.arc(0, 0, c, h, d, g));
                             else {
                                 var m, v, y = d,
                                     b = h,
                                     _ = d,
                                     x = h,
                                     w = p,
                                     S = p,
                                     E = o.apply(this, arguments) / 2,
-                                    A = E > Uu && (r ? +r.apply(this, arguments) : Iu(c * c + f * f)),
-                                    k = Lu(Tu(f - c) / 2, +n.apply(this, arguments)),
+                                    A = E > ns && (r ? +r.apply(this, arguments) : ts(c * c + f * f)),
+                                    k = Zu($u(f - c) / 2, +n.apply(this, arguments)),
                                     M = k,
                                     D = k;
-                                if (A > Uu) {
-                                    var C = Wu(A / c * zu(E)),
-                                        F = Wu(A / f * zu(E));
-                                    (w -= 2 * C) > Uu ? (_ += C *= g ? 1 : -1, x -= C) : (w = 0, _ = x = (d + h) / 2), (S -= 2 * F) > Uu ? (y += F *= g ? 1 : -1, b -= F) : (S = 0, y = b = (d + h) / 2)
-                                }
-                                var N = f * Pu(y),
-                                    T = f * zu(y),
-                                    O = c * Pu(x),
-                                    P = c * zu(x);
-                                if (k > Uu) {
-                                    var R, L = f * Pu(b),
-                                        z = f * zu(b),
-                                        I = c * Pu(_),
-                                        U = c * zu(_);
-                                    if (p < ju && (R = Ks(N, T, I, U, L, z, O, P))) {
-                                        var j = N - R[0],
-                                            B = T - R[1],
+                                if (A > ns) {
+                                    var C = os(A / c * es(E)),
+                                        F = os(A / f * es(E));
+                                    (w -= 2 * C) > ns ? (_ += C *= g ? 1 : -1, x -= C) : (w = 0, _ = x = (d + h) / 2), (S -= 2 * F) > ns ? (y += F *= g ? 1 : -1, b -= F) : (S = 0, y = b = (d + h) / 2)
+                                }
+                                var N = f * Ju(y),
+                                    O = f * es(y),
+                                    T = c * Ju(x),
+                                    P = c * es(x);
+                                if (k > ns) {
+                                    var R, L = f * Ju(b),
+                                        z = f * es(b),
+                                        I = c * Ju(_),
+                                        j = c * es(_);
+                                    if (p < rs && (R = function(e, t, n, r, i, a, o, u) {
+                                            var s = n - e,
+                                                l = r - t,
+                                                c = o - i,
+                                                f = u - a,
+                                                d = f * s - c * l;
+                                            if (!(d * d < ns)) return [e + (d = (c * (t - a) - f * (e - i)) / d) * s, t + d * l]
+                                        }(N, O, I, j, L, z, T, P))) {
+                                        var B = N - R[0],
+                                            U = O - R[1],
                                             q = L - R[0],
                                             H = z - R[1],
-                                            W = 1 / zu(Hu((j * q + B * H) / (Iu(j * j + B * B) * Iu(q * q + H * H))) / 2),
-                                            Y = Iu(R[0] * R[0] + R[1] * R[1]);
-                                        M = Lu(k, (c - Y) / (W - 1)), D = Lu(k, (f - Y) / (W + 1))
+                                            W = 1 / es(function(e) {
+                                                return e > 1 ? 0 : e < -1 ? rs : Math.acos(e)
+                                            }((B * q + U * H) / (ts(B * B + U * U) * ts(q * q + H * H))) / 2),
+                                            V = ts(R[0] * R[0] + R[1] * R[1]);
+                                        M = Zu(k, (c - V) / (W - 1)), D = Zu(k, (f - V) / (W + 1))
                                     }
                                 }
-                                S > Uu ? D > Uu ? (m = Js(I, U, N, T, f, D, g), v = Js(L, z, O, P, f, D, g), u.moveTo(m.cx + m.x01, m.cy + m.y01), D < k ? u.arc(m.cx, m.cy, D, Ou(m.y01, m.x01), Ou(v.y01, v.x01), !g) : (u.arc(m.cx, m.cy, D, Ou(m.y01, m.x01), Ou(m.y11, m.x11), !g), u.arc(0, 0, f, Ou(m.cy + m.y11, m.cx + m.x11), Ou(v.cy + v.y11, v.cx + v.x11), !g), u.arc(v.cx, v.cy, D, Ou(v.y11, v.x11), Ou(v.y01, v.x01), !g))) : (u.moveTo(N, T), u.arc(0, 0, f, y, b, !g)) : u.moveTo(N, T), c > Uu && w > Uu ? M > Uu ? (m = Js(O, P, L, z, c, -M, g), v = Js(N, T, I, U, c, -M, g), u.lineTo(m.cx + m.x01, m.cy + m.y01), M < k ? u.arc(m.cx, m.cy, M, Ou(m.y01, m.x01), Ou(v.y01, v.x01), !g) : (u.arc(m.cx, m.cy, M, Ou(m.y01, m.x01), Ou(m.y11, m.x11), !g), u.arc(0, 0, c, Ou(m.cy + m.y11, m.cx + m.x11), Ou(v.cy + v.y11, v.cx + v.x11), g), u.arc(v.cx, v.cy, M, Ou(v.y11, v.x11), Ou(v.y01, v.x01), !g))) : u.arc(0, 0, c, x, _, g) : u.lineTo(O, P)
+                                S > ns ? D > ns ? (m = dl(I, j, N, O, f, D, g), v = dl(L, z, T, P, f, D, g), u.moveTo(m.cx + m.x01, m.cy + m.y01), D < k ? u.arc(m.cx, m.cy, D, Ku(m.y01, m.x01), Ku(v.y01, v.x01), !g) : (u.arc(m.cx, m.cy, D, Ku(m.y01, m.x01), Ku(m.y11, m.x11), !g), u.arc(0, 0, f, Ku(m.cy + m.y11, m.cx + m.x11), Ku(v.cy + v.y11, v.cx + v.x11), !g), u.arc(v.cx, v.cy, D, Ku(v.y11, v.x11), Ku(v.y01, v.x01), !g))) : (u.moveTo(N, O), u.arc(0, 0, f, y, b, !g)) : u.moveTo(N, O), c > ns && w > ns ? M > ns ? (m = dl(T, P, L, z, c, -M, g), v = dl(N, O, I, j, c, -M, g), u.lineTo(m.cx + m.x01, m.cy + m.y01), M < k ? u.arc(m.cx, m.cy, M, Ku(m.y01, m.x01), Ku(v.y01, v.x01), !g) : (u.arc(m.cx, m.cy, M, Ku(m.y01, m.x01), Ku(m.y11, m.x11), !g), u.arc(0, 0, c, Ku(m.cy + m.y11, m.cx + m.x11), Ku(v.cy + v.y11, v.cx + v.x11), g), u.arc(v.cx, v.cy, M, Ku(v.y11, v.x11), Ku(v.y01, v.x01), !g))) : u.arc(0, 0, c, x, _, g) : u.lineTo(T, P)
                             }
                         else u.moveTo(0, 0);
                         if (u.closePath(), s) return u = null, s + "" || null
                     }
                     return s.centroid = function() {
                         var n = (+e.apply(this, arguments) + +t.apply(this, arguments)) / 2,
-                            r = (+i.apply(this, arguments) + +a.apply(this, arguments)) / 2 - ju / 2;
-                        return [Pu(r) * n, zu(r) * n]
+                            r = (+i.apply(this, arguments) + +a.apply(this, arguments)) / 2 - rs / 2;
+                        return [Ju(r) * n, es(r) * n]
                     }, s.innerRadius = function(t) {
-                        return arguments.length ? (e = "function" == typeof t ? t : Ws(+t), s) : e
+                        return arguments.length ? (e = "function" == typeof t ? t : ol(+t), s) : e
                     }, s.outerRadius = function(e) {
-                        return arguments.length ? (t = "function" == typeof e ? e : Ws(+e), s) : t
+                        return arguments.length ? (t = "function" == typeof e ? e : ol(+e), s) : t
                     }, s.cornerRadius = function(e) {
-                        return arguments.length ? (n = "function" == typeof e ? e : Ws(+e), s) : n
+                        return arguments.length ? (n = "function" == typeof e ? e : ol(+e), s) : n
                     }, s.padRadius = function(e) {
-                        return arguments.length ? (r = null == e ? null : "function" == typeof e ? e : Ws(+e), s) : r
+                        return arguments.length ? (r = null == e ? null : "function" == typeof e ? e : ol(+e), s) : r
                     }, s.startAngle = function(e) {
-                        return arguments.length ? (i = "function" == typeof e ? e : Ws(+e), s) : i
+                        return arguments.length ? (i = "function" == typeof e ? e : ol(+e), s) : i
                     }, s.endAngle = function(e) {
-                        return arguments.length ? (a = "function" == typeof e ? e : Ws(+e), s) : a
+                        return arguments.length ? (a = "function" == typeof e ? e : ol(+e), s) : a
                     }, s.padAngle = function(e) {
-                        return arguments.length ? (o = "function" == typeof e ? e : Ws(+e), s) : o
+                        return arguments.length ? (o = "function" == typeof e ? e : ol(+e), s) : o
                     }, s.context = function(e) {
                         return arguments.length ? (u = null == e ? null : e, s) : u
                     }, s
                 }().startAngle((function(e) {
                     return e.startAngle || 0
                 })).endAngle((function(e) {
                     return e.endAngle || 0
                 })).padAngle((function(e) {
                     return e.padAngle || 0
                 })).innerRadius((function(e) {
                     return e.innerRadius || 0
                 })).outerRadius((function(e) {
                     return e.outerRadius || 0
-                })).cornerRadius(al),
-                sl = tl().x(rl).y1(il).y0((function(e) {
+                })).cornerRadius(_l),
+                Sl = ml().x(yl).y1(bl).y0((function(e) {
                     return (e.y || 0) + (e.height || 0)
-                })).defined(ol),
-                ll = tl().y(il).x1(rl).x0((function(e) {
+                })).defined(xl),
+                El = ml().y(bl).x1(yl).x0((function(e) {
                     return (e.x || 0) + (e.width || 0)
-                })).defined(ol),
-                cl = el().x(rl).y(il).defined(ol),
-                fl = Bs().x(rl).y(il).width((function(e) {
+                })).defined(xl),
+                Al = gl().x(yl).y(bl).defined(xl),
+                kl = rl().x(yl).y(bl).width((function(e) {
                     return e.width || 0
                 })).height((function(e) {
                     return e.height || 0
-                })).cornerRadius(al),
-                dl = function() {
-                    var e = Ws(nl),
-                        t = Ws(64),
+                })).cornerRadius(_l),
+                Ml = function() {
+                    var e = ol(vl),
+                        t = ol(64),
                         n = null;
 
                     function r() {
                         var r;
-                        if (n || (n = r = Rs()), e.apply(this, arguments).draw(n, +t.apply(this, arguments)), r) return n = null, r + "" || null
+                        if (n || (n = r = Js()), e.apply(this, arguments).draw(n, +t.apply(this, arguments)), r) return n = null, r + "" || null
                     }
                     return r.type = function(t) {
-                        return arguments.length ? (e = "function" == typeof t ? t : Ws(t), r) : e
+                        return arguments.length ? (e = "function" == typeof t ? t : ol(t), r) : e
                     }, r.size = function(e) {
-                        return arguments.length ? (t = "function" == typeof e ? e : Ws(+e), r) : t
+                        return arguments.length ? (t = "function" == typeof e ? e : ol(+e), r) : t
                     }, r.context = function(e) {
                         return arguments.length ? (n = null == e ? null : e, r) : n
                     }, r
                 }().type((function(e) {
-                    return Ms(e.shape || "circle")
+                    return Hs(e.shape || "circle")
                 })).size((function(e) {
                     return null == e.size ? 64 : e.size
                 })),
-                hl = Hs().x(rl).y(il).defined(ol).size((function(e) {
+                Dl = al().x(yl).y(bl).defined(xl).size((function(e) {
                     return e.size || 1
                 }));
 
-            function pl(e, t, n, r) {
-                return fl.context(e)(t, n, r)
+            function Cl(e, t, n, r) {
+                return kl.context(e)(t, n, r)
             }
 
-            function gl(e, t) {
+            function Fl(e, t) {
                 return t.stroke && 0 !== t.opacity && 0 !== t.strokeOpacity && e.expand(null != t.strokeWidth ? +t.strokeWidth : 1), e
             }
-            var ml, vl = 2 * Math.PI,
-                yl = vl / 4,
-                bl = vl - 1e-8;
+            var Nl, Ol = 2 * Math.PI,
+                Tl = Ol / 4,
+                Pl = Ol - 1e-8;
 
-            function _l(e) {
-                return ml = e, _l
+            function Rl(e) {
+                return Nl = e, Rl
             }
 
-            function xl() {}
+            function Ll() {}
 
-            function wl(e, t) {
-                ml.add(e, t)
+            function zl(e, t) {
+                Nl.add(e, t)
             }
 
-            function Sl(e, t, n) {
+            function Il(e, t, n) {
                 return n.id ? function(e, t, n) {
                     for (var r = n.width(), i = n.height(), a = n.x1 + t.x1 * r, o = n.y1 + t.y1 * i, u = n.x1 + t.x2 * r, s = n.y1 + t.y2 * i, l = t.stops, c = 0, f = l.length, d = e.createLinearGradient(a, o, u, s); c < f; ++c) d.addColorStop(l[c].offset, l[c].color);
                     return d
                 }(e, n, t.bounds) : n
             }
 
-            function El(e, t, n) {
-                return (n *= null == t.fillOpacity ? 1 : t.fillOpacity) > 0 && (e.globalAlpha = n, e.fillStyle = Sl(e, t, t.fill), !0)
+            function jl(e, t, n) {
+                return (n *= null == t.fillOpacity ? 1 : t.fillOpacity) > 0 && (e.globalAlpha = n, e.fillStyle = Il(e, t, t.fill), !0)
             }
-            _l.beginPath = xl, _l.closePath = xl, _l.moveTo = wl, _l.lineTo = wl, _l.rect = function(e, t, n, r) {
-                wl(e, t), wl(e + n, t + r)
-            }, _l.quadraticCurveTo = function(e, t, n, r) {
-                wl(e, t), wl(n, r)
-            }, _l.bezierCurveTo = function(e, t, n, r, i, a) {
-                wl(e, t), wl(n, r), wl(i, a)
-            }, _l.arc = function(e, t, n, r, i, a) {
-                if (Math.abs(i - r) > bl) return wl(e - n, t - n), void wl(e + n, t + n);
+            Rl.beginPath = Ll, Rl.closePath = Ll, Rl.moveTo = zl, Rl.lineTo = zl, Rl.rect = function(e, t, n, r) {
+                zl(e, t), zl(e + n, t + r)
+            }, Rl.quadraticCurveTo = function(e, t, n, r) {
+                zl(e, t), zl(n, r)
+            }, Rl.bezierCurveTo = function(e, t, n, r, i, a) {
+                zl(e, t), zl(n, r), zl(i, a)
+            }, Rl.arc = function(e, t, n, r, i, a) {
+                if (Math.abs(i - r) > Pl) return zl(e - n, t - n), void zl(e + n, t + n);
                 var o, u, s, l, c = 1 / 0,
                     f = -1 / 0,
                     d = 1 / 0,
                     h = -1 / 0;
 
                 function p(e) {
                     s = n * Math.cos(e), l = n * Math.sin(e), s < c && (c = s), s > f && (f = s), l < d && (d = l), l > h && (h = l)
                 }
                 if (p(r), p(i), i !== r)
-                    if ((r %= vl) < 0 && (r += vl), (i %= vl) < 0 && (i += vl), i < r && (a = !a, o = r, r = i, i = o), a)
-                        for (i -= vl, o = r - r % yl, u = 0; u < 4 && o > i; ++u, o -= yl) p(o);
+                    if ((r %= Ol) < 0 && (r += Ol), (i %= Ol) < 0 && (i += Ol), i < r && (a = !a, o = r, r = i, i = o), a)
+                        for (i -= Ol, o = r - r % Tl, u = 0; u < 4 && o > i; ++u, o -= Tl) p(o);
                     else
-                        for (o = r - r % yl + yl, u = 0; u < 4 && o < i; ++u, o += yl) p(o);
-                wl(e + c, t + d), wl(e + f, t + h)
+                        for (o = r - r % Tl + Tl, u = 0; u < 4 && o < i; ++u, o += Tl) p(o);
+                zl(e + c, t + d), zl(e + f, t + h)
             };
-            var Al = [];
+            var Bl = [];
 
-            function kl(e, t, n) {
+            function Ul(e, t, n) {
                 var r = null != (r = t.strokeWidth) ? r : 1;
-                return !(r <= 0) && (n *= null == t.strokeOpacity ? 1 : t.strokeOpacity) > 0 && (e.globalAlpha = n, e.strokeStyle = Sl(e, t, t.stroke), e.lineWidth = r, e.lineCap = t.strokeCap || "butt", e.lineJoin = t.strokeJoin || "miter", e.miterLimit = t.strokeMiterLimit || 10, e.setLineDash && (e.setLineDash(t.strokeDash || Al), e.lineDashOffset = t.strokeDashOffset || 0), !0)
+                return !(r <= 0) && (n *= null == t.strokeOpacity ? 1 : t.strokeOpacity) > 0 && (e.globalAlpha = n, e.strokeStyle = Il(e, t, t.stroke), e.lineWidth = r, e.lineCap = t.strokeCap || "butt", e.lineJoin = t.strokeJoin || "miter", e.miterLimit = t.strokeMiterLimit || 10, e.setLineDash && (e.setLineDash(t.strokeDash || Bl), e.lineDashOffset = t.strokeDashOffset || 0), !0)
             }
 
-            function Ml(e, t) {
+            function ql(e, t) {
                 return e.zindex - t.zindex || e.index - t.index
             }
 
-            function Dl(e) {
+            function Hl(e) {
                 if (!e.zdirty) return e.zitems;
                 var t, n, r, i = e.items,
                     a = [];
                 for (n = 0, r = i.length; n < r; ++n)(t = i[n]).index = n, t.zindex && a.push(t);
-                return e.zdirty = !1, e.zitems = a.sort(Ml)
+                return e.zdirty = !1, e.zitems = a.sort(ql)
             }
 
-            function Cl(e, t) {
+            function Wl(e, t) {
                 var n, r, i = e.items;
                 if (i && i.length) {
-                    var a = Dl(e);
+                    var a = Hl(e);
                     if (a && a.length) {
                         for (n = 0, r = i.length; n < r; ++n) i[n].zindex || t(i[n]);
                         i = a
                     }
                     for (n = 0, r = i.length; n < r; ++n) t(i[n])
                 }
             }
 
-            function Fl(e, t) {
+            function Vl(e, t) {
                 var n, r, i = e.items;
                 if (!i || !i.length) return null;
-                var a = Dl(e);
+                var a = Hl(e);
                 for (a && a.length && (i = a), r = i.length; --r >= 0;)
                     if (n = t(i[r])) return n;
                 if (i === a)
                     for (r = (i = e.items).length; --r >= 0;)
                         if (!i[r].zindex && (n = t(i[r]))) return n;
                 return null
             }
 
-            function Nl(e) {
+            function Gl(e) {
                 return function(t, n, r) {
-                    Cl(n, (function(n) {
-                        r && !r.intersects(n.bounds) || Ol(e, t, n, n)
+                    Wl(n, (function(n) {
+                        r && !r.intersects(n.bounds) || Xl(e, t, n, n)
                     }))
                 }
             }
 
-            function Tl(e) {
+            function Yl(e) {
                 return function(t, n, r) {
-                    !n.items.length || r && !r.intersects(n.bounds) || Ol(e, t, n.items[0], n.items)
+                    !n.items.length || r && !r.intersects(n.bounds) || Xl(e, t, n.items[0], n.items)
                 }
             }
 
-            function Ol(e, t, n, r) {
+            function Xl(e, t, n, r) {
                 var i = null == n.opacity ? 1 : n.opacity;
-                0 !== i && (e(t, r) || (n.fill && El(t, n, i) && t.fill(), n.stroke && kl(t, n, i) && t.stroke()))
+                0 !== i && (e(t, r) || (n.fill && jl(t, n, i) && t.fill(), n.stroke && Ul(t, n, i) && t.stroke()))
             }
-            var Pl = function() {
+            var $l = function() {
                 return !0
             };
 
-            function Rl(e) {
-                return e || (e = Pl),
+            function Kl(e) {
+                return e || (e = $l),
                     function(t, n, r, i, a, o) {
-                        return r *= t.pixelRatio, i *= t.pixelRatio, Fl(n, (function(n) {
+                        return r *= t.pixelRatio, i *= t.pixelRatio, Vl(n, (function(n) {
                             var u = n.bounds;
                             if ((!u || u.contains(a, o)) && u) return e(t, n, r, i, a, o) ? n : void 0
                         }))
                     }
             }
 
-            function Ll(e, t) {
+            function Jl(e, t) {
                 return function(n, r, i, a) {
                     var o, u, s = Array.isArray(r) ? r[0] : r,
                         l = null == t ? s.fill : t,
                         c = s.stroke && n.isPointInStroke;
                     return c && (o = s.strokeWidth, u = s.strokeCap, n.lineWidth = null != o ? o : 1, n.lineCap = null != u ? u : "butt"), !e(n, r) && (l && n.isPointInPath(i, a) || c && n.isPointInStroke(i, a))
                 }
             }
 
-            function zl(e) {
-                return Rl(Ll(e))
+            function Ql(e) {
+                return Kl(Jl(e))
             }
 
-            function Il(e, t) {
+            function Zl(e, t) {
                 return "translate(" + e + "," + t + ")"
             }
 
-            function Ul(e) {
-                return Il(e.x || 0, e.y || 0)
+            function ec(e) {
+                return Zl(e.x || 0, e.y || 0)
             }
 
-            function jl(e, t) {
+            function tc(e, t) {
                 function n(e, n) {
                     var r = n.x || 0,
                         i = n.y || 0;
                     e.translate(r, i), e.beginPath(), t(e, n), e.translate(-r, -i)
                 }
                 return {
                     type: e,
                     tag: "path",
                     nested: !1,
                     attr: function(e, n) {
-                        e("transform", Ul(n)), e("d", t(null, n))
+                        e("transform", ec(n)), e("d", t(null, n))
                     },
                     bound: function(e, n) {
-                        return t(_l(e), n), gl(e, n).translate(n.x || 0, n.y || 0)
+                        return t(Rl(e), n), Fl(e, n).translate(n.x || 0, n.y || 0)
                     },
-                    draw: Nl(n),
-                    pick: zl(n)
+                    draw: Gl(n),
+                    pick: Ql(n)
                 }
             }
-            const Bl = jl("arc", (function(e, t) {
-                return ul.context(e)(t)
+            const nc = tc("arc", (function(e, t) {
+                return wl.context(e)(t)
             }));
 
-            function ql(e, t, n) {
+            function rc(e, t, n) {
                 function r(e, n) {
                     e.beginPath(), t(e, n)
                 }
-                var i = Ll(r);
+                var i = Jl(r);
                 return {
                     type: e,
                     tag: "path",
                     nested: !0,
                     attr: function(e, n) {
                         var r = n.mark.items;
                         r.length && e("d", t(null, r))
                     },
                     bound: function(e, n) {
                         var r = n.items;
-                        return 0 === r.length ? e : (t(_l(e), r), gl(e, r[0]))
+                        return 0 === r.length ? e : (t(Rl(e), r), Fl(e, r[0]))
                     },
-                    draw: Tl(r),
+                    draw: Yl(r),
                     pick: function(e, t, n, r, a, o) {
                         var u = t.items,
                             s = t.bounds;
                         return !u || !u.length || s && !s.contains(a, o) ? null : (n *= e.pixelRatio, r *= e.pixelRatio, i(e, u, n, r) ? u[0] : null)
                     },
                     tip: n
                 }
             }
-            const Hl = ql("area", (function(e, t) {
+            const ic = rc("area", (function(e, t) {
                 var n = t[0],
                     r = n.interpolate || "linear";
-                return ("horizontal" === n.orient ? ll : sl).curve(ds(r, n.orient, n.tension)).context(e)(t)
+                return ("horizontal" === n.orient ? El : Sl).curve(Ds(r, n.orient, n.tension)).context(e)(t)
             }), (function(e, t) {
                 var n = "horizontal" === e[0].orient ? t[1] : t[0],
                     r = "horizontal" === e[0].orient ? "y" : "x",
                     i = 0,
                     a = e.length;
                 if (1 === a) return e[0];
                 for (; i < a;) {
                     var o = i + a >>> 1;
                     e[o][r] < n ? i = o + 1 : a = o
                 }
                 return i = Math.max(0, i - 1), a = Math.min(e.length - 1, a), n - e[i][r] < e[a][r] - n ? e[i] : e[a]
             }));
-            var Wl = 1;
+            var ac = 1;
 
-            function Yl() {
-                Wl = 1
+            function oc() {
+                ac = 1
             }
 
-            function Vl(e, t, n) {
+            function uc(e, t, n) {
                 var r = t.clip,
                     i = e._defs,
-                    a = t.clip_id || (t.clip_id = "clip" + Wl++),
+                    a = t.clip_id || (t.clip_id = "clip" + ac++),
                     o = i.clipping[a] || (i.clipping[a] = {
                         id: a
                     });
-                return (0, ke.isFunction)(r) ? o.path = r(null) : (o.width = n.width || 0, o.height = n.height || 0), "url(#" + a + ")"
+                return (0, Ee.isFunction)(r) ? o.path = r(null) : (o.width = n.width || 0, o.height = n.height || 0), "url(#" + a + ")"
             }
+            var sc = .5;
 
-            function Gl(e, t) {
-                var n = t.stroke ? .5 : 0;
-                e.beginPath(), pl(e, t, n, n)
+            function lc(e, t) {
+                var n = t.stroke ? sc : 0;
+                e.beginPath(), Cl(e, t, n, n)
             }
-            var Xl = Ll(Gl);
-            const $l = {
+            var cc = Jl(lc);
+            const fc = {
                 type: "group",
                 tag: "g",
                 nested: !1,
                 attr: function(e, t) {
-                    e("transform", Ul(t))
+                    e("transform", ec(t))
                 },
                 bound: function(e, t) {
                     if (!t.clip && t.items)
                         for (var n = t.items, r = 0, i = n.length; r < i; ++r) e.union(n[r].bounds);
-                    return (t.clip || t.width || t.height) && gl(e.add(0, 0).add(t.width || 0, t.height || 0), t), e.translate(t.x || 0, t.y || 0)
+                    return (t.clip || t.width || t.height) && Fl(e.add(0, 0).add(t.width || 0, t.height || 0), t), e.translate(t.x || 0, t.y || 0)
                 },
                 draw: function(e, t, n) {
                     var r = this;
-                    Cl(t, (function(t) {
+                    Wl(t, (function(t) {
                         var i, a = t.x || 0,
                             o = t.y || 0,
                             u = t.width || 0,
                             s = t.height || 0;
-                        e.save(), e.translate(a, o), (t.stroke || t.fill) && (i = null == t.opacity ? 1 : t.opacity) > 0 && (Gl(e, t), t.fill && El(e, t, i) && e.fill(), t.stroke && kl(e, t, i) && e.stroke()), t.clip && (e.beginPath(), e.rect(0, 0, u, s), e.clip()), n && n.translate(-a, -o), Cl(t, (function(t) {
+                        e.save(), e.translate(a, o), (t.stroke || t.fill) && (i = null == t.opacity ? 1 : t.opacity) > 0 && (lc(e, t), t.fill && jl(e, t, i) && e.fill(), t.stroke && Ul(e, t, i) && e.stroke()), t.clip && (e.beginPath(), e.rect(0, 0, u, s), e.clip()), n && n.translate(-a, -o), Wl(t, (function(t) {
                             r.draw(e, t, n)
                         })), n && n.translate(a, o), e.restore()
                     }))
                 },
                 pick: function(e, t, n, r, i, a) {
                     if (t.bounds && !t.bounds.contains(i, a) || !t.items) return null;
                     var o = this,
                         u = n * e.pixelRatio,
                         s = r * e.pixelRatio;
-                    return Fl(t, (function(l) {
+                    return Vl(t, (function(l) {
                         var c, f, d, h;
-                        if (!(h = l.bounds) || h.contains(i, a)) return f = l.x || 0, d = l.y || 0, e.save(), e.translate(f, d), f = i - f, d = a - d, c = Fl(l, (function(e) {
+                        if (!(h = l.bounds) || h.contains(i, a)) return f = l.x || 0, d = l.y || 0, e.save(), e.translate(f, d), f = i - f, d = a - d, c = Vl(l, (function(e) {
                             return function(e, t, n) {
                                 return (!1 !== e.interactive || "group" === e.marktype) && e.bounds && e.bounds.contains(t, n)
                             }(e, f, d) ? o.pick(e, n, r, f, d) : null
-                        })), !c && !1 !== t.interactive && (l.fill || l.stroke) && Xl(e, l, u, s) && (c = l), e.restore(), c || null
+                        })), !c && !1 !== t.interactive && (l.fill || l.stroke) && cc(e, l, u, s) && (c = l), e.restore(), c || null
                     }))
                 },
                 background: function(e, t) {
-                    var n = t.stroke ? .5 : 0;
-                    e("class", "background"), e("d", pl(null, t, n, n))
+                    var n = t.stroke ? sc : 0;
+                    e("class", "background"), e("d", Cl(null, t, n, n))
                 },
                 foreground: function(e, t, n) {
-                    e("clip-path", t.clip ? Vl(n, t, t) : null)
+                    e("clip-path", t.clip ? uc(n, t, t) : null)
                 }
             };
 
-            function Kl(e, t) {
+            function dc(e, t) {
                 var n = e.image;
                 return n && n.url === e.url || (n = {
                     loaded: !1,
                     width: 0,
                     height: 0
                 }, t.loadImage(e.url).then((function(t) {
                     e.image = t, e.image.url = e.url
                 }))), n
             }
 
-            function Jl(e, t) {
+            function hc(e, t) {
                 return "center" === e ? t / 2 : "right" === e ? t : 0
             }
 
-            function Ql(e, t) {
+            function pc(e, t) {
                 return "middle" === e ? t / 2 : "bottom" === e ? t : 0
             }
-            const Zl = {
+            const gc = {
                     type: "image",
                     tag: "image",
                     nested: !1,
                     attr: function(e, t, n) {
-                        var r = Kl(t, n),
+                        var r = dc(t, n),
                             i = t.x || 0,
                             a = t.y || 0,
                             o = (null != t.width ? t.width : r.width) || 0,
                             u = (null != t.height ? t.height : r.height) || 0,
                             s = !1 === t.aspect ? "none" : "xMidYMid";
-                        i -= Jl(t.align, o), a -= Ql(t.baseline, u), e("href", r.src || "", "http://www.w3.org/1999/xlink", "xlink:href"), e("transform", Il(i, a)), e("width", o), e("height", u), e("preserveAspectRatio", s)
+                        i -= hc(t.align, o), a -= pc(t.baseline, u), e("href", r.src || "", "http://www.w3.org/1999/xlink", "xlink:href"), e("transform", Zl(i, a)), e("width", o), e("height", u), e("preserveAspectRatio", s)
                     },
                     bound: function(e, t) {
                         var n = t.image,
                             r = t.x || 0,
                             i = t.y || 0,
                             a = (null != t.width ? t.width : n && n.width) || 0,
                             o = (null != t.height ? t.height : n && n.height) || 0;
-                        return r -= Jl(t.align, a), i -= Ql(t.baseline, o), e.set(r, i, r + a, i + o)
+                        return r -= hc(t.align, a), i -= pc(t.baseline, o), e.set(r, i, r + a, i + o)
                     },
                     draw: function(e, t, n) {
                         var r = this;
-                        Cl(t, (function(t) {
+                        Wl(t, (function(t) {
                             if (!n || n.intersects(t.bounds)) {
-                                var i, a, o, u, s = Kl(t, r),
+                                var i, a, o, u, s = dc(t, r),
                                     l = t.x || 0,
                                     c = t.y || 0,
                                     f = (null != t.width ? t.width : s.width) || 0,
                                     d = (null != t.height ? t.height : s.height) || 0;
-                                l -= Jl(t.align, f), c -= Ql(t.baseline, d), !1 !== t.aspect && (a = s.width / s.height, o = t.width / t.height, a == a && o == o && a !== o && (o < a ? (c += (d - (u = f / a)) / 2, d = u) : (l += (f - (u = d * a)) / 2, f = u))), s.loaded && (e.globalAlpha = null != (i = t.opacity) ? i : 1, e.drawImage(s, l, c, f, d))
+                                l -= hc(t.align, f), c -= pc(t.baseline, d), !1 !== t.aspect && (a = s.width / s.height, o = t.width / t.height, a == a && o == o && a !== o && (o < a ? (c += (d - (u = f / a)) / 2, d = u) : (l += (f - (u = d * a)) / 2, f = u))), s.loaded && (e.globalAlpha = null != (i = t.opacity) ? i : 1, e.drawImage(s, l, c, f, d))
                             }
                         }))
                     },
-                    pick: Rl(),
-                    get: Kl,
-                    xOffset: Jl,
-                    yOffset: Ql
+                    pick: Kl(),
+                    get: dc,
+                    xOffset: hc,
+                    yOffset: pc
                 },
-                ec = ql("line", (function(e, t) {
+                mc = rc("line", (function(e, t) {
                     var n = t[0],
                         r = n.interpolate || "linear";
-                    return cl.curve(ds(r, n.orient, n.tension)).context(e)(t)
+                    return Al.curve(Ds(r, n.orient, n.tension)).context(e)(t)
                 }), (function(e, t) {
                     for (var n, r, i = Math.pow(e[0].strokeWidth || 1, 2), a = e.length; --a >= 0;)
                         if (!1 !== e[a].defined && (n = e[a].x - t[0]) * n + (r = e[a].y - t[1]) * r < i) return e[a];
                     return null
                 }));
 
-            function tc(e, t) {
+            function vc(e, t) {
                 var n = t.path;
                 if (null == n) return !0;
                 var r = t.pathCache;
-                r && r.path === n || ((t.pathCache = r = gs(n)).path = n), ws(e, r, t.x, t.y)
+                r && r.path === n || ((t.pathCache = r = Ns(n)).path = n), Is(e, r, t.x, t.y)
             }
-            const nc = {
+            const yc = {
                 type: "path",
                 tag: "path",
                 nested: !1,
                 attr: function(e, t) {
-                    e("transform", Ul(t)), e("d", t.path)
+                    e("transform", ec(t)), e("d", t.path)
                 },
                 bound: function(e, t) {
-                    return tc(_l(e), t) ? e.set(0, 0, 0, 0) : gl(e, t)
+                    return vc(Rl(e), t) ? e.set(0, 0, 0, 0) : Fl(e, t)
                 },
-                draw: Nl(tc),
-                pick: zl(tc)
+                draw: Gl(vc),
+                pick: Ql(vc)
             };
 
-            function rc(e, t) {
-                e.beginPath(), pl(e, t)
+            function bc(e, t) {
+                e.beginPath(), Cl(e, t)
             }
-            const ic = {
+            const _c = {
                 type: "rect",
                 tag: "path",
                 nested: !1,
                 attr: function(e, t) {
-                    e("d", pl(null, t))
+                    e("d", Cl(null, t))
                 },
                 bound: function(e, t) {
                     var n, r;
-                    return gl(e.set(n = t.x || 0, r = t.y || 0, n + t.width || 0, r + t.height || 0), t)
+                    return Fl(e.set(n = t.x || 0, r = t.y || 0, n + t.width || 0, r + t.height || 0), t)
                 },
-                draw: Nl(rc),
-                pick: zl(rc)
+                draw: Gl(bc),
+                pick: Ql(bc)
             };
 
-            function ac(e, t, n) {
+            function xc(e, t, n) {
                 var r, i, a, o;
-                return !(!t.stroke || !kl(e, t, n) || (r = t.x || 0, i = t.y || 0, a = null != t.x2 ? t.x2 : r, o = null != t.y2 ? t.y2 : i, e.beginPath(), e.moveTo(r, i), e.lineTo(a, o), 0))
+                return !(!t.stroke || !Ul(e, t, n) || (r = t.x || 0, i = t.y || 0, a = null != t.x2 ? t.x2 : r, o = null != t.y2 ? t.y2 : i, e.beginPath(), e.moveTo(r, i), e.lineTo(a, o), 0))
             }
-            const oc = {
+            const wc = {
                     type: "rule",
                     tag: "line",
                     nested: !1,
                     attr: function(e, t) {
-                        e("transform", Ul(t)), e("x2", null != t.x2 ? t.x2 - (t.x || 0) : 0), e("y2", null != t.y2 ? t.y2 - (t.y || 0) : 0)
+                        e("transform", ec(t)), e("x2", null != t.x2 ? t.x2 - (t.x || 0) : 0), e("y2", null != t.y2 ? t.y2 - (t.y || 0) : 0)
                     },
                     bound: function(e, t) {
                         var n, r;
-                        return gl(e.set(n = t.x || 0, r = t.y || 0, null != t.x2 ? t.x2 : n, null != t.y2 ? t.y2 : r), t)
+                        return Fl(e.set(n = t.x || 0, r = t.y || 0, null != t.x2 ? t.x2 : n, null != t.y2 ? t.y2 : r), t)
                     },
                     draw: function(e, t, n) {
-                        Cl(t, (function(t) {
+                        Wl(t, (function(t) {
                             if (!n || n.intersects(t.bounds)) {
                                 var r = null == t.opacity ? 1 : t.opacity;
-                                r && ac(e, t, r) && e.stroke()
+                                r && xc(e, t, r) && e.stroke()
                             }
                         }))
                     },
-                    pick: Rl((function(e, t, n, r) {
-                        return !!e.isPointInStroke && ac(e, t, 1) && e.isPointInStroke(n, r)
+                    pick: Kl((function(e, t, n, r) {
+                        return !!e.isPointInStroke && xc(e, t, 1) && e.isPointInStroke(n, r)
                     }))
                 },
-                uc = jl("shape", (function(e, t) {
+                Sc = tc("shape", (function(e, t) {
                     return (t.mark.shape || t.shape).context(e)(t)
                 })),
-                sc = jl("symbol", (function(e, t) {
-                    return dl.context(e)(t)
+                Ec = tc("symbol", (function(e, t) {
+                    return Ml.context(e)(t)
                 }));
-            var lc, cc, fc = {
-                height: mc,
-                measureWidth: pc,
-                estimateWidth: dc,
-                width: dc,
-                canvas: vc
+            var Ac, kc, Mc = {
+                height: Oc,
+                measureWidth: Fc,
+                estimateWidth: Dc,
+                width: Dc,
+                canvas: Tc
             };
 
-            function dc(e) {
-                return cc = mc(e), hc(yc(e))
+            function Dc(e) {
+                return kc = Oc(e), Cc(Pc(e))
             }
 
-            function hc(e) {
-                return ~~(.8 * e.length * cc)
+            function Cc(e) {
+                return ~~(.8 * e.length * kc)
             }
 
-            function pc(e) {
-                return lc.font = bc(e), gc(yc(e))
+            function Fc(e) {
+                return Ac.font = Rc(e), Nc(Pc(e))
             }
 
-            function gc(e) {
-                return lc.measureText(e).width
+            function Nc(e) {
+                return Ac.measureText(e).width
             }
 
-            function mc(e) {
+            function Oc(e) {
                 return null != e.fontSize ? e.fontSize : 11
             }
 
-            function vc(e) {
-                lc = e && (lc = du(1, 1)) ? lc.getContext("2d") : null, fc.width = lc ? pc : dc
+            function Tc(e) {
+                Ac = e && (Ac = Cu(1, 1)) ? Ac.getContext("2d") : null, Mc.width = Ac ? Fc : Dc
             }
 
-            function yc(e) {
+            function Pc(e) {
                 var t = e.text;
                 return null == t ? "" : e.limit > 0 ? function(e) {
                     var t, n = +e.limit,
                         r = e.text + "";
-                    if (lc ? (lc.font = bc(e), t = gc) : (cc = mc(e), t = hc), t(r) < n) return r;
+                    if (Ac ? (Ac.font = Rc(e), t = Nc) : (kc = Oc(e), t = Cc), t(r) < n) return r;
                     var i, a = e.ellipsis || "…",
                         o = "rtl" === e.dir,
                         u = 0,
                         s = r.length;
                     if (n -= t(a), o) {
                         for (; u < s;) i = u + s >>> 1, t(r.slice(i)) > n ? u = i + 1 : s = i;
                         return a + r.slice(u)
                     }
                     for (; u < s;) i = 1 + (u + s >>> 1), t(r.slice(0, i)) < n ? u = i : s = i - 1;
                     return r.slice(0, u) + a
                 }(e) : t + ""
             }
 
-            function bc(e, t) {
+            function Rc(e, t) {
                 var n = e.font;
-                return t && n && (n = String(n).replace(/"/g, "'")), (e.fontStyle ? e.fontStyle + " " : "") + (e.fontVariant ? e.fontVariant + " " : "") + (e.fontWeight ? e.fontWeight + " " : "") + mc(e) + "px " + (n || "sans-serif")
+                return t && n && (n = String(n).replace(/"/g, "'")), (e.fontStyle ? e.fontStyle + " " : "") + (e.fontVariant ? e.fontVariant + " " : "") + (e.fontWeight ? e.fontWeight + " " : "") + Oc(e) + "px " + (n || "sans-serif")
             }
 
-            function _c(e) {
+            function Lc(e) {
                 var t = e.baseline,
-                    n = mc(e);
+                    n = Oc(e);
                 return Math.round("top" === t ? .79 * n : "middle" === t ? .3 * n : "bottom" === t ? -.21 * n : 0)
             }
-            vc(!0);
-            var xc = {
+            Tc(!0);
+            var zc = {
                     left: "start",
                     center: "middle",
                     right: "end"
                 },
-                wc = new ou;
+                Ic = new Su;
 
-            function Sc(e, t, n) {
-                var r, i, a = fc.height(t),
+            function jc(e, t, n) {
+                var r, i, a = Mc.height(t),
                     o = t.align,
                     u = t.radius || 0,
                     s = t.x || 0,
                     l = t.y || 0,
                     c = t.dx || 0,
-                    f = (t.dy || 0) + _c(t) - Math.round(.8 * a);
-                return u && (i = (t.theta || 0) - Math.PI / 2, s += u * Math.cos(i), l += u * Math.sin(i)), r = fc.width(t), "center" === o ? c -= r / 2 : "right" === o && (c -= r), e.set(c += s, f += l, c + r, f + a), t.angle && !n && e.rotate(t.angle * Math.PI / 180, s, l), e.expand(n || !r ? 0 : 1)
+                    f = (t.dy || 0) + Lc(t) - Math.round(.8 * a);
+                return u && (i = (t.theta || 0) - Math.PI / 2, s += u * Math.cos(i), l += u * Math.sin(i)), r = Mc.width(t), "center" === o ? c -= r / 2 : "right" === o && (c -= r), e.set(c += s, f += l, c + r, f + a), t.angle && !n && e.rotate(t.angle * Math.PI / 180, s, l), e.expand(n || !r ? 0 : 1)
             }
-            const Ec = {
+            const Bc = {
                     type: "text",
                     tag: "text",
                     nested: !1,
                     attr: function(e, t) {
                         var n, r = t.dx || 0,
-                            i = (t.dy || 0) + _c(t),
+                            i = (t.dy || 0) + Lc(t),
                             a = t.x || 0,
                             o = t.y || 0,
                             u = t.angle || 0,
                             s = t.radius || 0;
-                        s && (n = (t.theta || 0) - Math.PI / 2, a += s * Math.cos(n), o += s * Math.sin(n)), e("text-anchor", xc[t.align] || "start"), u ? (n = Il(a, o) + " rotate(" + u + ")", (r || i) && (n += " " + Il(r, i))) : n = Il(a + r, o + i), e("transform", n)
+                        s && (n = (t.theta || 0) - Math.PI / 2, a += s * Math.cos(n), o += s * Math.sin(n)), e("text-anchor", zc[t.align] || "start"), u ? (n = Zl(a, o) + " rotate(" + u + ")", (r || i) && (n += " " + Zl(r, i))) : n = Zl(a + r, o + i), e("transform", n)
                     },
-                    bound: Sc,
+                    bound: jc,
                     draw: function(e, t, n) {
-                        Cl(t, (function(t) {
+                        Wl(t, (function(t) {
                             var r, i, a, o, u, s;
-                            n && !n.intersects(t.bounds) || (s = yc(t)) && 0 !== (r = null == t.opacity ? 1 : t.opacity) && (e.font = bc(t), e.textAlign = t.align || "left", i = t.x || 0, a = t.y || 0, (o = t.radius) && (u = (t.theta || 0) - Math.PI / 2, i += o * Math.cos(u), a += o * Math.sin(u)), t.angle && (e.save(), e.translate(i, a), e.rotate(t.angle * Math.PI / 180), i = a = 0), i += t.dx || 0, a += (t.dy || 0) + _c(t), t.fill && El(e, t, r) && e.fillText(s, i, a), t.stroke && kl(e, t, r) && e.strokeText(s, i, a), t.angle && e.restore())
+                            n && !n.intersects(t.bounds) || (s = Pc(t)) && 0 !== (r = null == t.opacity ? 1 : t.opacity) && (e.font = Rc(t), e.textAlign = t.align || "left", i = t.x || 0, a = t.y || 0, (o = t.radius) && (u = (t.theta || 0) - Math.PI / 2, i += o * Math.cos(u), a += o * Math.sin(u)), t.angle && (e.save(), e.translate(i, a), e.rotate(t.angle * Math.PI / 180), i = a = 0), i += t.dx || 0, a += (t.dy || 0) + Lc(t), t.fill && jl(e, t, r) && e.fillText(s, i, a), t.stroke && Ul(e, t, r) && e.strokeText(s, i, a), t.angle && e.restore())
                         }))
                     },
-                    pick: Rl((function(e, t, n, r, i, a) {
+                    pick: Kl((function(e, t, n, r, i, a) {
                         if (t.fontSize <= 0) return !1;
                         if (!t.angle) return !0;
-                        var o = Sc(wc, t, !0),
+                        var o = jc(Ic, t, !0),
                             u = -t.angle * Math.PI / 180,
                             s = Math.cos(u),
                             l = Math.sin(u),
                             c = t.x,
                             f = t.y,
                             d = s * i - l * a + (c - c * s + f * l),
                             h = l * i + s * a + (f - c * l - f * s);
                         return o.contains(d, h)
                     }))
                 },
-                Ac = ql("trail", (function(e, t) {
-                    return hl.context(e)(t)
+                Uc = rc("trail", (function(e, t) {
+                    return Dl.context(e)(t)
                 }), (function(e, t) {
                     for (var n, r, i = e.length; --i >= 0;)
                         if (!1 !== e[i].defined && (n = e[i].x - t[0]) * n + (r = e[i].y - t[1]) * r < (n = e[i].size || 1) * n) return e[i];
                     return null
                 })),
-                kc = {
-                    arc: Bl,
-                    area: Hl,
-                    group: $l,
-                    image: Zl,
-                    line: ec,
-                    path: nc,
-                    rect: ic,
-                    rule: oc,
-                    shape: uc,
-                    symbol: sc,
-                    text: Ec,
-                    trail: Ac
+                qc = {
+                    arc: nc,
+                    area: ic,
+                    group: fc,
+                    image: gc,
+                    line: mc,
+                    path: yc,
+                    rect: _c,
+                    rule: wc,
+                    shape: Sc,
+                    symbol: Ec,
+                    text: Bc,
+                    trail: Uc
                 };
 
-            function Mc(e, t, n) {
-                var r = kc[e.mark.marktype],
+            function Hc(e, t, n) {
+                var r = qc[e.mark.marktype],
                     i = t || r.bound;
-                return r.nested && (e = e.mark), i(e.bounds || (e.bounds = new ou), e, n)
+                return r.nested && (e = e.mark), i(e.bounds || (e.bounds = new Su), e, n)
             }
-            var Dc = {
+            var Wc = {
                 mark: null
             };
 
-            function Cc(e, t, n) {
-                var r, i, a, o, u = kc[e.marktype],
+            function Vc(e, t, n) {
+                var r, i, a, o, u = qc[e.marktype],
                     s = u.bound,
                     l = e.items,
                     c = l && l.length;
-                if (u.nested) return c ? a = l[0] : (Dc.mark = e, a = Dc), o = Mc(a, s, n), t && t.union(o) || o;
-                if (t = t || e.bounds && e.bounds.clear() || new ou, c)
-                    for (r = 0, i = l.length; r < i; ++r) t.union(Mc(l[r], s, n));
+                if (u.nested) return c ? a = l[0] : (Wc.mark = e, a = Wc), o = Hc(a, s, n), t && t.union(o) || o;
+                if (t = t || e.bounds && e.bounds.clear() || new Su, c)
+                    for (r = 0, i = l.length; r < i; ++r) t.union(Hc(l[r], s, n));
                 return e.bounds = t
             }
-            var Fc = ["marktype", "name", "role", "interactive", "clip", "items", "zindex", "x", "y", "width", "height", "align", "baseline", "fill", "fillOpacity", "opacity", "stroke", "strokeOpacity", "strokeWidth", "strokeCap", "strokeDash", "strokeDashOffset", "startAngle", "endAngle", "innerRadius", "outerRadius", "cornerRadius", "padAngle", "interpolate", "tension", "orient", "defined", "url", "path", "x2", "y2", "size", "shape", "text", "angle", "theta", "radius", "dx", "dy", "font", "fontSize", "fontWeight", "fontStyle", "fontVariant"];
+            var Gc = ["marktype", "name", "role", "interactive", "clip", "items", "zindex", "x", "y", "width", "height", "align", "baseline", "fill", "fillOpacity", "opacity", "stroke", "strokeOpacity", "strokeWidth", "strokeCap", "strokeDash", "strokeDashOffset", "startAngle", "endAngle", "innerRadius", "outerRadius", "cornerRadius", "padAngle", "interpolate", "tension", "orient", "defined", "url", "path", "x2", "y2", "size", "shape", "text", "angle", "theta", "radius", "dx", "dy", "font", "fontSize", "fontWeight", "fontStyle", "fontVariant"];
 
-            function Nc(e, t) {
-                return JSON.stringify(e, Fc, t)
+            function Yc(e, t) {
+                return JSON.stringify(e, Gc, t)
             }
 
-            function Tc(e) {
-                return Oc("string" == typeof e ? JSON.parse(e) : e)
+            function Xc(e) {
+                return $c("string" == typeof e ? JSON.parse(e) : e)
             }
 
-            function Oc(e) {
+            function $c(e) {
                 var t, n, r, i = e.marktype,
                     a = e.items;
                 if (a)
-                    for (n = 0, r = a.length; n < r; ++n) t = i ? "mark" : "group", a[n][t] = e, a[n].zindex && (a[n][t].zdirty = !0), "group" === (i || t) && Oc(a[n]);
-                return i && Cc(e), e
+                    for (n = 0, r = a.length; n < r; ++n) t = i ? "mark" : "group", a[n][t] = e, a[n].zindex && (a[n][t].zdirty = !0), "group" === (i || t) && $c(a[n]);
+                return i && Vc(e), e
             }
 
-            function Pc(e) {
-                arguments.length ? this.root = Tc(e) : (this.root = Lc({
+            function Kc(e) {
+                arguments.length ? this.root = Xc(e) : (this.root = Qc({
                     marktype: "group",
                     name: "root",
                     role: "frame"
-                }), this.root.items = [new fu(this.root)])
+                }), this.root.items = [new Du(this.root)])
             }
-            var Rc = Pc.prototype;
+            var Jc = Kc.prototype;
 
-            function Lc(e, t) {
+            function Qc(e, t) {
                 return {
-                    bounds: new ou,
+                    bounds: new Su,
                     clip: !!e.clip,
                     group: t,
                     interactive: !1 !== e.interactive,
                     items: [],
                     marktype: e.marktype,
                     name: e.name || void 0,
                     role: e.role || void 0,
                     zindex: e.zindex || 0
                 }
             }
 
-            function zc(e, t, n) {
+            function Zc(e, t, n) {
                 return !e && "undefined" != typeof document && document.createElement && (e = document), e ? n ? e.createElementNS(n, t) : e.createElement(t) : null
             }
 
-            function Ic(e, t) {
+            function ef(e, t) {
                 t = t.toLowerCase();
                 for (var n = e.childNodes, r = 0, i = n.length; r < i; ++r)
                     if (n[r].tagName.toLowerCase() === t) return n[r]
             }
 
-            function Uc(e, t, n, r) {
+            function tf(e, t, n, r) {
                 var i, a = e.childNodes[t];
-                return a && a.tagName.toLowerCase() === n.toLowerCase() || (i = a || null, a = zc(e.ownerDocument, n, r), e.insertBefore(a, i)), a
+                return a && a.tagName.toLowerCase() === n.toLowerCase() || (i = a || null, a = Zc(e.ownerDocument, n, r), e.insertBefore(a, i)), a
             }
 
-            function jc(e, t) {
+            function nf(e, t) {
                 for (var n = e.childNodes, r = n.length; r > t;) e.removeChild(n[--r]);
                 return e
             }
 
-            function Bc(e) {
+            function rf(e) {
                 return "mark-" + e.marktype + (e.role ? " role-" + e.role : "") + (e.name ? " " + e.name : "")
             }
 
-            function qc(e, t) {
+            function af(e, t) {
                 var n = t.getBoundingClientRect();
                 return [e.clientX - n.left - (t.clientLeft || 0), e.clientY - n.top - (t.clientTop || 0)]
             }
 
-            function Hc(e, t) {
-                this._active = null, this._handlers = {}, this._loader = e || Tt(), this._tooltip = t || Wc
+            function of(e, t) {
+                this._active = null, this._handlers = {}, this._loader = e || Nt(), this._tooltip = t || uf
             }
 
-            function Wc(e, t, n, r) {
+            function uf(e, t, n, r) {
                 e.element().setAttribute("title", r || "")
             }
-            Rc.toJSON = function(e) {
-                return Nc(this.root, e || 0)
-            }, Rc.mark = function(e, t, n) {
-                var r = Lc(e, t = t || this.root.items[0]);
+            Jc.toJSON = function(e) {
+                return Yc(this.root, e || 0)
+            }, Jc.mark = function(e, t, n) {
+                var r = Qc(e, t = t || this.root.items[0]);
                 return t.items[n] = r, r.zindex && (r.group.zdirty = !0), r
             };
-            var Yc = Hc.prototype;
+            var sf = of.prototype;
 
-            function Vc(e) {
-                this._el = null, this._bgcolor = null, this._loader = new pu(e)
+            function lf(e) {
+                this._el = null, this._bgcolor = null, this._loader = new Nu(e)
             }
-            Yc.initialize = function(e, t, n) {
+            sf.initialize = function(e, t, n) {
                 return this._el = e, this._obj = n || null, this.origin(t)
-            }, Yc.element = function() {
+            }, sf.element = function() {
                 return this._el
-            }, Yc.canvas = function() {
+            }, sf.canvas = function() {
                 return this._el && this._el.firstChild
-            }, Yc.origin = function(e) {
+            }, sf.origin = function(e) {
                 return arguments.length ? (this._origin = e || [0, 0], this) : this._origin.slice()
-            }, Yc.scene = function(e) {
+            }, sf.scene = function(e) {
                 return arguments.length ? (this._scene = e, this) : this._scene
-            }, Yc.on = function() {}, Yc.off = function() {}, Yc._handlerIndex = function(e, t, n) {
+            }, sf.on = function() {}, sf.off = function() {}, sf._handlerIndex = function(e, t, n) {
                 for (var r = e ? e.length : 0; --r >= 0;)
                     if (e[r].type === t && !n || e[r].handler === n) return r;
                 return -1
-            }, Yc.handlers = function() {
+            }, sf.handlers = function() {
                 var e, t = this._handlers,
                     n = [];
                 for (e in t) n.push.apply(n, t[e]);
                 return n
-            }, Yc.eventName = function(e) {
+            }, sf.eventName = function(e) {
                 var t = e.indexOf(".");
                 return t < 0 ? e : e.slice(0, t)
-            }, Yc.handleHref = function(e, t, n) {
+            }, sf.handleHref = function(e, t, n) {
                 this._loader.sanitize(n, {
                     context: "href"
                 }).then((function(t) {
                     var n = new MouseEvent(e.type, e),
-                        r = zc(null, "a");
+                        r = Zc(null, "a");
                     for (var i in t) r.setAttribute(i, t[i]);
                     r.dispatchEvent(n)
                 })).catch((function() {}))
-            }, Yc.handleTooltip = function(e, t, n) {
+            }, sf.handleTooltip = function(e, t, n) {
                 if (t && null != t.tooltip) {
                     t = function(e, t, n, r) {
                         var i, a, o = e && e.mark;
-                        if (o && (i = kc[o.marktype]).tip) {
-                            for ((a = qc(t, n))[0] -= r[0], a[1] -= r[1]; e = e.mark.group;) a[0] -= e.x || 0, a[1] -= e.y || 0;
+                        if (o && (i = qc[o.marktype]).tip) {
+                            for ((a = af(t, n))[0] -= r[0], a[1] -= r[1]; e = e.mark.group;) a[0] -= e.x || 0, a[1] -= e.y || 0;
                             e = i.tip(o.items, a)
                         }
                         return e
                     }(t, e, this.canvas(), this._origin);
                     var r = n && t && t.tooltip || null;
                     this._tooltip.call(this._obj, this, e, t, r)
                 }
-            }, Yc.getItemBoundingClientRect = function(e) {
+            }, sf.getItemBoundingClientRect = function(e) {
                 if (t = this.canvas()) {
                     for (var t, n = t.getBoundingClientRect(), r = this._origin, i = e.bounds, a = i.x1 + r[0] + n.left, o = i.y1 + r[1] + n.top, u = i.width(), s = i.height(); e.mark && (e = e.mark.group);) a += e.x || 0, o += e.y || 0;
                     return {
                         x: a,
                         y: o,
                         width: u,
                         height: s,
                         left: a,
                         top: o,
                         right: a + u,
                         bottom: o + s
                     }
                 }
             };
-            var Gc = Vc.prototype;
-            Gc.initialize = function(e, t, n, r, i) {
+            var cf = lf.prototype;
+            cf.initialize = function(e, t, n, r, i) {
                 return this._el = e, this.resize(t, n, r, i)
-            }, Gc.element = function() {
+            }, cf.element = function() {
                 return this._el
-            }, Gc.canvas = function() {
+            }, cf.canvas = function() {
                 return this._el && this._el.firstChild
-            }, Gc.scene = function() {
+            }, cf.scene = function() {
                 return this.canvas()
-            }, Gc.background = function(e) {
+            }, cf.background = function(e) {
                 return 0 === arguments.length ? this._bgcolor : (this._bgcolor = e, this)
-            }, Gc.resize = function(e, t, n, r) {
+            }, cf.resize = function(e, t, n, r) {
                 return this._width = e, this._height = t, this._origin = n || [0, 0], this._scale = r || 1, this
-            }, Gc.dirty = function() {}, Gc.render = function(e) {
+            }, cf.dirty = function() {}, cf.render = function(e) {
                 var t = this;
                 return t._call = function() {
                     t._render(e)
                 }, t._call(), t._call = null, t
-            }, Gc._render = function() {}, Gc.renderAsync = function(e) {
+            }, cf._render = function() {}, cf.renderAsync = function(e) {
                 var t = this.render(e);
                 return this._ready ? this._ready.then((function() {
                     return t
                 })) : Promise.resolve(t)
-            }, Gc._load = function(e, t) {
+            }, cf._load = function(e, t) {
                 var n = this,
                     r = n._loader[e](t);
                 if (!n._ready) {
                     var i = n._call;
                     n._ready = n._loader.ready().then((function(e) {
                         e && i(), n._ready = null
                     }))
                 }
                 return r
-            }, Gc.sanitizeURL = function(e) {
+            }, cf.sanitizeURL = function(e) {
                 return this._load("sanitizeURL", e)
-            }, Gc.loadImage = function(e) {
+            }, cf.loadImage = function(e) {
                 return this._load("loadImage", e)
             };
-            var Xc = "mousemove",
-                $c = "mouseout",
-                Kc = "click";
+            var ff = "mousemove",
+                df = "mouseout",
+                hf = "click";
 
-            function Jc(e, t) {
-                Hc.call(this, e, t), this._down = null, this._touch = null, this._first = !0
+            function pf(e, t) {
+                of.call(this, e, t), this._down = null, this._touch = null, this._first = !0
             }
-            var Qc = (0, ke.inherits)(Jc, Hc);
+            var gf = (0, Ee.inherits)(pf, of);
 
-            function Zc(e, t, n) {
+            function mf(e, t, n) {
                 return function(r) {
                     var i = this._active,
                         a = this.pickEvent(r);
                     a === i || (i && i.exit || this.fire(n, r), this._active = a, this.fire(t, r)), this.fire(e, r)
                 }
             }
 
-            function ef(e) {
+            function vf(e) {
                 return function(t) {
                     this.fire(e, t), this._active = null
                 }
             }
-            Qc.initialize = function(e, t, n) {
-                var r = this._canvas = e && Ic(e, "canvas");
+            gf.initialize = function(e, t, n) {
+                var r = this._canvas = e && ef(e, "canvas");
                 if (r) {
                     var i = this;
                     this.events.forEach((function(e) {
                         r.addEventListener(e, (function(t) {
-                            Qc[e] ? Qc[e].call(i, t) : i.fire(e, t)
+                            gf[e] ? gf[e].call(i, t) : i.fire(e, t)
                         }))
                     }))
                 }
-                return Hc.prototype.initialize.call(this, e, t, n)
-            }, Qc.canvas = function() {
+                return of.prototype.initialize.call(this, e, t, n)
+            }, gf.canvas = function() {
                 return this._canvas
-            }, Qc.context = function() {
+            }, gf.context = function() {
                 return this._canvas.getContext("2d")
-            }, Qc.events = ["keydown", "keypress", "keyup", "dragenter", "dragleave", "dragover", "mousedown", "mouseup", "mousemove", "mouseout", "mouseover", "click", "dblclick", "wheel", "mousewheel", "touchstart", "touchmove", "touchend"], Qc.DOMMouseScroll = function(e) {
+            }, gf.events = ["keydown", "keypress", "keyup", "dragenter", "dragleave", "dragover", "mousedown", "mouseup", "mousemove", "mouseout", "mouseover", "click", "dblclick", "wheel", "mousewheel", "touchstart", "touchmove", "touchend"], gf.DOMMouseScroll = function(e) {
                 this.fire("mousewheel", e)
-            }, Qc.mousemove = Zc("mousemove", "mouseover", "mouseout"), Qc.dragover = Zc("dragover", "dragenter", "dragleave"), Qc.mouseout = ef("mouseout"), Qc.dragleave = ef("dragleave"), Qc.mousedown = function(e) {
+            }, gf.mousemove = mf("mousemove", "mouseover", "mouseout"), gf.dragover = mf("dragover", "dragenter", "dragleave"), gf.mouseout = vf("mouseout"), gf.dragleave = vf("dragleave"), gf.mousedown = function(e) {
                 this._down = this._active, this.fire("mousedown", e)
-            }, Qc.click = function(e) {
+            }, gf.click = function(e) {
                 this._down === this._active && (this.fire("click", e), this._down = null)
-            }, Qc.touchstart = function(e) {
+            }, gf.touchstart = function(e) {
                 this._touch = this.pickEvent(e.changedTouches[0]), this._first && (this._active = this._touch, this._first = !1), this.fire("touchstart", e, !0)
-            }, Qc.touchmove = function(e) {
+            }, gf.touchmove = function(e) {
                 this.fire("touchmove", e, !0)
-            }, Qc.touchend = function(e) {
+            }, gf.touchend = function(e) {
                 this.fire("touchend", e, !0), this._touch = null
-            }, Qc.fire = function(e, t, n) {
+            }, gf.fire = function(e, t, n) {
                 var r, i, a = n ? this._touch : this._active,
                     o = this._handlers[e];
-                if (t.vegaType = e, e === Kc && a && a.href ? this.handleHref(t, a, a.href) : e !== Xc && e !== $c || this.handleTooltip(t, a, e !== $c), o)
+                if (t.vegaType = e, e === hf && a && a.href ? this.handleHref(t, a, a.href) : e !== ff && e !== df || this.handleTooltip(t, a, e !== df), o)
                     for (r = 0, i = o.length; r < i; ++r) o[r].handler.call(this._obj, t, a)
-            }, Qc.on = function(e, t) {
+            }, gf.on = function(e, t) {
                 var n = this.eventName(e),
                     r = this._handlers;
                 return this._handlerIndex(r[n], e, t) < 0 && (r[n] || (r[n] = [])).push({
                     type: e,
                     handler: t
                 }), this
-            }, Qc.off = function(e, t) {
+            }, gf.off = function(e, t) {
                 var n = this.eventName(e),
                     r = this._handlers[n],
                     i = this._handlerIndex(r, e, t);
                 return i >= 0 && r.splice(i, 1), this
-            }, Qc.pickEvent = function(e) {
-                var t = qc(e, this._canvas),
+            }, gf.pickEvent = function(e) {
+                var t = af(e, this._canvas),
                     n = this._origin;
                 return this.pick(this._scene, t[0], t[1], t[0] - n[0], t[1] - n[1])
-            }, Qc.pick = function(e, t, n, r, i) {
+            }, gf.pick = function(e, t, n, r, i) {
                 var a = this.context();
-                return kc[e.marktype].pick.call(this, a, e, t, n, r, i)
+                return qc[e.marktype].pick.call(this, a, e, t, n, r, i)
             };
-            var tf = "undefined" != typeof window && window.devicePixelRatio || 1;
+            var yf = "undefined" != typeof window && window.devicePixelRatio || 1;
 
-            function nf(e) {
-                Vc.call(this, e), this._redraw = !1, this._dirty = new ou
+            function bf(e) {
+                lf.call(this, e), this._redraw = !1, this._dirty = new Su
             }
-            var rf = (0, ke.inherits)(nf, Vc),
-                af = Vc.prototype,
-                of = new ou;
+            var _f = (0, Ee.inherits)(bf, lf),
+                xf = lf.prototype,
+                wf = new Su;
 
-            function uf(e, t) {
-                Hc.call(this, e, t);
+            function Sf(e, t) {
+                of.call(this, e, t);
                 var n = this;
-                n._hrefHandler = lf(n, (function(e, t) {
+                n._hrefHandler = Af(n, (function(e, t) {
                     t && t.href && n.handleHref(e, t, t.href)
-                })), n._tooltipHandler = lf(n, (function(e, t) {
-                    n.handleTooltip(e, t, e.type !== $c)
+                })), n._tooltipHandler = Af(n, (function(e, t) {
+                    n.handleTooltip(e, t, e.type !== df)
                 }))
             }
-            rf.initialize = function(e, t, n, r, i) {
-                return this._canvas = du(1, 1), e && (jc(e, 0).appendChild(this._canvas), this._canvas.setAttribute("class", "marks")), af.initialize.call(this, e, t, n, r, i)
-            }, rf.resize = function(e, t, n, r) {
-                return af.resize.call(this, e, t, n, r),
+            _f.initialize = function(e, t, n, r, i) {
+                return this._canvas = Cu(1, 1), e && (nf(e, 0).appendChild(this._canvas), this._canvas.setAttribute("class", "marks")), xf.initialize.call(this, e, t, n, r, i)
+            }, _f.resize = function(e, t, n, r) {
+                return xf.resize.call(this, e, t, n, r),
                     function(e, t, n, r, i) {
                         var a = "undefined" != typeof HTMLElement && e instanceof HTMLElement && null != e.parentNode,
                             o = e.getContext("2d"),
-                            u = a ? tf : i;
+                            u = a ? yf : i;
                         e.width = t * u, e.height = n * u, a && 1 !== u && (e.style.width = t + "px", e.style.height = n + "px"), o.pixelRatio = u, o.setTransform(u, 0, 0, u, u * r[0], u * r[1])
                     }(this._canvas, this._width, this._height, this._origin, this._scale), this._redraw = !0, this
-            }, rf.canvas = function() {
+            }, _f.canvas = function() {
                 return this._canvas
-            }, rf.context = function() {
+            }, _f.context = function() {
                 return this._canvas ? this._canvas.getContext("2d") : null
-            }, rf.dirty = function(e) {
+            }, _f.dirty = function(e) {
                 var t = function(e, t) {
                     if (null == t) return e;
-                    for (var n = of.clear().union(e); null != t; t = t.mark.group) n.translate(t.x || 0, t.y || 0);
+                    for (var n = wf.clear().union(e); null != t; t = t.mark.group) n.translate(t.x || 0, t.y || 0);
                     return n
                 }(e.bounds, e.mark.group);
                 this._dirty.union(t)
-            }, rf._render = function(e) {
+            }, _f._render = function(e) {
                 var t = this.context(),
                     n = this._origin,
                     r = this._width,
                     i = this._height,
                     a = this._dirty;
                 return t.save(), this._redraw || a.empty() ? (this._redraw = !1, a = null) : a = function(e, t, n) {
                     return t.expand(1).round(), t.translate(-n[0] % 1, -n[1] % 1), e.beginPath(), e.rect(t.x1, t.y1, t.width(), t.height()), e.clip(), t
                 }(t, a, n), this.clear(-n[0], -n[1], r, i), this.draw(t, e, a), t.restore(), this._dirty.clear(), this
-            }, rf.draw = function(e, t, n) {
-                var r = kc[t.marktype];
+            }, _f.draw = function(e, t, n) {
+                var r = qc[t.marktype];
                 t.clip && function(e, t) {
                     var n = t.clip;
-                    if (e.save(), e.beginPath(), (0, ke.isFunction)(n)) n(e);
+                    if (e.save(), e.beginPath(), (0, Ee.isFunction)(n)) n(e);
                     else {
                         var r = t.group;
                         e.rect(0, 0, r.width || 0, r.height || 0)
                     }
                     e.clip()
                 }(e, t), r.draw.call(this, e, t, n), t.clip && e.restore()
-            }, rf.clear = function(e, t, n, r) {
+            }, _f.clear = function(e, t, n, r) {
                 var i = this.context();
                 i.clearRect(e, t, n, r), null != this._bgcolor && (i.fillStyle = this._bgcolor, i.fillRect(e, t, n, r))
             };
-            var sf = (0, ke.inherits)(uf, Hc);
+            var Ef = (0, Ee.inherits)(Sf, of);
 
-            function lf(e, t) {
+            function Af(e, t) {
                 return function(n) {
                     var r = n.target.__data__;
                     n.vegaType = n.type, r = Array.isArray(r) ? r[0] : r, t.call(e._obj, n, r)
                 }
             }
 
-            function cf(e, t, n) {
+            function kf(e, t, n) {
                 var r, i, a = "<" + e;
                 if (t)
                     for (r in t) null != (i = t[r]) && (a += " " + r + '="' + i + '"');
                 return n && (a += " " + n), a + ">"
             }
 
-            function ff(e) {
+            function Mf(e) {
                 return "</" + e + ">"
             }
-            sf.initialize = function(e, t, n) {
+            Ef.initialize = function(e, t, n) {
                 var r = this._svg;
-                return r && (r.removeEventListener(Kc, this._hrefHandler), r.removeEventListener(Xc, this._tooltipHandler), r.removeEventListener($c, this._tooltipHandler)), this._svg = r = e && Ic(e, "svg"), r && (r.addEventListener(Kc, this._hrefHandler), r.addEventListener(Xc, this._tooltipHandler), r.addEventListener($c, this._tooltipHandler)), Hc.prototype.initialize.call(this, e, t, n)
-            }, sf.canvas = function() {
+                return r && (r.removeEventListener(hf, this._hrefHandler), r.removeEventListener(ff, this._tooltipHandler), r.removeEventListener(df, this._tooltipHandler)), this._svg = r = e && ef(e, "svg"), r && (r.addEventListener(hf, this._hrefHandler), r.addEventListener(ff, this._tooltipHandler), r.addEventListener(df, this._tooltipHandler)), of.prototype.initialize.call(this, e, t, n)
+            }, Ef.canvas = function() {
                 return this._svg
-            }, sf.on = function(e, t) {
+            }, Ef.on = function(e, t) {
                 var n = this.eventName(e),
                     r = this._handlers;
                 if (this._handlerIndex(r[n], e, t) < 0) {
                     var i = {
                         type: e,
                         handler: t,
-                        listener: lf(this, t)
+                        listener: Af(this, t)
                     };
                     (r[n] || (r[n] = [])).push(i), this._svg && this._svg.addEventListener(n, i.listener)
                 }
                 return this
-            }, sf.off = function(e, t) {
+            }, Ef.off = function(e, t) {
                 var n = this.eventName(e),
                     r = this._handlers[n],
                     i = this._handlerIndex(r, e, t);
                 return i >= 0 && (this._svg && this._svg.removeEventListener(n, r[i].listener), r.splice(i, 1)), this
             };
-            const df = {
+            const Df = {
                 version: "1.1",
                 xmlns: "http://www.w3.org/2000/svg",
                 "xmlns:xlink": "http://www.w3.org/1999/xlink"
             };
-            var hf = {
+            var Cf = {
                     fill: "fill",
                     fillOpacity: "fill-opacity",
                     stroke: "stroke",
                     strokeOpacity: "stroke-opacity",
                     strokeWidth: "stroke-width",
                     strokeCap: "stroke-linecap",
                     strokeJoin: "stroke-linejoin",
                     strokeDash: "stroke-dasharray",
                     strokeDashOffset: "stroke-dashoffset",
                     strokeMiterLimit: "stroke-miterlimit",
                     opacity: "opacity"
                 },
-                pf = Object.keys(hf),
-                gf = df.xmlns;
+                Ff = Object.keys(Cf),
+                Nf = Df.xmlns;
 
-            function mf(e) {
-                Vc.call(this, e), this._dirtyID = 1, this._dirty = [], this._svg = null, this._root = null, this._defs = null
+            function Of(e) {
+                lf.call(this, e), this._dirtyID = 1, this._dirty = [], this._svg = null, this._root = null, this._defs = null
             }
-            var vf = (0, ke.inherits)(mf, Vc),
-                yf = Vc.prototype;
+            var Tf = (0, Ee.inherits)(Of, lf),
+                Pf = lf.prototype;
 
-            function bf(e, t, n) {
+            function Rf(e, t, n) {
                 var r, i, a;
-                for ((e = Uc(e, n, "linearGradient", gf)).setAttribute("id", t.id), e.setAttribute("x1", t.x1), e.setAttribute("x2", t.x2), e.setAttribute("y1", t.y1), e.setAttribute("y2", t.y2), r = 0, i = t.stops.length; r < i; ++r)(a = Uc(e, r, "stop", gf)).setAttribute("offset", t.stops[r].offset), a.setAttribute("stop-color", t.stops[r].color);
-                jc(e, r)
+                for ((e = tf(e, n, "linearGradient", Nf)).setAttribute("id", t.id), e.setAttribute("x1", t.x1), e.setAttribute("x2", t.x2), e.setAttribute("y1", t.y1), e.setAttribute("y2", t.y2), r = 0, i = t.stops.length; r < i; ++r)(a = tf(e, r, "stop", Nf)).setAttribute("offset", t.stops[r].offset), a.setAttribute("stop-color", t.stops[r].color);
+                nf(e, r)
             }
 
-            function _f(e, t, n) {
+            function Lf(e, t, n) {
                 var r;
-                (e = Uc(e, n, "clipPath", gf)).setAttribute("id", t.id), t.path ? (r = Uc(e, 0, "path", gf)).setAttribute("d", t.path) : ((r = Uc(e, 0, "rect", gf)).setAttribute("x", 0), r.setAttribute("y", 0), r.setAttribute("width", t.width), r.setAttribute("height", t.height))
+                (e = tf(e, n, "clipPath", Nf)).setAttribute("id", t.id), t.path ? (r = tf(e, 0, "path", Nf)).setAttribute("d", t.path) : ((r = tf(e, 0, "rect", Nf)).setAttribute("x", 0), r.setAttribute("y", 0), r.setAttribute("width", t.width), r.setAttribute("height", t.height))
             }
 
-            function xf(e, t) {
+            function zf(e, t) {
                 for (; e && e.dirty !== t; e = e.mark.group) {
                     if (e.dirty = t, !e.mark || e.mark.dirty === t) return;
                     e.mark.dirty = t
                 }
             }
 
-            function wf(e, t, n, r, i) {
+            function If(e, t, n, r, i) {
                 var a, o = e._svg;
-                if (!o && (o = zc(a = t.ownerDocument, r, gf), e._svg = o, e.mark && (o.__data__ = e, o.__values__ = {
+                if (!o && (o = Zc(a = t.ownerDocument, r, Nf), e._svg = o, e.mark && (o.__data__ = e, o.__values__ = {
                         fill: "default"
                     }, "g" === r))) {
-                    var u = zc(a, "path", gf);
+                    var u = Zc(a, "path", Nf);
                     u.setAttribute("class", "background"), o.appendChild(u), u.__data__ = e;
-                    var s = zc(a, "g", gf);
+                    var s = Zc(a, "g", Nf);
                     o.appendChild(s), s.__data__ = e
                 }
                 return (o.ownerSVGElement !== i || function(e) {
                     var t = e.mark || e.group;
                     return t && t.items.length > 1
                 }(e) && o.previousSibling !== n) && t.insertBefore(o, n ? n.nextSibling : t.firstChild), o
             }
-            vf.initialize = function(e, t, n, r) {
-                return e && (this._svg = Uc(e, 0, "svg", gf), this._svg.setAttribute("class", "marks"), jc(e, 1), this._root = Uc(this._svg, 0, "g", gf), jc(this._svg, 1)), this._defs = {
+            Tf.initialize = function(e, t, n, r) {
+                return e && (this._svg = tf(e, 0, "svg", Nf), this._svg.setAttribute("class", "marks"), nf(e, 1), this._root = tf(this._svg, 0, "g", Nf), nf(this._svg, 1)), this._defs = {
                     gradient: {},
                     clipping: {}
-                }, this.background(this._bgcolor), yf.initialize.call(this, e, t, n, r)
-            }, vf.background = function(e) {
-                return arguments.length && this._svg && this._svg.style.setProperty("background-color", e), yf.background.apply(this, arguments)
-            }, vf.resize = function(e, t, n, r) {
-                return yf.resize.call(this, e, t, n, r), this._svg && (this._svg.setAttribute("width", this._width * this._scale), this._svg.setAttribute("height", this._height * this._scale), this._svg.setAttribute("viewBox", "0 0 " + this._width + " " + this._height), this._root.setAttribute("transform", "translate(" + this._origin + ")")), this._dirty = [], this
-            }, vf.canvas = function() {
+                }, this.background(this._bgcolor), Pf.initialize.call(this, e, t, n, r)
+            }, Tf.background = function(e) {
+                return arguments.length && this._svg && this._svg.style.setProperty("background-color", e), Pf.background.apply(this, arguments)
+            }, Tf.resize = function(e, t, n, r) {
+                return Pf.resize.call(this, e, t, n, r), this._svg && (this._svg.setAttribute("width", this._width * this._scale), this._svg.setAttribute("height", this._height * this._scale), this._svg.setAttribute("viewBox", "0 0 " + this._width + " " + this._height), this._root.setAttribute("transform", "translate(" + this._origin + ")")), this._dirty = [], this
+            }, Tf.canvas = function() {
                 return this._svg
-            }, vf.svg = function() {
+            }, Tf.svg = function() {
                 if (!this._svg) return null;
                 var e = {
                     class: "marks",
                     width: this._width * this._scale,
                     height: this._height * this._scale,
                     viewBox: "0 0 " + this._width + " " + this._height
                 };
-                for (var t in df) e[t] = df[t];
-                var n = this._bgcolor ? cf("rect", {
+                for (var t in Df) e[t] = Df[t];
+                var n = this._bgcolor ? kf("rect", {
                     width: this._width,
                     height: this._height,
                     style: "fill: " + this._bgcolor + ";"
-                }) + ff("rect") : "";
-                return cf("svg", e) + n + this._svg.innerHTML + ff("svg")
-            }, vf._render = function(e) {
-                return this._dirtyCheck() && (this._dirtyAll && this._resetDefs(), this.draw(this._root, e), jc(this._root, 1)), this.updateDefs(), this._dirty = [], ++this._dirtyID, this
-            }, vf.updateDefs = function() {
+                }) + Mf("rect") : "";
+                return kf("svg", e) + n + this._svg.innerHTML + Mf("svg")
+            }, Tf._render = function(e) {
+                return this._dirtyCheck() && (this._dirtyAll && this._resetDefs(), this.draw(this._root, e), nf(this._root, 1)), this.updateDefs(), this._dirty = [], ++this._dirtyID, this
+            }, Tf.updateDefs = function() {
                 var e, t = this._svg,
                     n = this._defs,
                     r = n.el,
                     i = 0;
-                for (e in n.gradient) r || (n.el = r = Uc(t, 0, "defs", gf)), bf(r, n.gradient[e], i++);
-                for (e in n.clipping) r || (n.el = r = Uc(t, 0, "defs", gf)), _f(r, n.clipping[e], i++);
-                r && (0 === i ? (t.removeChild(r), n.el = null) : jc(r, i))
-            }, vf._resetDefs = function() {
+                for (e in n.gradient) r || (n.el = r = tf(t, 0, "defs", Nf)), Rf(r, n.gradient[e], i++);
+                for (e in n.clipping) r || (n.el = r = tf(t, 0, "defs", Nf)), Lf(r, n.clipping[e], i++);
+                r && (0 === i ? (t.removeChild(r), n.el = null) : nf(r, i))
+            }, Tf._resetDefs = function() {
                 var e = this._defs;
                 e.gradient = {}, e.clipping = {}
-            }, vf.dirty = function(e) {
+            }, Tf.dirty = function(e) {
                 e.dirty !== this._dirtyID && (e.dirty = this._dirtyID, this._dirty.push(e))
-            }, vf.isDirty = function(e) {
+            }, Tf.isDirty = function(e) {
                 return this._dirtyAll || !e._svg || e.dirty === this._dirtyID
-            }, vf._dirtyCheck = function() {
+            }, Tf._dirtyCheck = function() {
                 this._dirtyAll = !0;
                 var e = this._dirty;
                 if (!e.length) return !0;
                 var t, n, r, i, a, o, u, s = ++this._dirtyID;
-                for (a = 0, o = e.length; a < o; ++a)(n = (t = e[a]).mark).marktype !== r && (r = n.marktype, i = kc[r]), n.zdirty && n.dirty !== s && (this._dirtyAll = !1, xf(t, s), n.items.forEach((function(e) {
+                for (a = 0, o = e.length; a < o; ++a)(n = (t = e[a]).mark).marktype !== r && (r = n.marktype, i = qc[r]), n.zdirty && n.dirty !== s && (this._dirtyAll = !1, zf(t, s), n.items.forEach((function(e) {
                     e.dirty = s
-                }))), n.zdirty || (t.exit ? (i.nested && n.items.length ? (u = n.items[0])._svg && this._update(i, u._svg, u) : t._svg && (u = t._svg.parentNode) && u.removeChild(t._svg), t._svg = null) : (t = i.nested ? n.items[0] : t)._update !== s && (t._svg && t._svg.ownerSVGElement ? this._update(i, t._svg, t) : (this._dirtyAll = !1, xf(t, s)), t._update = s));
+                }))), n.zdirty || (t.exit ? (i.nested && n.items.length ? (u = n.items[0])._svg && this._update(i, u._svg, u) : t._svg && (u = t._svg.parentNode) && u.removeChild(t._svg), t._svg = null) : (t = i.nested ? n.items[0] : t)._update !== s && (t._svg && t._svg.ownerSVGElement ? this._update(i, t._svg, t) : (this._dirtyAll = !1, zf(t, s)), t._update = s));
                 return !this._dirtyAll
-            }, vf.draw = function(e, t, n) {
+            }, Tf.draw = function(e, t, n) {
                 if (!this.isDirty(t)) return t._svg;
                 var r, i = this,
                     a = this._svg,
-                    o = kc[t.marktype],
+                    o = qc[t.marktype],
                     u = !1 === t.interactive ? "none" : null,
                     s = "g" === o.tag,
                     l = null,
                     c = 0;
 
                 function f(e) {
                     var t = i.isDirty(e),
-                        n = wf(e, r, l, o.tag, a);
+                        n = If(e, r, l, o.tag, a);
                     t && (i._update(o, n, e), s && function(e, t, n) {
                         t = t.lastChild;
                         var r, i = 0;
-                        Cl(n, (function(n) {
+                        Wl(n, (function(n) {
                             r = e.draw(t, n, r), ++i
-                        })), jc(t, 1 + i)
+                        })), nf(t, 1 + i)
                     }(i, n, e)), l = n, ++c
                 }
-                return (r = wf(t, e, n, "g", a)).setAttribute("class", Bc(t)), s || r.style.setProperty("pointer-events", u), t.clip ? r.setAttribute("clip-path", Vl(i, t, t.group)) : r.removeAttribute("clip-path"), o.nested ? t.items.length && f(t.items[0]) : Cl(t, f), jc(r, c), r
+                return (r = If(t, e, n, "g", a)).setAttribute("class", rf(t)), s || r.style.setProperty("pointer-events", u), t.clip ? r.setAttribute("clip-path", uc(i, t, t.group)) : r.removeAttribute("clip-path"), o.nested ? t.items.length && f(t.items[0]) : Wl(t, f), nf(r, c), r
             };
-            var Sf = null,
-                Ef = null,
-                Af = {
+            var jf = null,
+                Bf = null,
+                Uf = {
                     group: function(e, t, n) {
-                        Ef = t.__values__, Sf = t.childNodes[1], e.foreground(kf, n, this), Sf = t.childNodes[0], e.background(kf, n, this);
+                        Bf = t.__values__, jf = t.childNodes[1], e.foreground(qf, n, this), jf = t.childNodes[0], e.background(qf, n, this);
                         var r = !1 === n.mark.interactive ? "none" : null;
-                        r !== Ef.events && (Sf.style.setProperty("pointer-events", r), Ef.events = r)
+                        r !== Bf.events && (jf.style.setProperty("pointer-events", r), Bf.events = r)
                     },
                     text: function(e, t, n) {
-                        var r = yc(n);
-                        r !== Ef.text && (t.textContent = r, Ef.text = r), (r = bc(n)) !== Ef.font && (t.style.setProperty("font", r), Ef.font = r)
+                        var r = Pc(n);
+                        r !== Bf.text && (t.textContent = r, Bf.text = r), (r = Rc(n)) !== Bf.font && (t.style.setProperty("font", r), Bf.font = r)
                     }
                 };
 
-            function kf(e, t, n) {
-                t !== Ef[e] && (null != t ? n ? Sf.setAttributeNS(n, e, t) : Sf.setAttribute(e, t) : n ? Sf.removeAttributeNS(n, e) : Sf.removeAttribute(e), Ef[e] = t)
+            function qf(e, t, n) {
+                t !== Bf[e] && (null != t ? n ? jf.setAttributeNS(n, e, t) : jf.setAttribute(e, t) : n ? jf.removeAttributeNS(n, e) : jf.removeAttribute(e), Bf[e] = t)
             }
 
-            function Mf(e) {
-                Vc.call(this, e), this._text = {
+            function Hf(e) {
+                lf.call(this, e), this._text = {
                     head: "",
                     bg: "",
                     root: "",
                     foot: "",
                     defs: "",
                     body: ""
                 }, this._defs = {
                     gradient: {},
                     clipping: {}
                 }
             }
-            vf._update = function(e, t, n) {
-                Sf = t, Ef = t.__values__, e.attr(kf, n, this);
-                var r = Af[e.type];
-                r && r.call(this, e, t, n), this.style(Sf, n)
-            }, vf.style = function(e, t) {
+            Tf._update = function(e, t, n) {
+                jf = t, Bf = t.__values__, e.attr(qf, n, this);
+                var r = Uf[e.type];
+                r && r.call(this, e, t, n), this.style(jf, n)
+            }, Tf.style = function(e, t) {
                 var n, r, i, a, o, u;
                 if (null != t)
-                    for (n = 0, r = pf.length; n < r; ++n)(o = t[i = pf[n]]) !== Ef[i] && (a = hf[i], null == o ? "fill" === a ? e.style.setProperty(a, "none") : e.style.removeProperty(a) : (o.id && (this._defs.gradient[o.id] = o, o = "url(" + (u = void 0, ("undefined" == typeof window ? "" : (u = window.location).hash ? u.href.slice(0, -u.hash.length) : u.href) + "#") + o.id + ")"), e.style.setProperty(a, o + "")), Ef[i] = o)
+                    for (n = 0, r = Ff.length; n < r; ++n)(o = t[i = Ff[n]]) !== Bf[i] && (a = Cf[i], null == o ? "fill" === a ? e.style.setProperty(a, "none") : e.style.removeProperty(a) : (o.id && (this._defs.gradient[o.id] = o, o = "url(" + (u = void 0, ("undefined" == typeof window ? "" : (u = window.location).hash ? u.href.slice(0, -u.hash.length) : u.href) + "#") + o.id + ")"), e.style.setProperty(a, o + "")), Bf[i] = o)
             };
-            var Df, Cf = (0, ke.inherits)(Mf, Vc),
-                Ff = Vc.prototype;
+            var Wf, Vf = (0, Ee.inherits)(Hf, lf),
+                Gf = lf.prototype;
 
-            function Nf(e, t, n, r) {
-                Df[r || e] = t
+            function Yf(e, t, n, r) {
+                Wf[r || e] = t
             }
 
-            function Tf(e, t, n, r) {
+            function Xf(e, t, n, r) {
                 if (null == e) return "";
                 var i, a, o, u, s, l = "";
-                for ("bgrect" === n && !1 === t.interactive && (l += "pointer-events: none; "), "text" === n && (l += "font: " + bc(e) + "; "), i = 0, a = pf.length; i < a; ++i) o = pf[i], u = hf[o], null == (s = e[o]) ? "fill" === u && (l += "fill: none; ") : "transparent" !== s || "fill" !== u && "stroke" !== u ? (s.id && (r.gradient[s.id] = s, s = "url(#" + s.id + ")"), l += u + ": " + s + "; ") : l += u + ": none; ";
+                for ("bgrect" === n && !1 === t.interactive && (l += "pointer-events: none; "), "text" === n && (l += "font: " + Rc(e) + "; "), i = 0, a = Ff.length; i < a; ++i) o = Ff[i], u = Cf[o], null == (s = e[o]) ? "fill" === u && (l += "fill: none; ") : "transparent" !== s || "fill" !== u && "stroke" !== u ? (s.id && (r.gradient[s.id] = s, s = "url(#" + s.id + ")"), l += u + ": " + s + "; ") : l += u + ": none; ";
                 return l ? 'style="' + l.trim() + '"' : null
             }
-            Cf.resize = function(e, t, n, r) {
-                Ff.resize.call(this, e, t, n, r);
+            Vf.resize = function(e, t, n, r) {
+                Gf.resize.call(this, e, t, n, r);
                 var i = this._origin,
                     a = this._text,
                     o = {
                         class: "marks",
                         width: this._width * this._scale,
                         height: this._height * this._scale,
                         viewBox: "0 0 " + this._width + " " + this._height
                     };
-                for (var u in df) o[u] = df[u];
-                a.head = cf("svg", o);
+                for (var u in Df) o[u] = Df[u];
+                a.head = kf("svg", o);
                 var s = this._bgcolor;
-                return "transparent" !== s && "none" !== s || (s = null), a.bg = s ? cf("rect", {
+                return "transparent" !== s && "none" !== s || (s = null), a.bg = s ? kf("rect", {
                     width: this._width,
                     height: this._height,
                     style: "fill: " + s + ";"
-                }) + ff("rect") : "", a.root = cf("g", {
+                }) + Mf("rect") : "", a.root = kf("g", {
                     transform: "translate(" + i + ")"
-                }), a.foot = ff("g") + ff("svg"), this
-            }, Cf.background = function() {
-                var e = Ff.background.apply(this, arguments);
+                }), a.foot = Mf("g") + Mf("svg"), this
+            }, Vf.background = function() {
+                var e = Gf.background.apply(this, arguments);
                 return arguments.length && this._text.head && this.resize(this._width, this._height, this._origin, this._scale), e
-            }, Cf.svg = function() {
+            }, Vf.svg = function() {
                 var e = this._text;
                 return e.head + e.bg + e.defs + e.root + e.body + e.foot
-            }, Cf._render = function(e) {
+            }, Vf._render = function(e) {
                 return this._text.body = this.mark(e), this._text.defs = this.buildDefs(), this
-            }, Cf.buildDefs = function() {
+            }, Vf.buildDefs = function() {
                 var e, t, n, r, i = this._defs,
                     a = "";
                 for (t in i.gradient) {
-                    for (r = (n = i.gradient[t]).stops, a += cf("linearGradient", {
+                    for (r = (n = i.gradient[t]).stops, a += kf("linearGradient", {
                             id: t,
                             x1: n.x1,
                             x2: n.x2,
                             y1: n.y1,
                             y2: n.y2
-                        }), e = 0; e < r.length; ++e) a += cf("stop", {
+                        }), e = 0; e < r.length; ++e) a += kf("stop", {
                         offset: r[e].offset,
                         "stop-color": r[e].color
-                    }) + ff("stop");
-                    a += ff("linearGradient")
+                    }) + Mf("stop");
+                    a += Mf("linearGradient")
                 }
-                for (t in i.clipping) n = i.clipping[t], a += cf("clipPath", {
+                for (t in i.clipping) n = i.clipping[t], a += kf("clipPath", {
                     id: t
-                }), n.path ? a += cf("path", {
+                }), n.path ? a += kf("path", {
                     d: n.path
-                }) + ff("path") : a += cf("rect", {
+                }) + Mf("path") : a += kf("rect", {
                     x: 0,
                     y: 0,
                     width: n.width,
                     height: n.height
-                }) + ff("rect"), a += ff("clipPath");
-                return a.length > 0 ? cf("defs") + a + ff("defs") : ""
-            }, Cf.attributes = function(e, t) {
-                return Df = {}, e(Nf, t, this), Df
-            }, Cf.href = function(e) {
+                }) + Mf("rect"), a += Mf("clipPath");
+                return a.length > 0 ? kf("defs") + a + Mf("defs") : ""
+            }, Vf.attributes = function(e, t) {
+                return Wf = {}, e(Yf, t, this), Wf
+            }, Vf.href = function(e) {
                 var t, n = this,
                     r = e.href;
                 if (r) {
                     if (t = n._hrefs && n._hrefs[r]) return t;
                     n.sanitizeURL(r).then((function(e) {
                         e["xlink:href"] = e.href, e.href = null, (n._hrefs || (n._hrefs = {}))[r] = e
                     }))
                 }
                 return null
-            }, Cf.mark = function(e) {
+            }, Vf.mark = function(e) {
                 var t, n = this,
-                    r = kc[e.marktype],
+                    r = qc[e.marktype],
                     i = r.tag,
                     a = this._defs,
                     o = "";
 
                 function u(u) {
                     var s = n.href(u);
-                    s && (o += cf("a", s)), t = "g" !== i ? Tf(u, e, i, a) : null, o += cf(i, n.attributes(r.attr, u), t), "text" === i ? o += yc(u).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;") : "g" === i && (o += cf("path", n.attributes(r.background, u), Tf(u, e, "bgrect", a)) + ff("path"), o += cf("g", n.attributes(r.foreground, u)) + n.markGroup(u) + ff("g")), o += ff(i), s && (o += ff("a"))
+                    s && (o += kf("a", s)), t = "g" !== i ? Xf(u, e, i, a) : null, o += kf(i, n.attributes(r.attr, u), t), "text" === i ? o += Pc(u).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;") : "g" === i && (o += kf("path", n.attributes(r.background, u), Xf(u, e, "bgrect", a)) + Mf("path"), o += kf("g", n.attributes(r.foreground, u)) + n.markGroup(u) + Mf("g")), o += Mf(i), s && (o += Mf("a"))
                 }
-                return "g" !== i && !1 === e.interactive && (t = 'style="pointer-events: none;"'), o += cf("g", {
-                    class: Bc(e),
-                    "clip-path": e.clip ? Vl(n, e, e.group) : null
-                }, t), r.nested ? e.items && e.items.length && u(e.items[0]) : Cl(e, u), o + ff("g")
-            }, Cf.markGroup = function(e) {
+                return "g" !== i && !1 === e.interactive && (t = 'style="pointer-events: none;"'), o += kf("g", {
+                    class: rf(e),
+                    "clip-path": e.clip ? uc(n, e, e.group) : null
+                }, t), r.nested ? e.items && e.items.length && u(e.items[0]) : Wl(e, u), o + Mf("g")
+            }, Vf.markGroup = function(e) {
                 var t = this,
                     n = "";
-                return Cl(e, (function(e) {
+                return Wl(e, (function(e) {
                     n += t.mark(e)
                 })), n
             };
-            var Of = {
-                    Canvas: "canvas",
+            var $f = "canvas",
+                Kf = "none",
+                Jf = {
+                    Canvas: $f,
                     PNG: "png",
                     SVG: "svg",
-                    None: "none"
+                    None: Kf
                 },
-                Pf = {};
+                Qf = {};
 
-            function Rf(e, t) {
-                return e = String(e || "").toLowerCase(), arguments.length > 1 ? (Pf[e] = t, this) : Pf[e]
+            function Zf(e, t) {
+                return e = String(e || "").toLowerCase(), arguments.length > 1 ? (Qf[e] = t, this) : Qf[e]
             }
-            Pf.canvas = Pf.png = {
-                renderer: nf,
-                headless: nf,
-                handler: Jc
-            }, Pf.svg = {
-                renderer: mf,
-                headless: Mf,
-                handler: uf
-            }, Pf.none = {};
-            var Lf = new ou;
+            Qf[$f] = Qf.png = {
+                renderer: bf,
+                headless: bf,
+                handler: pf
+            }, Qf.svg = {
+                renderer: Of,
+                headless: Hf,
+                handler: Sf
+            }, Qf[Kf] = {};
+            var ed = new Su;
 
-            function zf(e) {
+            function td(e) {
                 var t = e.clip;
-                if ((0, ke.isFunction)(t)) t(_l(Lf.clear()));
+                if ((0, Ee.isFunction)(t)) t(Rl(ed.clear()));
                 else {
                     if (!t) return;
-                    Lf.set(0, 0, e.group.width, e.group.height)
+                    ed.set(0, 0, e.group.width, e.group.height)
                 }
-                e.bounds.intersect(Lf)
+                e.bounds.intersect(ed)
             }
+            var nd = 1e-9;
 
-            function If(e, t, n) {
-                return e === t || ("path" === n ? Uf(e, t) : e instanceof Date && t instanceof Date ? +e == +t : (0, ke.isNumber)(e) && (0, ke.isNumber)(t) ? Math.abs(e - t) <= 1e-9 : e && t && ((0, ke.isObject)(e) || (0, ke.isObject)(t)) ? null != e && null != t && function(e, t) {
+            function rd(e, t, n) {
+                return e === t || ("path" === n ? id(e, t) : e instanceof Date && t instanceof Date ? +e == +t : (0, Ee.isNumber)(e) && (0, Ee.isNumber)(t) ? Math.abs(e - t) <= nd : e && t && ((0, Ee.isObject)(e) || (0, Ee.isObject)(t)) ? null != e && null != t && function(e, t) {
                     var n, r, i = Object.keys(e),
                         a = Object.keys(t);
                     if (i.length !== a.length) return !1;
                     for (i.sort(), a.sort(), r = i.length - 1; r >= 0; r--)
                         if (i[r] != a[r]) return !1;
                     for (r = i.length - 1; r >= 0; r--)
-                        if (!If(e[n = i[r]], t[n], n)) return !1;
+                        if (!rd(e[n = i[r]], t[n], n)) return !1;
                     return typeof e == typeof t
                 }(e, t) : e == t)
             }
 
-            function Uf(e, t) {
-                return If(gs(e), gs(t))
+            function id(e, t) {
+                return rd(Ns(e), Ns(t))
             }
 
-            function jf(e) {
-                Di.call(this, null, e)
+            function ad(e) {
+                Ci.call(this, null, e)
             }
 
-            function Bf(e, t, n) {
+            function od(e, t, n) {
                 return t(e.bounds.clear(), e, n)
-            }(0, ke.inherits)(jf, Di).transform = function(e, t) {
+            }(0, Ee.inherits)(ad, Ci).transform = function(e, t) {
                 var n, r = t.dataflow,
                     i = e.mark,
                     a = i.marktype,
-                    o = kc[a],
+                    o = qc[a],
                     u = o.bound,
                     s = i.bounds;
-                return o.nested ? (i.items.length && r.dirty(i.items[0]), s = Bf(i, u), i.items.forEach((function(e) {
+                return o.nested ? (i.items.length && r.dirty(i.items[0]), s = od(i, u), i.items.forEach((function(e) {
                     e.bounds.clear().union(s)
                 }))) : "group" === a || e.modified() ? (t.visit(t.MOD, (function(e) {
                     r.dirty(e)
                 })), s.clear(), i.items.forEach((function(e) {
-                    s.union(Bf(e, u))
+                    s.union(od(e, u))
                 }))) : (n = t.changed(t.REM), t.visit(t.ADD, (function(e) {
-                    s.union(Bf(e, u))
+                    s.union(od(e, u))
                 })), t.visit(t.MOD, (function(e) {
-                    n = n || s.alignsWith(e.bounds), r.dirty(e), s.union(Bf(e, u))
+                    n = n || s.alignsWith(e.bounds), r.dirty(e), s.union(od(e, u))
                 })), n && (s.clear(), i.items.forEach((function(e) {
                     s.union(e.bounds)
-                })))), zf(i), t.modifies("bounds")
+                })))), td(i), t.modifies("bounds")
             };
-            var qf = ":vega_identifier:";
+            var ud = ":vega_identifier:";
 
-            function Hf(e) {
-                Di.call(this, 0, e)
+            function sd(e) {
+                Ci.call(this, 0, e)
             }
 
-            function Wf(e) {
-                Di.call(this, null, e)
+            function ld(e) {
+                Ci.call(this, null, e)
             }
-            Hf.Definition = {
+            sd.Definition = {
                 type: "Identifier",
                 metadata: {
                     modifies: !0
                 },
                 params: [{
                     name: "as",
                     type: "string",
                     required: !0
                 }]
-            }, (0, ke.inherits)(Hf, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(sd, Ci).transform = function(e, t) {
                 var n = function(e) {
-                        var t = e._signals[qf];
-                        return t || (e._signals[qf] = t = e.add(0)), t
+                        var t = e._signals[ud];
+                        return t || (e._signals[ud] = t = e.add(0)), t
                     }(t.dataflow),
                     r = n.value,
                     i = e.as;
                 return t.visit(t.ADD, (function(e) {
                     e[i] || (e[i] = ++r)
                 })), n.set(this.value = r), t
-            }, (0, ke.inherits)(Wf, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(ld, Ci).transform = function(e, t) {
                 var n = this.value;
                 n || ((n = t.dataflow.scenegraph().mark(e.markdef, function(e) {
                     var t = e.groups,
                         n = e.parent;
                     return t && 1 === t.size ? t.get(Object.keys(t.object)[0]) : t && n ? t.lookup(n) : null
                 }(e), e.index)).group.context = e.context, e.context.group || (e.context.group = n.group), n.source = this, n.clip = e.clip, n.interactive = e.interactive, this.value = n);
-                var r = "group" === n.marktype ? fu : cu;
+                var r = "group" === n.marktype ? Du : Mu;
                 return t.visit(t.ADD, (function(e) {
                     r.call(e, n)
                 })), (e.modified("clip") || e.modified("interactive")) && (n.clip = e.clip, n.interactive = !!e.interactive, n.zdirty = !0, t.reflow()), n.items = t.source, t
             };
-            var Yf = "top",
-                Vf = "left",
-                Gf = "right",
-                Xf = "bottom";
+            var cd = "top",
+                fd = "left",
+                dd = "right",
+                hd = "bottom";
 
-            function $f(e) {
-                Di.call(this, null, e)
+            function pd(e) {
+                Ci.call(this, null, e)
             }
-            var Kf = (0, ke.inherits)($f, Di),
-                Jf = {
+            var gd = (0, Ee.inherits)(pd, Ci),
+                md = {
                     parity: function(e) {
                         return e.filter((function(e, t) {
                             return t % 2 ? e.opacity = 0 : 1
                         }))
                     },
                     greedy: function(e) {
                         var t;
                         return e.filter((function(e, n) {
-                            return n && Qf(t.bounds, e.bounds) ? e.opacity = 0 : (t = e, 1)
+                            return n && vd(t.bounds, e.bounds) ? e.opacity = 0 : (t = e, 1)
                         }))
                     }
                 };
 
-            function Qf(e, t) {
+            function vd(e, t) {
                 return !(e.x2 - 1 < t.x1 || e.x1 + 1 > t.x2 || e.y2 - 1 < t.y1 || e.y1 + 1 > t.y2)
             }
 
-            function Zf(e) {
+            function yd(e) {
                 for (var t, n = 1, r = e.length, i = e[0].bounds; n < r; i = t, ++n)
-                    if (Qf(i, t = e[n].bounds)) return !0
+                    if (vd(i, t = e[n].bounds)) return !0
             }
 
-            function ed(e) {
+            function bd(e) {
                 var t = e.bounds;
                 return t.width() > 1 && t.height() > 1
             }
 
-            function td(e) {
-                Di.call(this, null, e)
+            function _d(e) {
+                Ci.call(this, null, e)
             }
+            gd.transform = function(e, t) {
+                var n = md[e.method] || md.parity,
+                    r = t.materialize(t.SOURCE).source;
+                if (r) {
+                    e.sort && (r = r.slice().sort(e.sort)), "greedy" === e.method && (r = r.filter(bd)), r.forEach((function(e) {
+                        e.opacity = 1
+                    }));
+                    var i = r;
+                    if (i.length >= 3 && yd(i)) {
+                        t = t.reflow(e.modified()).modifies("opacity");
+                        do {
+                            i = n(i)
+                        } while (i.length >= 3 && yd(i));
+                        i.length < 3 && !(0, Ee.peek)(r).opacity && (i.length > 1 && ((0, Ee.peek)(i).opacity = 0), (0, Ee.peek)(r).opacity = 1)
+                    }
+                    if (e.boundScale) {
+                        var a = function(e, t, n) {
+                            var r = e.range(),
+                                i = new Su;
+                            return t === cd || t === hd ? i.set(r[0], -1 / 0, r[1], 1 / 0) : i.set(-1 / 0, r[0], 1 / 0, r[1]), i.expand(n || 1),
+                                function(e) {
+                                    return i.encloses(e.bounds)
+                                }
+                        }(e.boundScale, e.boundOrient, e.boundTolerance);
+                        r.forEach((function(e) {
+                            a(e) || (e.opacity = 0)
+                        }))
+                    }
+                    return t
+                }
+            }, (0, Ee.inherits)(_d, Ci).transform = function(e, t) {
+                var n = t.dataflow;
+                if (t.visit(t.ALL, (function(e) {
+                        n.dirty(e)
+                    })), t.fields && t.fields.zindex) {
+                    var r = t.source && t.source[0];
+                    r && (r.mark.zdirty = !0)
+                }
+            };
 
-            function nd(e, t) {
+            function xd(e, t) {
                 for (var n = 0, r = e.length; n < r; ++n) t.push(e[n])
             }
 
-            function rd(e) {
+            function wd(e) {
                 return {
                     x1: 0,
                     y1: 0,
                     x2: e.width || 0,
                     y2: e.height || 0
                 }
             }
 
-            function id(e) {
+            function Sd(e) {
                 var t = e.bounds.clone();
                 return t.empty() ? t.set(0, 0, 0, 0) : t.translate(-(e.x || 0), -(e.y || 0))
             }
 
-            function ad(e, t) {
+            function Ed(e, t) {
                 return "x1" === t ? e.x || 0 : "y1" === t ? e.y || 0 : "x2" === t ? (e.x || 0) + (e.width || 0) : "y2" === t ? (e.y || 0) + (e.height || 0) : void 0
             }
 
-            function od(e, t) {
+            function Ad(e, t) {
                 return e.bounds[t]
             }
 
-            function ud(e, t, n) {
-                var r = (0, ke.isObject)(e) ? e[t] : e;
+            function kd(e, t, n) {
+                var r = (0, Ee.isObject)(e) ? e[t] : e;
                 return null != r ? r : void 0 !== n ? n : 0
             }
 
-            function sd(e) {
+            function Md(e) {
                 return e < 0 ? Math.ceil(-e) : 0
             }
 
-            function ld(e, t, n, r, i, a, o, u, s, l, c, f, d, h) {
+            function Dd(e, t, n, r, i, a, o, u, s, l, c, f, d, h) {
                 var p, g, m, v, y, b, _, x, w, S = n.length,
                     E = 0,
                     A = 0;
                 if (!S) return E;
                 for (p = c; p < S; p += f) n[p] && (E = o(E, s(n[p], l)));
                 if (!t.length) return E;
                 for (t.length > i && (e.warn("Grid headers exceed limit: " + i), t = t.slice(0, i)), E += a, g = 0, v = t.length; g < v; ++g) e.dirty(t[g]), t[g].mark.bounds.clear();
                 for (p = c, g = 0, v = t.length; g < v; ++g, p += f) {
                     for (y = (b = t[g]).mark.bounds, m = p; m >= 0 && null == (_ = n[m]); m -= d);
                     u ? (x = null == h ? _.x : Math.round(_.bounds.x1 + h * _.bounds.width()), w = E) : (x = E, w = null == h ? _.y : Math.round(_.bounds.y1 + h * _.bounds.height())), y.union(b.bounds.translate(x - (b.x || 0), w - (b.y || 0))), b.x = x, b.y = w, e.dirty(b), A = o(A, y[l])
                 }
                 return A
             }
 
-            function cd(e, t, n, r, i, a) {
+            function Cd(e, t, n, r, i, a) {
                 if (t) {
                     e.dirty(t);
                     var o = n,
                         u = n;
                     r ? o = Math.round(i.x1 + a * i.width()) : u = Math.round(i.y1 + a * i.height()), t.bounds.translate(o - (t.x || 0), u - (t.y || 0)), t.mark.bounds.clear().union(t.bounds), t.x = o, t.y = u, e.dirty(t)
                 }
             }
-            Kf.transform = function(e, t) {
-                var n = Jf[e.method] || Jf.parity,
-                    r = t.materialize(t.SOURCE).source;
-                if (r) {
-                    e.sort && (r = r.slice().sort(e.sort)), "greedy" === e.method && (r = r.filter(ed)), r.forEach((function(e) {
-                        e.opacity = 1
-                    }));
-                    var i = r;
-                    if (i.length >= 3 && Zf(i)) {
-                        t = t.reflow(e.modified()).modifies("opacity");
-                        do {
-                            i = n(i)
-                        } while (i.length >= 3 && Zf(i));
-                        i.length < 3 && !(0, ke.peek)(r).opacity && (i.length > 1 && ((0, ke.peek)(i).opacity = 0), (0, ke.peek)(r).opacity = 1)
-                    }
-                    if (e.boundScale) {
-                        var a = function(e, t, n) {
-                            var r = e.range(),
-                                i = new ou;
-                            return t === Yf || t === Xf ? i.set(r[0], -1 / 0, r[1], 1 / 0) : i.set(-1 / 0, r[0], 1 / 0, r[1]), i.expand(n || 1),
-                                function(e) {
-                                    return i.encloses(e.bounds)
-                                }
-                        }(e.boundScale, e.boundOrient, e.boundTolerance);
-                        r.forEach((function(e) {
-                            a(e) || (e.opacity = 0)
-                        }))
-                    }
-                    return t
-                }
-            }, (0, ke.inherits)(td, Di).transform = function(e, t) {
-                var n = t.dataflow;
-                if (t.visit(t.ALL, (function(e) {
-                        n.dirty(e)
-                    })), t.fields && t.fields.zindex) {
-                    var r = t.source && t.source[0];
-                    r && (r.mark.zdirty = !0)
-                }
-            };
-            var fd = new ou;
+            var Fd = new Su;
 
-            function dd(e) {
-                Di.call(this, null, e)
+            function Nd(e) {
+                Ci.call(this, null, e)
             }
 
-            function hd(e, t, n) {
+            function Od(e, t, n) {
                 return e[t] === n ? 0 : (e[t] = n, 1)
             }
 
-            function pd(e) {
+            function Td(e) {
                 var t = e.items[0].datum.orient;
-                return t === Vf || t === Gf
+                return t === fd || t === dd
             }
 
-            function gd(e, t, n, r) {
+            function Pd(e, t, n, r) {
                 var i, a, o = t.items[0],
                     u = o.datum,
                     s = u.orient,
                     l = function(e) {
                         var t = +e.grid;
                         return [e.ticks ? t++ : -1, e.labels ? t++ : -1, t + +e.domain]
                     }(u),
@@ -9360,60 +9403,60 @@
                     h = o.minExtent,
                     p = o.maxExtent,
                     g = u.title && o.items[l[2]].items[0],
                     m = o.titlePadding,
                     v = o.bounds,
                     y = 0,
                     b = 0;
-                switch (fd.clear().union(v), v.clear(), (i = l[0]) > -1 && v.union(o.items[i].bounds), (i = l[1]) > -1 && v.union(o.items[i].bounds), s) {
-                    case Yf:
-                        y = d || 0, b = -f, a = Math.max(h, Math.min(p, -v.y1)), g && (a = md(g, a, m, 0, -1, v)), v.add(0, -a).add(c, 0);
+                switch (Fd.clear().union(v), v.clear(), (i = l[0]) > -1 && v.union(o.items[i].bounds), (i = l[1]) > -1 && v.union(o.items[i].bounds), s) {
+                    case cd:
+                        y = d || 0, b = -f, a = Math.max(h, Math.min(p, -v.y1)), g && (a = Rd(g, a, m, 0, -1, v)), v.add(0, -a).add(c, 0);
                         break;
-                    case Vf:
-                        y = -f, b = d || 0, a = Math.max(h, Math.min(p, -v.x1)), g && (a = md(g, a, m, 1, -1, v)), v.add(-a, 0).add(0, c);
+                    case fd:
+                        y = -f, b = d || 0, a = Math.max(h, Math.min(p, -v.x1)), g && (a = Rd(g, a, m, 1, -1, v)), v.add(-a, 0).add(0, c);
                         break;
-                    case Gf:
-                        y = n + f, b = d || 0, a = Math.max(h, Math.min(p, v.x2)), g && (a = md(g, a, m, 1, 1, v)), v.add(0, 0).add(a, c);
+                    case dd:
+                        y = n + f, b = d || 0, a = Math.max(h, Math.min(p, v.x2)), g && (a = Rd(g, a, m, 1, 1, v)), v.add(0, 0).add(a, c);
                         break;
-                    case Xf:
-                        y = d || 0, b = r + f, a = Math.max(h, Math.min(p, v.y2)), g && (a = md(g, a, m, 0, 1, v)), v.add(0, 0).add(c, a);
+                    case hd:
+                        y = d || 0, b = r + f, a = Math.max(h, Math.min(p, v.y2)), g && (a = Rd(g, a, m, 0, 1, v)), v.add(0, 0).add(c, a);
                         break;
                     default:
                         y = o.x, b = o.y
                 }
-                return gl(v.translate(y, b), o), hd(o, "x", y + .5) | hd(o, "y", b + .5) && (o.bounds = fd, e.dirty(o), o.bounds = v, e.dirty(o)), o.mark.bounds.clear().union(v)
+                return Fl(v.translate(y, b), o), Od(o, "x", y + .5) | Od(o, "y", b + .5) && (o.bounds = Fd, e.dirty(o), o.bounds = v, e.dirty(o)), o.mark.bounds.clear().union(v)
             }
 
-            function md(e, t, n, r, i, a) {
+            function Rd(e, t, n, r, i, a) {
                 var o = e.bounds,
                     u = 0,
                     s = 0;
                 return e.auto ? (t += n, r ? u = (e.x || 0) - (e.x = i * t) : s = (e.y || 0) - (e.y = i * t), o.translate(-u, -s), e.mark.bounds.set(o.x1, o.y1, o.x2, o.y2), r ? (a.add(0, o.y1).add(0, o.y2), t += o.width()) : (a.add(o.x1, 0).add(o.x2, 0), t += o.height())) : a.union(o), t
             }
 
-            function vd(e, t, n, r, i, a, o) {
+            function Ld(e, t, n, r, i, a, o) {
                 var u, s, l, c = t.items[0],
                     f = c.datum.orient,
                     d = c.offset,
                     h = c.bounds,
                     p = 0,
                     g = 0;
-                switch (f === Yf || f === Xf ? (l = i, p = n[f]) : f !== Vf && f !== Gf || (l = r, g = n[f]), fd.clear().union(h), h.clear(), c.items.forEach((function(e) {
+                switch (f === cd || f === hd ? (l = i, p = n[f]) : f !== fd && f !== dd || (l = r, g = n[f]), Fd.clear().union(h), h.clear(), c.items.forEach((function(e) {
                         h.union(e.bounds)
                     })), u = Math.round(h.width()) + 2 * c.padding - 1, s = Math.round(h.height()) + 2 * c.padding - 1, f) {
-                    case Vf:
+                    case fd:
                         p -= u + d - Math.floor(l.x1), n.left += s + n.margin;
                         break;
-                    case Gf:
+                    case dd:
                         p += d + Math.ceil(l.x2), n.right += s + n.margin;
                         break;
-                    case Yf:
+                    case cd:
                         g -= s + d - Math.floor(l.y1), n.top += u + n.margin;
                         break;
-                    case Xf:
+                    case hd:
                         g += d + Math.ceil(l.y2), n.bottom += u + n.margin;
                         break;
                     case "top-left":
                         p += d, g += d;
                         break;
                     case "top-right":
                         p += a - u - d, g += d;
@@ -9423,16 +9466,16 @@
                         break;
                     case "bottom-right":
                         p += a - u - d, g += o - s - d;
                         break;
                     default:
                         p = c.x, g = c.y
                 }
-                return gl(h.set(p, g, p + u, g + s), c), hd(c, "x", p) | hd(c, "width", u) | hd(c, "y", g) | hd(c, "height", s) && (c.bounds = fd, e.dirty(c), c.bounds = h, e.dirty(c)), c.mark.bounds.clear().union(h)
-            }(0, ke.inherits)(dd, Di).transform = function(e, t) {
+                return Fl(h.set(p, g, p + u, g + s), c), Od(c, "x", p) | Od(c, "width", u) | Od(c, "y", g) | Od(c, "height", s) && (c.bounds = Fd, e.dirty(c), c.bounds = h, e.dirty(c)), c.mark.bounds.clear().union(h)
+            }(0, Ee.inherits)(Nd, Ci).transform = function(e, t) {
                 var n = t.dataflow;
                 return e.mark.items.forEach((function(t) {
                     e.layout && function(e, t, n) {
                             var r, i, a, o, u, s, l, c, f, d, h, p, g, m = function(e) {
                                     for (var t, n, r = e.items, i = r.length, a = 0, o = {
                                             marks: [],
                                             rowheaders: [],
@@ -9443,106 +9486,106 @@
                                             coltitle: null
                                         }; a < i; ++a)
                                         if (n = (t = r[a]).items, "group" === t.marktype) switch (t.role) {
                                             case "axis":
                                             case "legend":
                                                 break;
                                             case "row-header":
-                                                nd(n, o.rowheaders);
+                                                xd(n, o.rowheaders);
                                                 break;
                                             case "row-footer":
-                                                nd(n, o.rowfooters);
+                                                xd(n, o.rowfooters);
                                                 break;
                                             case "column-header":
-                                                nd(n, o.colheaders);
+                                                xd(n, o.colheaders);
                                                 break;
                                             case "column-footer":
-                                                nd(n, o.colfooters);
+                                                xd(n, o.colfooters);
                                                 break;
                                             case "row-title":
                                                 o.rowtitle = n[0];
                                                 break;
                                             case "column-title":
                                                 o.coltitle = n[0];
                                                 break;
                                             default:
-                                                nd(n, o.marks)
+                                                xd(n, o.marks)
                                         }
                                     return o
                                 }(t),
                                 v = m.marks,
                                 y = "flush" === n.bounds,
-                                b = y ? rd : id,
-                                _ = new ou(0, 0, 0, 0),
-                                x = ud(n.align, "column"),
-                                w = ud(n.align, "row"),
-                                S = ud(n.padding, "column"),
-                                E = ud(n.padding, "row"),
+                                b = y ? wd : Sd,
+                                _ = new Su(0, 0, 0, 0),
+                                x = kd(n.align, "column"),
+                                w = kd(n.align, "row"),
+                                S = kd(n.padding, "column"),
+                                E = kd(n.padding, "row"),
                                 A = n.offset,
                                 k = t.columns || n.columns || v.length,
                                 M = k < 0 ? 1 : Math.ceil(v.length / k),
                                 D = M * k,
                                 C = [],
                                 F = [],
                                 N = [],
-                                T = [],
-                                O = v.length;
+                                O = [],
+                                T = v.length;
                             for (i = 0; i < k; ++i) F[i] = 0;
-                            for (i = 0; i < M; ++i) T[i] = 0;
-                            for (i = 0; i < O; ++i) u = b(v[i]), o = ~~(i / k), l = (a = i % k) ? Math.ceil(b(v[i - 1]).x2) : 0, c = o ? Math.ceil(b(v[i - k]).y2) : 0, F[a] = Math.max(F[a], l), T[o] = Math.max(T[o], c), C.push(S + sd(u.x1)), N.push(E + sd(u.y1)), e.dirty(v[i]);
-                            for (i = 0; i < O; ++i) i % k == 0 && (C[i] = 0), i < k && (N[i] = 0);
+                            for (i = 0; i < M; ++i) O[i] = 0;
+                            for (i = 0; i < T; ++i) u = b(v[i]), o = ~~(i / k), l = (a = i % k) ? Math.ceil(b(v[i - 1]).x2) : 0, c = o ? Math.ceil(b(v[i - k]).y2) : 0, F[a] = Math.max(F[a], l), O[o] = Math.max(O[o], c), C.push(S + Md(u.x1)), N.push(E + Md(u.y1)), e.dirty(v[i]);
+                            for (i = 0; i < T; ++i) i % k == 0 && (C[i] = 0), i < k && (N[i] = 0);
                             if ("each" === x)
                                 for (a = 1; a < k; ++a) {
-                                    for (g = 0, i = a; i < O; i += k) g < C[i] && (g = C[i]);
-                                    for (i = a; i < O; i += k) C[i] = g + F[a]
+                                    for (g = 0, i = a; i < T; i += k) g < C[i] && (g = C[i]);
+                                    for (i = a; i < T; i += k) C[i] = g + F[a]
                                 } else if ("all" === x) {
                                     for (p = 0, a = 1; a < k; ++a) p < F[a] && (p = F[a]);
-                                    for (g = 0, i = 0; i < O; ++i) i % k && g < C[i] && (g = C[i]);
-                                    for (i = 0; i < O; ++i) i % k && (C[i] = g + p)
+                                    for (g = 0, i = 0; i < T; ++i) i % k && g < C[i] && (g = C[i]);
+                                    for (i = 0; i < T; ++i) i % k && (C[i] = g + p)
                                 } else
                                     for (a = 1; a < k; ++a)
-                                        for (i = a; i < O; i += k) C[i] += F[a];
+                                        for (i = a; i < T; i += k) C[i] += F[a];
                             if ("each" === w)
                                 for (o = 1; o < M; ++o) {
                                     for (g = 0, r = (i = o * k) + k; i < r; ++i) g < N[i] && (g = N[i]);
-                                    for (i = o * k; i < r; ++i) N[i] = g + T[o]
+                                    for (i = o * k; i < r; ++i) N[i] = g + O[o]
                                 } else if ("all" === w) {
-                                    for (p = 0, o = 1; o < M; ++o) p < T[o] && (p = T[o]);
-                                    for (g = 0, i = k; i < O; ++i) g < N[i] && (g = N[i]);
-                                    for (i = k; i < O; ++i) N[i] = g + p
+                                    for (p = 0, o = 1; o < M; ++o) p < O[o] && (p = O[o]);
+                                    for (g = 0, i = k; i < T; ++i) g < N[i] && (g = N[i]);
+                                    for (i = k; i < T; ++i) N[i] = g + p
                                 } else
                                     for (o = 1; o < M; ++o)
-                                        for (r = (i = o * k) + k; i < r; ++i) N[i] += T[o];
-                            for (f = 0, i = 0; i < O; ++i) l = (s = v[i]).x || 0, s.x = f = C[i] + (i % k ? f : 0), s.bounds.translate(f - l, 0);
+                                        for (r = (i = o * k) + k; i < r; ++i) N[i] += O[o];
+                            for (f = 0, i = 0; i < T; ++i) l = (s = v[i]).x || 0, s.x = f = C[i] + (i % k ? f : 0), s.bounds.translate(f - l, 0);
                             for (a = 0; a < k; ++a)
-                                for (d = 0, i = a; i < O; i += k) c = (s = v[i]).y || 0, s.y = d += N[i], s.bounds.translate(0, d - c);
-                            for (i = 0; i < O; ++i) v[i].mark.bounds.clear();
-                            for (i = 0; i < O; ++i) s = v[i], e.dirty(s), _.union(s.mark.bounds.union(s.bounds));
+                                for (d = 0, i = a; i < T; i += k) c = (s = v[i]).y || 0, s.y = d += N[i], s.bounds.translate(0, d - c);
+                            for (i = 0; i < T; ++i) v[i].mark.bounds.clear();
+                            for (i = 0; i < T; ++i) s = v[i], e.dirty(s), _.union(s.mark.bounds.union(s.bounds));
 
                             function P(e, t) {
                                 return Math.floor(Math.min(e, t))
                             }
 
                             function R(e, t) {
                                 return Math.ceil(Math.max(e, t))
                             }
-                            b = y ? ad : od, h = ud(n.headerBand, "row", null), f = ld(e, m.rowheaders, v, 0, M, -ud(A, "rowHeader"), P, 0, b, "x1", 0, k, 1, h), h = ud(n.headerBand, "column", null), d = ld(e, m.colheaders, v, 0, k, -ud(A, "columnHeader"), P, 1, b, "y1", 0, 1, k, h), h = ud(n.footerBand, "row", null), ld(e, m.rowfooters, v, 0, M, ud(A, "rowFooter"), R, 0, b, "x2", k - 1, k, 1, h), h = ud(n.footerBand, "column", null), ld(e, m.colfooters, v, 0, k, ud(A, "columnFooter"), R, 1, b, "y2", D - k, 1, k, h), m.rowtitle && (g = f - ud(A, "rowTitle"), h = ud(n.titleBand, "row", .5), cd(e, m.rowtitle, g, 0, _, h)), m.coltitle && (g = d - ud(A, "columnTitle"), h = ud(n.titleBand, "column", .5), cd(e, m.coltitle, g, 1, _, h))
+                            b = y ? Ed : Ad, h = kd(n.headerBand, "row", null), f = Dd(e, m.rowheaders, v, 0, M, -kd(A, "rowHeader"), P, 0, b, "x1", 0, k, 1, h), h = kd(n.headerBand, "column", null), d = Dd(e, m.colheaders, v, 0, k, -kd(A, "columnHeader"), P, 1, b, "y1", 0, 1, k, h), h = kd(n.footerBand, "row", null), Dd(e, m.rowfooters, v, 0, M, kd(A, "rowFooter"), R, 0, b, "x2", k - 1, k, 1, h), h = kd(n.footerBand, "column", null), Dd(e, m.colfooters, v, 0, k, kd(A, "columnFooter"), R, 1, b, "y2", D - k, 1, k, h), m.rowtitle && (g = f - kd(A, "rowTitle"), h = kd(n.titleBand, "row", .5), Cd(e, m.rowtitle, g, 0, _, h)), m.coltitle && (g = d - kd(A, "columnTitle"), h = kd(n.titleBand, "column", .5), Cd(e, m.coltitle, g, 1, _, h))
                         }(n, t, e.layout),
                         function(e, t, n) {
                             var r, i, a, o, u, s, l = t.items,
                                 c = Math.max(0, t.width || 0),
                                 f = Math.max(0, t.height || 0),
-                                d = (new ou).set(0, 0, c, f),
+                                d = (new Su).set(0, 0, c, f),
                                 h = d.clone(),
                                 p = d.clone(),
                                 g = d.clone(),
                                 m = [];
                             for (u = 0, s = l.length; u < s; ++u) switch ((i = l[u]).role) {
                                 case "axis":
-                                    h.union(o = gd(e, i, c, f)), (pd(i) ? p : g).union(o);
+                                    h.union(o = Pd(e, i, c, f)), (Td(i) ? p : g).union(o);
                                     break;
                                 case "title":
                                     r = i;
                                     break;
                                 case "legend":
                                     m.push(i);
                                     break;
@@ -9560,42 +9603,42 @@
                             if (r && (h.union(o = function(e, t, n) {
                                     var r = t.items[0],
                                         i = r.datum.orient,
                                         a = r.offset,
                                         o = r.bounds,
                                         u = 0,
                                         s = 0;
-                                    switch (fd.clear().union(o), i) {
-                                        case Yf:
+                                    switch (Fd.clear().union(o), i) {
+                                        case cd:
                                             u = r.x, s = n.y1 - a;
                                             break;
-                                        case Vf:
+                                        case fd:
                                             u = n.x1 - a, s = r.y;
                                             break;
-                                        case Gf:
+                                        case dd:
                                             u = n.x2 + a, s = r.y;
                                             break;
-                                        case Xf:
+                                        case hd:
                                             u = r.x, s = n.y2 + a;
                                             break;
                                         default:
                                             u = r.x, s = r.y
                                     }
-                                    return o.translate(u - r.x, s - r.y), hd(r, "x", u) | hd(r, "y", s) && (r.bounds = fd, e.dirty(r), r.bounds = o, e.dirty(r)), t.bounds.clear().union(o)
-                                }(e, r, h)), (pd(r) ? p : g).union(o)), m.length)
+                                    return o.translate(u - r.x, s - r.y), Od(r, "x", u) | Od(r, "y", s) && (r.bounds = Fd, e.dirty(r), r.bounds = o, e.dirty(r)), t.bounds.clear().union(o)
+                                }(e, r, h)), (Td(r) ? p : g).union(o)), m.length)
                                 for (a = {
                                         left: 0,
                                         right: 0,
                                         top: 0,
                                         bottom: 0,
                                         margin: n.legendMargin || 8
                                     }, u = 0, s = m.length; u < s; ++u)
-                                    if (o = vd(e, m[u], a, p, g, c, f), n.autosize && "fit" === n.autosize.type) {
+                                    if (o = Ld(e, m[u], a, p, g, c, f), n.autosize && "fit" === n.autosize.type) {
                                         var v = m[u].items[0].datum.orient;
-                                        v === Vf || v === Gf ? d.add(o.x1, 0).add(o.x2, 0) : v !== Yf && v !== Xf || d.add(0, o.y1).add(0, o.y2)
+                                        v === fd || v === dd ? d.add(o.x1, 0).add(o.x2, 0) : v !== cd && v !== hd || d.add(0, o.y1).add(0, o.y2)
                                     } else d.union(o);
                             d.union(p).union(g).union(h),
                                 function(e, t, n, r) {
                                     var i = r.autosize || {},
                                         a = i.type,
                                         o = e._width,
                                         u = e._height,
@@ -9609,41 +9652,48 @@
                                             p = Math.max(0, Math.ceil(n.y2 - d));
                                         "padding" === i.contains && (o -= s.left + s.right, u -= s.top + s.bottom), "none" === a ? (c = 0, h = 0, l = o, d = u) : "fit" === a ? (l = Math.max(0, o - c - f), d = Math.max(0, u - h - p)) : "fit-x" === a ? (l = Math.max(0, o - c - f), u = d + h + p) : "fit-y" === a ? (o = l + c + f, d = Math.max(0, u - h - p)) : "pad" === a && (o = l + c + f, u = d + h + p), e._resizeView(o, u, l, d, [c, h], i.resize)
                                     }
                                 }(e, t, d, n)
                         }(n, t, e)
                 })), t
             };
-            var yd = "log",
-                bd = "pow",
-                _d = "sqrt",
-                xd = "point",
-                wd = "linear",
-                Sd = "ordinal",
-                Ed = "bin-ordinal",
-                Ad = "sequential";
+            var zd = "log",
+                Id = "pow",
+                jd = "sqrt",
+                Bd = "point",
+                Ud = "linear",
+                qd = "ordinal",
+                Hd = "quantile",
+                Wd = "quantize",
+                Vd = "threshold",
+                Gd = "bin-ordinal",
+                Yd = "sequential";
 
-            function kd(e, t, n) {
+            function Xd(e, t, n) {
                 var r = e - t + 2 * n;
                 return e ? r > 0 ? r : 1 : 0
             }
 
-            function Md(e) {
+            function $d(e, t) {
+                return e < t ? -1 : e > t ? 1 : e >= t ? 0 : NaN
+            }
+
+            function Kd(e) {
                 let t = e,
                     n = e;
 
                 function r(e, t, r, i) {
                     for (null == r && (r = 0), null == i && (i = e.length); r < i;) {
                         const a = r + i >>> 1;
                         n(e[a], t) < 0 ? r = a + 1 : i = a
                     }
                     return r
                 }
                 return 1 === e.length && (t = (t, n) => e(t) - n, n = function(e) {
-                    return (t, n) => Bi(e(t), n)
+                    return (t, n) => $d(e(t), n)
                 }(e)), {
                     left: r,
                     center: function(e, n, i, a) {
                         null == i && (i = 0), null == a && (a = e.length);
                         const o = r(e, n, i, a - 1);
                         return o > i && t(e[o - 1], n) > -t(e[o], n) ? o - 1 : o
                     },
@@ -9652,164 +9702,92 @@
                             const a = r + i >>> 1;
                             n(e[a], t) > 0 ? i = a : r = a + 1
                         }
                         return r
                     }
                 }
             }
-            const Dd = Md(Bi),
-                Cd = Dd.right,
-                Fd = (Dd.left, Md(Vi).center, Cd);
-
-            function Nd(e, t) {
-                return e < t ? -1 : e > t ? 1 : e >= t ? 0 : NaN
-            }
-
-            function Td(e) {
-                var t;
-                return 1 === e.length && (t = e, e = function(e, n) {
-                    return Nd(t(e), n)
-                }), {
-                    left: function(t, n, r, i) {
-                        for (null == r && (r = 0), null == i && (i = t.length); r < i;) {
-                            var a = r + i >>> 1;
-                            e(t[a], n) < 0 ? r = a + 1 : i = a
-                        }
-                        return r
-                    },
-                    right: function(t, n, r, i) {
-                        for (null == r && (r = 0), null == i && (i = t.length); r < i;) {
-                            var a = r + i >>> 1;
-                            e(t[a], n) > 0 ? i = a : r = a + 1
-                        }
-                        return r
-                    }
-                }
-            }
-            var Od = Td(Nd),
-                Pd = Od.right;
-            Od.left;
-            const Rd = Pd;
-            var Ld = Array.prototype,
-                zd = (Ld.slice, Ld.map, Math.sqrt(50)),
-                Id = Math.sqrt(10),
-                Ud = Math.sqrt(2);
+            const Jd = Kd($d),
+                Qd = Jd.right,
+                Zd = (Jd.left, Kd((function(e) {
+                    return null === e ? NaN : +e
+                })).center, Qd);
+            var eh = Array.prototype,
+                th = eh.map,
+                nh = eh.slice;
 
-            function jd(e, t, n) {
-                var r, i, a, o, u = -1;
-                if (n = +n, (e = +e) == (t = +t) && n > 0) return [e];
-                if ((r = t < e) && (i = e, e = t, t = i), 0 === (o = Bd(e, t, n)) || !isFinite(o)) return [];
-                if (o > 0)
-                    for (e = Math.ceil(e / o), t = Math.floor(t / o), a = new Array(i = Math.ceil(t - e + 1)); ++u < i;) a[u] = (e + u) * o;
-                else
-                    for (e = Math.floor(e * o), t = Math.ceil(t * o), a = new Array(i = Math.ceil(e - t + 1)); ++u < i;) a[u] = (e - u) / o;
-                return r && a.reverse(), a
-            }
-
-            function Bd(e, t, n) {
-                var r = (t - e) / Math.max(0, n),
-                    i = Math.floor(Math.log(r) / Math.LN10),
-                    a = r / Math.pow(10, i);
-                return i >= 0 ? (a >= zd ? 10 : a >= Id ? 5 : a >= Ud ? 2 : 1) * Math.pow(10, i) : -Math.pow(10, -i) / (a >= zd ? 10 : a >= Id ? 5 : a >= Ud ? 2 : 1)
-            }
-
-            function qd(e, t, n) {
-                var r = Math.abs(t - e) / Math.max(0, n),
-                    i = Math.pow(10, Math.floor(Math.log(r) / Math.LN10)),
-                    a = r / i;
-                return a >= zd ? i *= 10 : a >= Id ? i *= 5 : a >= Ud && (i *= 2), t < e ? -i : i
-            }
-
-            function Hd(e) {
-                return null === e ? NaN : +e
-            }
-
-            function Wd(e, t, n) {
-                if (null == n && (n = Hd), r = e.length) {
-                    if ((t = +t) <= 0 || r < 2) return +n(e[0], 0, e);
-                    if (t >= 1) return +n(e[r - 1], r - 1, e);
-                    var r, i = (r - 1) * t,
-                        a = Math.floor(i),
-                        o = +n(e[a], a, e);
-                    return o + (+n(e[a + 1], a + 1, e) - o) * (i - a)
-                }
-            }
-            var Yd = Array.prototype,
-                Vd = Yd.map,
-                Gd = Yd.slice;
-
-            function Xd(e, t) {
+            function rh(e, t) {
                 switch (arguments.length) {
                     case 0:
                         break;
                     case 1:
                         this.range(e);
                         break;
                     default:
                         this.range(t).domain(e)
                 }
                 return this
             }
-            var $d = {
+            var ih = {
                 name: "implicit"
             };
 
-            function Kd() {
-                var e = et(),
+            function ah() {
+                var e = Qe(),
                     t = [],
                     n = [],
-                    r = $d;
+                    r = ih;
 
                 function i(i) {
                     var a = i + "",
                         o = e.get(a);
                     if (!o) {
-                        if (r !== $d) return r;
+                        if (r !== ih) return r;
                         e.set(a, o = t.push(i))
                     }
                     return n[(o - 1) % n.length]
                 }
                 return i.domain = function(n) {
                     if (!arguments.length) return t.slice();
-                    t = [], e = et();
+                    t = [], e = Qe();
                     for (var r, a, o = -1, u = n.length; ++o < u;) e.has(a = (r = n[o]) + "") || e.set(a, t.push(r));
                     return i
                 }, i.range = function(e) {
-                    return arguments.length ? (n = Gd.call(e), i) : n.slice()
+                    return arguments.length ? (n = nh.call(e), i) : n.slice()
                 }, i.unknown = function(e) {
                     return arguments.length ? (r = e, i) : r
                 }, i.copy = function() {
-                    return Kd(t, n).unknown(r)
-                }, Xd.apply(i, arguments), i
+                    return ah(t, n).unknown(r)
+                }, rh.apply(i, arguments), i
             }
 
-            function Jd(e, t, n) {
+            function oh(e, t, n) {
                 e.prototype = t.prototype = n, n.constructor = e
             }
 
-            function Qd(e, t) {
+            function uh(e, t) {
                 var n = Object.create(e.prototype);
                 for (var r in t) n[r] = t[r];
                 return n
             }
 
-            function Zd() {}
-            var eh = .7,
-                th = 1 / eh,
-                nh = "\\s*([+-]?\\d+)\\s*",
-                rh = "\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",
-                ih = "\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",
-                ah = /^#([0-9a-f]{3,8})$/,
-                oh = new RegExp("^rgb\\(" + [nh, nh, nh] + "\\)$"),
-                uh = new RegExp("^rgb\\(" + [ih, ih, ih] + "\\)$"),
-                sh = new RegExp("^rgba\\(" + [nh, nh, nh, rh] + "\\)$"),
-                lh = new RegExp("^rgba\\(" + [ih, ih, ih, rh] + "\\)$"),
-                ch = new RegExp("^hsl\\(" + [rh, ih, ih] + "\\)$"),
-                fh = new RegExp("^hsla\\(" + [rh, ih, ih, rh] + "\\)$"),
-                dh = {
+            function sh() {}
+            var lh = .7,
+                ch = 1 / lh,
+                fh = "\\s*([+-]?\\d+)\\s*",
+                dh = "\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",
+                hh = "\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",
+                ph = /^#([0-9a-f]{3,8})$/,
+                gh = new RegExp("^rgb\\(" + [fh, fh, fh] + "\\)$"),
+                mh = new RegExp("^rgb\\(" + [hh, hh, hh] + "\\)$"),
+                vh = new RegExp("^rgba\\(" + [fh, fh, fh, dh] + "\\)$"),
+                yh = new RegExp("^rgba\\(" + [hh, hh, hh, dh] + "\\)$"),
+                bh = new RegExp("^hsl\\(" + [dh, hh, hh] + "\\)$"),
+                _h = new RegExp("^hsla\\(" + [dh, hh, hh, dh] + "\\)$"),
+                xh = {
                     aliceblue: 15792383,
                     antiquewhite: 16444375,
                     aqua: 65535,
                     aquamarine: 8388564,
                     azure: 15794175,
                     beige: 16119260,
                     bisque: 16770244,
@@ -9952,465 +9930,465 @@
                     wheat: 16113331,
                     white: 16777215,
                     whitesmoke: 16119285,
                     yellow: 16776960,
                     yellowgreen: 10145074
                 };
 
-            function hh() {
+            function wh() {
                 return this.rgb().formatHex()
             }
 
-            function ph() {
+            function Sh() {
                 return this.rgb().formatRgb()
             }
 
-            function gh(e) {
+            function Eh(e) {
                 var t, n;
-                return e = (e + "").trim().toLowerCase(), (t = ah.exec(e)) ? (n = t[1].length, t = parseInt(t[1], 16), 6 === n ? mh(t) : 3 === n ? new _h(t >> 8 & 15 | t >> 4 & 240, t >> 4 & 15 | 240 & t, (15 & t) << 4 | 15 & t, 1) : 8 === n ? vh(t >> 24 & 255, t >> 16 & 255, t >> 8 & 255, (255 & t) / 255) : 4 === n ? vh(t >> 12 & 15 | t >> 8 & 240, t >> 8 & 15 | t >> 4 & 240, t >> 4 & 15 | 240 & t, ((15 & t) << 4 | 15 & t) / 255) : null) : (t = oh.exec(e)) ? new _h(t[1], t[2], t[3], 1) : (t = uh.exec(e)) ? new _h(255 * t[1] / 100, 255 * t[2] / 100, 255 * t[3] / 100, 1) : (t = sh.exec(e)) ? vh(t[1], t[2], t[3], t[4]) : (t = lh.exec(e)) ? vh(255 * t[1] / 100, 255 * t[2] / 100, 255 * t[3] / 100, t[4]) : (t = ch.exec(e)) ? Eh(t[1], t[2] / 100, t[3] / 100, 1) : (t = fh.exec(e)) ? Eh(t[1], t[2] / 100, t[3] / 100, t[4]) : dh.hasOwnProperty(e) ? mh(dh[e]) : "transparent" === e ? new _h(NaN, NaN, NaN, 0) : null
+                return e = (e + "").trim().toLowerCase(), (t = ph.exec(e)) ? (n = t[1].length, t = parseInt(t[1], 16), 6 === n ? Ah(t) : 3 === n ? new Ch(t >> 8 & 15 | t >> 4 & 240, t >> 4 & 15 | 240 & t, (15 & t) << 4 | 15 & t, 1) : 8 === n ? kh(t >> 24 & 255, t >> 16 & 255, t >> 8 & 255, (255 & t) / 255) : 4 === n ? kh(t >> 12 & 15 | t >> 8 & 240, t >> 8 & 15 | t >> 4 & 240, t >> 4 & 15 | 240 & t, ((15 & t) << 4 | 15 & t) / 255) : null) : (t = gh.exec(e)) ? new Ch(t[1], t[2], t[3], 1) : (t = mh.exec(e)) ? new Ch(255 * t[1] / 100, 255 * t[2] / 100, 255 * t[3] / 100, 1) : (t = vh.exec(e)) ? kh(t[1], t[2], t[3], t[4]) : (t = yh.exec(e)) ? kh(255 * t[1] / 100, 255 * t[2] / 100, 255 * t[3] / 100, t[4]) : (t = bh.exec(e)) ? Th(t[1], t[2] / 100, t[3] / 100, 1) : (t = _h.exec(e)) ? Th(t[1], t[2] / 100, t[3] / 100, t[4]) : xh.hasOwnProperty(e) ? Ah(xh[e]) : "transparent" === e ? new Ch(NaN, NaN, NaN, 0) : null
             }
 
-            function mh(e) {
-                return new _h(e >> 16 & 255, e >> 8 & 255, 255 & e, 1)
+            function Ah(e) {
+                return new Ch(e >> 16 & 255, e >> 8 & 255, 255 & e, 1)
             }
 
-            function vh(e, t, n, r) {
-                return r <= 0 && (e = t = n = NaN), new _h(e, t, n, r)
+            function kh(e, t, n, r) {
+                return r <= 0 && (e = t = n = NaN), new Ch(e, t, n, r)
             }
 
-            function yh(e) {
-                return e instanceof Zd || (e = gh(e)), e ? new _h((e = e.rgb()).r, e.g, e.b, e.opacity) : new _h
+            function Mh(e) {
+                return e instanceof sh || (e = Eh(e)), e ? new Ch((e = e.rgb()).r, e.g, e.b, e.opacity) : new Ch
             }
 
-            function bh(e, t, n, r) {
-                return 1 === arguments.length ? yh(e) : new _h(e, t, n, null == r ? 1 : r)
+            function Dh(e, t, n, r) {
+                return 1 === arguments.length ? Mh(e) : new Ch(e, t, n, null == r ? 1 : r)
             }
 
-            function _h(e, t, n, r) {
+            function Ch(e, t, n, r) {
                 this.r = +e, this.g = +t, this.b = +n, this.opacity = +r
             }
 
-            function xh() {
-                return "#" + Sh(this.r) + Sh(this.g) + Sh(this.b)
+            function Fh() {
+                return "#" + Oh(this.r) + Oh(this.g) + Oh(this.b)
             }
 
-            function wh() {
+            function Nh() {
                 var e = this.opacity;
                 return (1 === (e = isNaN(e) ? 1 : Math.max(0, Math.min(1, e))) ? "rgb(" : "rgba(") + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + ", " + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + ", " + Math.max(0, Math.min(255, Math.round(this.b) || 0)) + (1 === e ? ")" : ", " + e + ")")
             }
 
-            function Sh(e) {
+            function Oh(e) {
                 return ((e = Math.max(0, Math.min(255, Math.round(e) || 0))) < 16 ? "0" : "") + e.toString(16)
             }
 
-            function Eh(e, t, n, r) {
-                return r <= 0 ? e = t = n = NaN : n <= 0 || n >= 1 ? e = t = NaN : t <= 0 && (e = NaN), new Mh(e, t, n, r)
+            function Th(e, t, n, r) {
+                return r <= 0 ? e = t = n = NaN : n <= 0 || n >= 1 ? e = t = NaN : t <= 0 && (e = NaN), new Lh(e, t, n, r)
             }
 
-            function Ah(e) {
-                if (e instanceof Mh) return new Mh(e.h, e.s, e.l, e.opacity);
-                if (e instanceof Zd || (e = gh(e)), !e) return new Mh;
-                if (e instanceof Mh) return e;
+            function Ph(e) {
+                if (e instanceof Lh) return new Lh(e.h, e.s, e.l, e.opacity);
+                if (e instanceof sh || (e = Eh(e)), !e) return new Lh;
+                if (e instanceof Lh) return e;
                 var t = (e = e.rgb()).r / 255,
                     n = e.g / 255,
                     r = e.b / 255,
                     i = Math.min(t, n, r),
                     a = Math.max(t, n, r),
                     o = NaN,
                     u = a - i,
                     s = (a + i) / 2;
-                return u ? (o = t === a ? (n - r) / u + 6 * (n < r) : n === a ? (r - t) / u + 2 : (t - n) / u + 4, u /= s < .5 ? a + i : 2 - a - i, o *= 60) : u = s > 0 && s < 1 ? 0 : o, new Mh(o, u, s, e.opacity)
+                return u ? (o = t === a ? (n - r) / u + 6 * (n < r) : n === a ? (r - t) / u + 2 : (t - n) / u + 4, u /= s < .5 ? a + i : 2 - a - i, o *= 60) : u = s > 0 && s < 1 ? 0 : o, new Lh(o, u, s, e.opacity)
             }
 
-            function kh(e, t, n, r) {
-                return 1 === arguments.length ? Ah(e) : new Mh(e, t, n, null == r ? 1 : r)
+            function Rh(e, t, n, r) {
+                return 1 === arguments.length ? Ph(e) : new Lh(e, t, n, null == r ? 1 : r)
             }
 
-            function Mh(e, t, n, r) {
+            function Lh(e, t, n, r) {
                 this.h = +e, this.s = +t, this.l = +n, this.opacity = +r
             }
 
-            function Dh(e, t, n) {
+            function zh(e, t, n) {
                 return 255 * (e < 60 ? t + (n - t) * e / 60 : e < 180 ? n : e < 240 ? t + (n - t) * (240 - e) / 60 : t)
             }
 
-            function Ch(e, t, n, r, i) {
+            function Ih(e, t, n, r, i) {
                 var a = e * e,
                     o = a * e;
                 return ((1 - 3 * e + 3 * a - o) * t + (4 - 6 * a + 3 * o) * n + (1 + 3 * e + 3 * a - 3 * o) * r + o * i) / 6
             }
 
-            function Fh(e) {
+            function jh(e) {
                 var t = e.length - 1;
                 return function(n) {
                     var r = n <= 0 ? n = 0 : n >= 1 ? (n = 1, t - 1) : Math.floor(n * t),
                         i = e[r],
                         a = e[r + 1],
                         o = r > 0 ? e[r - 1] : 2 * i - a,
                         u = r < t - 1 ? e[r + 2] : 2 * a - i;
-                    return Ch((n - r / t) * t, o, i, a, u)
+                    return Ih((n - r / t) * t, o, i, a, u)
                 }
             }
 
-            function Nh(e) {
+            function Bh(e) {
                 var t = e.length;
                 return function(n) {
                     var r = Math.floor(((n %= 1) < 0 ? ++n : n) * t),
                         i = e[(r + t - 1) % t],
                         a = e[r % t],
                         o = e[(r + 1) % t],
                         u = e[(r + 2) % t];
-                    return Ch((n - r / t) * t, i, a, o, u)
+                    return Ih((n - r / t) * t, i, a, o, u)
                 }
             }
 
-            function Th(e) {
+            function Uh(e) {
                 return function() {
                     return e
                 }
             }
 
-            function Oh(e, t) {
+            function qh(e, t) {
                 return function(n) {
                     return e + n * t
                 }
             }
 
-            function Ph(e, t) {
+            function Hh(e, t) {
                 var n = t - e;
-                return n ? Oh(e, n > 180 || n < -180 ? n - 360 * Math.round(n / 360) : n) : Th(isNaN(e) ? t : e)
+                return n ? qh(e, n > 180 || n < -180 ? n - 360 * Math.round(n / 360) : n) : Uh(isNaN(e) ? t : e)
             }
 
-            function Rh(e, t) {
+            function Wh(e, t) {
                 var n = t - e;
-                return n ? Oh(e, n) : Th(isNaN(e) ? t : e)
+                return n ? qh(e, n) : Uh(isNaN(e) ? t : e)
             }
-            Jd(Zd, gh, {
+            oh(sh, Eh, {
                 copy: function(e) {
                     return Object.assign(new this.constructor, this, e)
                 },
                 displayable: function() {
                     return this.rgb().displayable()
                 },
-                hex: hh,
-                formatHex: hh,
+                hex: wh,
+                formatHex: wh,
                 formatHsl: function() {
-                    return Ah(this).formatHsl()
+                    return Ph(this).formatHsl()
                 },
-                formatRgb: ph,
-                toString: ph
-            }), Jd(_h, bh, Qd(Zd, {
+                formatRgb: Sh,
+                toString: Sh
+            }), oh(Ch, Dh, uh(sh, {
                 brighter: function(e) {
-                    return e = null == e ? th : Math.pow(th, e), new _h(this.r * e, this.g * e, this.b * e, this.opacity)
+                    return e = null == e ? ch : Math.pow(ch, e), new Ch(this.r * e, this.g * e, this.b * e, this.opacity)
                 },
                 darker: function(e) {
-                    return e = null == e ? eh : Math.pow(eh, e), new _h(this.r * e, this.g * e, this.b * e, this.opacity)
+                    return e = null == e ? lh : Math.pow(lh, e), new Ch(this.r * e, this.g * e, this.b * e, this.opacity)
                 },
                 rgb: function() {
                     return this
                 },
                 displayable: function() {
                     return -.5 <= this.r && this.r < 255.5 && -.5 <= this.g && this.g < 255.5 && -.5 <= this.b && this.b < 255.5 && 0 <= this.opacity && this.opacity <= 1
                 },
-                hex: xh,
-                formatHex: xh,
-                formatRgb: wh,
-                toString: wh
-            })), Jd(Mh, kh, Qd(Zd, {
+                hex: Fh,
+                formatHex: Fh,
+                formatRgb: Nh,
+                toString: Nh
+            })), oh(Lh, Rh, uh(sh, {
                 brighter: function(e) {
-                    return e = null == e ? th : Math.pow(th, e), new Mh(this.h, this.s, this.l * e, this.opacity)
+                    return e = null == e ? ch : Math.pow(ch, e), new Lh(this.h, this.s, this.l * e, this.opacity)
                 },
                 darker: function(e) {
-                    return e = null == e ? eh : Math.pow(eh, e), new Mh(this.h, this.s, this.l * e, this.opacity)
+                    return e = null == e ? lh : Math.pow(lh, e), new Lh(this.h, this.s, this.l * e, this.opacity)
                 },
                 rgb: function() {
                     var e = this.h % 360 + 360 * (this.h < 0),
                         t = isNaN(e) || isNaN(this.s) ? 0 : this.s,
                         n = this.l,
                         r = n + (n < .5 ? n : 1 - n) * t,
                         i = 2 * n - r;
-                    return new _h(Dh(e >= 240 ? e - 240 : e + 120, i, r), Dh(e, i, r), Dh(e < 120 ? e + 240 : e - 120, i, r), this.opacity)
+                    return new Ch(zh(e >= 240 ? e - 240 : e + 120, i, r), zh(e, i, r), zh(e < 120 ? e + 240 : e - 120, i, r), this.opacity)
                 },
                 displayable: function() {
                     return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1
                 },
                 formatHsl: function() {
                     var e = this.opacity;
                     return (1 === (e = isNaN(e) ? 1 : Math.max(0, Math.min(1, e))) ? "hsl(" : "hsla(") + (this.h || 0) + ", " + 100 * (this.s || 0) + "%, " + 100 * (this.l || 0) + "%" + (1 === e ? ")" : ", " + e + ")")
                 }
             }));
-            const Lh = function e(t) {
+            const Vh = function e(t) {
                 var n = function(e) {
-                    return 1 == (e = +e) ? Rh : function(t, n) {
+                    return 1 == (e = +e) ? Wh : function(t, n) {
                         return n - t ? function(e, t, n) {
                             return e = Math.pow(e, n), t = Math.pow(t, n) - e, n = 1 / n,
                                 function(r) {
                                     return Math.pow(e + r * t, n)
                                 }
-                        }(t, n, e) : Th(isNaN(t) ? n : t)
+                        }(t, n, e) : Uh(isNaN(t) ? n : t)
                     }
                 }(t);
 
                 function r(e, t) {
-                    var r = n((e = bh(e)).r, (t = bh(t)).r),
+                    var r = n((e = Dh(e)).r, (t = Dh(t)).r),
                         i = n(e.g, t.g),
                         a = n(e.b, t.b),
-                        o = Rh(e.opacity, t.opacity);
+                        o = Wh(e.opacity, t.opacity);
                     return function(t) {
                         return e.r = r(t), e.g = i(t), e.b = a(t), e.opacity = o(t), e + ""
                     }
                 }
                 return r.gamma = e, r
             }(1);
 
-            function zh(e) {
+            function Gh(e) {
                 return function(t) {
                     var n, r, i = t.length,
                         a = new Array(i),
                         o = new Array(i),
                         u = new Array(i);
-                    for (n = 0; n < i; ++n) r = bh(t[n]), a[n] = r.r || 0, o[n] = r.g || 0, u[n] = r.b || 0;
+                    for (n = 0; n < i; ++n) r = Dh(t[n]), a[n] = r.r || 0, o[n] = r.g || 0, u[n] = r.b || 0;
                     return a = e(a), o = e(o), u = e(u), r.opacity = 1,
                         function(e) {
                             return r.r = a(e), r.g = o(e), r.b = u(e), r + ""
                         }
                 }
             }
-            var Ih = zh(Fh),
-                Uh = zh(Nh);
+            var Yh = Gh(jh),
+                Xh = Gh(Bh);
 
-            function jh(e, t) {
+            function $h(e, t) {
                 t || (t = []);
                 var n, r = e ? Math.min(t.length, e.length) : 0,
                     i = t.slice();
                 return function(a) {
                     for (n = 0; n < r; ++n) i[n] = e[n] * (1 - a) + t[n] * a;
                     return i
                 }
             }
 
-            function Bh(e) {
+            function Kh(e) {
                 return ArrayBuffer.isView(e) && !(e instanceof DataView)
             }
 
-            function qh(e, t) {
-                return (Bh(t) ? jh : Hh)(e, t)
+            function Jh(e, t) {
+                return (Kh(t) ? $h : Qh)(e, t)
             }
 
-            function Hh(e, t) {
+            function Qh(e, t) {
                 var n, r = t ? t.length : 0,
                     i = e ? Math.min(r, e.length) : 0,
                     a = new Array(i),
                     o = new Array(r);
-                for (n = 0; n < i; ++n) a[n] = Kh(e[n], t[n]);
+                for (n = 0; n < i; ++n) a[n] = ap(e[n], t[n]);
                 for (; n < r; ++n) o[n] = t[n];
                 return function(e) {
                     for (n = 0; n < i; ++n) o[n] = a[n](e);
                     return o
                 }
             }
 
-            function Wh(e, t) {
+            function Zh(e, t) {
                 var n = new Date;
                 return e = +e, t = +t,
                     function(r) {
                         return n.setTime(e * (1 - r) + t * r), n
                     }
             }
 
-            function Yh(e, t) {
+            function ep(e, t) {
                 return e = +e, t = +t,
                     function(n) {
                         return e * (1 - n) + t * n
                     }
             }
 
-            function Vh(e, t) {
+            function tp(e, t) {
                 var n, r = {},
                     i = {};
-                for (n in null !== e && "object" == typeof e || (e = {}), null !== t && "object" == typeof t || (t = {}), t) n in e ? r[n] = Kh(e[n], t[n]) : i[n] = t[n];
+                for (n in null !== e && "object" == typeof e || (e = {}), null !== t && "object" == typeof t || (t = {}), t) n in e ? r[n] = ap(e[n], t[n]) : i[n] = t[n];
                 return function(e) {
                     for (n in r) i[n] = r[n](e);
                     return i
                 }
             }
-            var Gh = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,
-                Xh = new RegExp(Gh.source, "g");
+            var np = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,
+                rp = new RegExp(np.source, "g");
 
-            function $h(e, t) {
-                var n, r, i, a = Gh.lastIndex = Xh.lastIndex = 0,
+            function ip(e, t) {
+                var n, r, i, a = np.lastIndex = rp.lastIndex = 0,
                     o = -1,
                     u = [],
                     s = [];
                 for (e += "", t += "";
-                    (n = Gh.exec(e)) && (r = Xh.exec(t));)(i = r.index) > a && (i = t.slice(a, i), u[o] ? u[o] += i : u[++o] = i), (n = n[0]) === (r = r[0]) ? u[o] ? u[o] += r : u[++o] = r : (u[++o] = null, s.push({
+                    (n = np.exec(e)) && (r = rp.exec(t));)(i = r.index) > a && (i = t.slice(a, i), u[o] ? u[o] += i : u[++o] = i), (n = n[0]) === (r = r[0]) ? u[o] ? u[o] += r : u[++o] = r : (u[++o] = null, s.push({
                     i: o,
-                    x: Yh(n, r)
-                })), a = Xh.lastIndex;
+                    x: ep(n, r)
+                })), a = rp.lastIndex;
                 return a < t.length && (i = t.slice(a), u[o] ? u[o] += i : u[++o] = i), u.length < 2 ? s[0] ? function(e) {
                     return function(t) {
                         return e(t) + ""
                     }
                 }(s[0].x) : function(e) {
                     return function() {
                         return e
                     }
                 }(t) : (t = s.length, function(e) {
                     for (var n, r = 0; r < t; ++r) u[(n = s[r]).i] = n.x(e);
                     return u.join("")
                 })
             }
 
-            function Kh(e, t) {
+            function ap(e, t) {
                 var n, r = typeof t;
-                return null == t || "boolean" === r ? Th(t) : ("number" === r ? Yh : "string" === r ? (n = gh(t)) ? (t = n, Lh) : $h : t instanceof gh ? Lh : t instanceof Date ? Wh : Bh(t) ? jh : Array.isArray(t) ? Hh : "function" != typeof t.valueOf && "function" != typeof t.toString || isNaN(t) ? Vh : Yh)(e, t)
+                return null == t || "boolean" === r ? Uh(t) : ("number" === r ? ep : "string" === r ? (n = Eh(t)) ? (t = n, Vh) : ip : t instanceof Eh ? Vh : t instanceof Date ? Zh : Kh(t) ? $h : Array.isArray(t) ? Qh : "function" != typeof t.valueOf && "function" != typeof t.toString || isNaN(t) ? tp : ep)(e, t)
             }
 
-            function Jh(e, t) {
+            function op(e, t) {
                 return e = +e, t = +t,
                     function(n) {
                         return Math.round(e * (1 - n) + t * n)
                     }
             }
 
-            function Qh(e) {
+            function up(e) {
                 return +e
             }
-            var Zh = [0, 1];
+            var sp = [0, 1];
 
-            function ep(e) {
+            function lp(e) {
                 return e
             }
 
-            function tp(e, t) {
+            function cp(e, t) {
                 return (t -= e = +e) ? function(n) {
                     return (n - e) / t
                 } : function(e) {
                     return function() {
                         return e
                     }
                 }(isNaN(t) ? NaN : .5)
             }
 
-            function np(e) {
+            function fp(e) {
                 var t, n = e[0],
                     r = e[e.length - 1];
                 return n > r && (t = n, n = r, r = t),
                     function(e) {
                         return Math.max(n, Math.min(r, e))
                     }
             }
 
-            function rp(e, t, n) {
+            function dp(e, t, n) {
                 var r = e[0],
                     i = e[1],
                     a = t[0],
                     o = t[1];
-                return i < r ? (r = tp(i, r), a = n(o, a)) : (r = tp(r, i), a = n(a, o)),
+                return i < r ? (r = cp(i, r), a = n(o, a)) : (r = cp(r, i), a = n(a, o)),
                     function(e) {
                         return a(r(e))
                     }
             }
 
-            function ip(e, t, n) {
+            function hp(e, t, n) {
                 var r = Math.min(e.length, t.length) - 1,
                     i = new Array(r),
                     a = new Array(r),
                     o = -1;
-                for (e[r] < e[0] && (e = e.slice().reverse(), t = t.slice().reverse()); ++o < r;) i[o] = tp(e[o], e[o + 1]), a[o] = n(t[o], t[o + 1]);
+                for (e[r] < e[0] && (e = e.slice().reverse(), t = t.slice().reverse()); ++o < r;) i[o] = cp(e[o], e[o + 1]), a[o] = n(t[o], t[o + 1]);
                 return function(t) {
-                    var n = Rd(e, t, 1, r) - 1;
+                    var n = po(e, t, 1, r) - 1;
                     return a[n](i[n](t))
                 }
             }
 
-            function ap(e, t) {
+            function pp(e, t) {
                 return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())
             }
 
-            function op() {
-                var e, t, n, r, i, a, o = Zh,
-                    u = Zh,
-                    s = Kh,
-                    l = ep;
+            function gp() {
+                var e, t, n, r, i, a, o = sp,
+                    u = sp,
+                    s = ap,
+                    l = lp;
 
                 function c() {
-                    return r = Math.min(o.length, u.length) > 2 ? ip : rp, i = a = null, f
+                    return r = Math.min(o.length, u.length) > 2 ? hp : dp, i = a = null, f
                 }
 
                 function f(t) {
                     return isNaN(t = +t) ? n : (i || (i = r(o.map(e), u, s)))(e(l(t)))
                 }
                 return f.invert = function(n) {
-                        return l(t((a || (a = r(u, o.map(e), Yh)))(n)))
+                        return l(t((a || (a = r(u, o.map(e), ep)))(n)))
                     }, f.domain = function(e) {
-                        return arguments.length ? (o = Vd.call(e, Qh), l === ep || (l = np(o)), c()) : o.slice()
+                        return arguments.length ? (o = th.call(e, up), l === lp || (l = fp(o)), c()) : o.slice()
                     }, f.range = function(e) {
-                        return arguments.length ? (u = Gd.call(e), c()) : u.slice()
+                        return arguments.length ? (u = nh.call(e), c()) : u.slice()
                     }, f.rangeRound = function(e) {
-                        return u = Gd.call(e), s = Jh, c()
+                        return u = nh.call(e), s = op, c()
                     }, f.clamp = function(e) {
-                        return arguments.length ? (l = e ? np(o) : ep, f) : l !== ep
+                        return arguments.length ? (l = e ? fp(o) : lp, f) : l !== lp
                     }, f.interpolate = function(e) {
                         return arguments.length ? (s = e, c()) : s
                     }, f.unknown = function(e) {
                         return arguments.length ? (n = e, f) : n
                     },
                     function(n, r) {
                         return e = n, t = r, c()
                     }
             }
 
-            function up(e, t) {
-                return op()(e, t)
+            function mp(e, t) {
+                return gp()(e, t)
             }
-            var sp, lp = /^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;
+            var vp, yp = /^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;
 
-            function cp(e) {
-                if (!(t = lp.exec(e))) throw new Error("invalid format: " + e);
+            function bp(e) {
+                if (!(t = yp.exec(e))) throw new Error("invalid format: " + e);
                 var t;
-                return new fp({
+                return new _p({
                     fill: t[1],
                     align: t[2],
                     sign: t[3],
                     symbol: t[4],
                     zero: t[5],
                     width: t[6],
                     comma: t[7],
                     precision: t[8] && t[8].slice(1),
                     trim: t[9],
                     type: t[10]
                 })
             }
 
-            function fp(e) {
+            function _p(e) {
                 this.fill = void 0 === e.fill ? " " : e.fill + "", this.align = void 0 === e.align ? ">" : e.align + "", this.sign = void 0 === e.sign ? "-" : e.sign + "", this.symbol = void 0 === e.symbol ? "" : e.symbol + "", this.zero = !!e.zero, this.width = void 0 === e.width ? void 0 : +e.width, this.comma = !!e.comma, this.precision = void 0 === e.precision ? void 0 : +e.precision, this.trim = !!e.trim, this.type = void 0 === e.type ? "" : e.type + ""
             }
 
-            function dp(e, t) {
+            function xp(e, t) {
                 if ((n = (e = t ? e.toExponential(t - 1) : e.toExponential()).indexOf("e")) < 0) return null;
                 var n, r = e.slice(0, n);
                 return [r.length > 1 ? r[0] + r.slice(2) : r, +e.slice(n + 1)]
             }
 
-            function hp(e) {
-                return (e = dp(Math.abs(e))) ? e[1] : NaN
+            function wp(e) {
+                return (e = xp(Math.abs(e))) ? e[1] : NaN
             }
 
-            function pp(e, t) {
-                var n = dp(e, t);
+            function Sp(e, t) {
+                var n = xp(e, t);
                 if (!n) return e + "";
                 var r = n[0],
                     i = n[1];
                 return i < 0 ? "0." + new Array(-i).join("0") + r : r.length > i + 1 ? r.slice(0, i + 1) + "." + r.slice(i + 1) : r + new Array(i - r.length + 2).join("0")
             }
-            cp.prototype = fp.prototype, fp.prototype.toString = function() {
+            bp.prototype = _p.prototype, _p.prototype.toString = function() {
                 return this.fill + this.align + this.sign + this.symbol + (this.zero ? "0" : "") + (void 0 === this.width ? "" : Math.max(1, 0 | this.width)) + (this.comma ? "," : "") + (void 0 === this.precision ? "" : "." + Math.max(0, 0 | this.precision)) + (this.trim ? "~" : "") + this.type
             };
-            const gp = {
+            const Ep = {
                 "%": function(e, t) {
                     return (100 * e).toFixed(t)
                 },
                 b: function(e) {
                     return Math.round(e).toString(2)
                 },
                 c: function(e) {
@@ -10428,75 +10406,75 @@
                 g: function(e, t) {
                     return e.toPrecision(t)
                 },
                 o: function(e) {
                     return Math.round(e).toString(8)
                 },
                 p: function(e, t) {
-                    return pp(100 * e, t)
+                    return Sp(100 * e, t)
                 },
-                r: pp,
+                r: Sp,
                 s: function(e, t) {
-                    var n = dp(e, t);
+                    var n = xp(e, t);
                     if (!n) return e + "";
                     var r = n[0],
                         i = n[1],
-                        a = i - (sp = 3 * Math.max(-8, Math.min(8, Math.floor(i / 3)))) + 1,
+                        a = i - (vp = 3 * Math.max(-8, Math.min(8, Math.floor(i / 3)))) + 1,
                         o = r.length;
-                    return a === o ? r : a > o ? r + new Array(a - o + 1).join("0") : a > 0 ? r.slice(0, a) + "." + r.slice(a) : "0." + new Array(1 - a).join("0") + dp(e, Math.max(0, t + a - 1))[0]
+                    return a === o ? r : a > o ? r + new Array(a - o + 1).join("0") : a > 0 ? r.slice(0, a) + "." + r.slice(a) : "0." + new Array(1 - a).join("0") + xp(e, Math.max(0, t + a - 1))[0]
                 },
                 X: function(e) {
                     return Math.round(e).toString(16).toUpperCase()
                 },
                 x: function(e) {
                     return Math.round(e).toString(16)
                 }
             };
 
-            function mp(e) {
+            function Ap(e) {
                 return e
             }
-            var vp, yp, bp, _p = Array.prototype.map,
-                xp = ["y", "z", "a", "f", "p", "n", "µ", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y"];
+            var kp, Mp, Dp, Cp = Array.prototype.map,
+                Fp = ["y", "z", "a", "f", "p", "n", "µ", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y"];
 
-            function wp(e) {
-                return vp = function(e) {
-                    var t, n, r = void 0 === e.grouping || void 0 === e.thousands ? mp : (t = _p.call(e.grouping, Number), n = e.thousands + "", function(e, r) {
+            function Np(e) {
+                return kp = function(e) {
+                    var t, n, r = void 0 === e.grouping || void 0 === e.thousands ? Ap : (t = Cp.call(e.grouping, Number), n = e.thousands + "", function(e, r) {
                             for (var i = e.length, a = [], o = 0, u = t[0], s = 0; i > 0 && u > 0 && (s + u + 1 > r && (u = Math.max(1, r - s)), a.push(e.substring(i -= u, i + u)), !((s += u + 1) > r));) u = t[o = (o + 1) % t.length];
                             return a.reverse().join(n)
                         }),
                         i = void 0 === e.currency ? "" : e.currency[0] + "",
                         a = void 0 === e.currency ? "" : e.currency[1] + "",
                         o = void 0 === e.decimal ? "." : e.decimal + "",
-                        u = void 0 === e.numerals ? mp : function(e) {
+                        u = void 0 === e.numerals ? Ap : function(e) {
                             return function(t) {
                                 return t.replace(/[0-9]/g, (function(t) {
                                     return e[+t]
                                 }))
                             }
-                        }(_p.call(e.numerals, String)),
+                        }(Cp.call(e.numerals, String)),
                         s = void 0 === e.percent ? "%" : e.percent + "",
                         l = void 0 === e.minus ? "-" : e.minus + "",
                         c = void 0 === e.nan ? "NaN" : e.nan + "";
 
                     function f(e) {
-                        var t = (e = cp(e)).fill,
+                        var t = (e = bp(e)).fill,
                             n = e.align,
                             f = e.sign,
                             d = e.symbol,
                             h = e.zero,
                             p = e.width,
                             g = e.comma,
                             m = e.precision,
                             v = e.trim,
                             y = e.type;
-                        "n" === y ? (g = !0, y = "g") : gp[y] || (void 0 === m && (m = 12), v = !0, y = "g"), (h || "0" === t && "=" === n) && (h = !0, t = "0", n = "=");
+                        "n" === y ? (g = !0, y = "g") : Ep[y] || (void 0 === m && (m = 12), v = !0, y = "g"), (h || "0" === t && "=" === n) && (h = !0, t = "0", n = "=");
                         var b = "$" === d ? i : "#" === d && /[boxX]/.test(y) ? "0" + y.toLowerCase() : "",
                             _ = "$" === d ? a : /[%p]/.test(y) ? s : "",
-                            x = gp[y],
+                            x = Ep[y],
                             w = /[defgprs%]/.test(y);
 
                         function S(e) {
                             var i, a, s, d = b,
                                 S = _;
                             if ("c" === y) S = x(e) + S, e = "";
                             else {
@@ -10510,15 +10488,15 @@
                                                 0 === i && (i = r), t = r;
                                                 break;
                                             default:
                                                 if (!+e[r]) break e;
                                                 i > 0 && (i = 0)
                                         }
                                         return i > 0 ? e.slice(0, i) + e.slice(t + 1) : e
-                                    }(e)), E && 0 == +e && "+" !== f && (E = !1), d = (E ? "(" === f ? f : l : "-" === f || "(" === f ? "" : f) + d, S = ("s" === y ? xp[8 + sp / 3] : "") + S + (E && "(" === f ? ")" : ""), w)
+                                    }(e)), E && 0 == +e && "+" !== f && (E = !1), d = (E ? "(" === f ? f : l : "-" === f || "(" === f ? "" : f) + d, S = ("s" === y ? Fp[8 + vp / 3] : "") + S + (E && "(" === f ? ")" : ""), w)
                                     for (i = -1, a = e.length; ++i < a;)
                                         if (48 > (s = e.charCodeAt(i)) || s > 57) {
                                             S = (46 === s ? o + e.slice(i + 1) : e.slice(i)) + S, e = e.slice(0, i);
                                             break
                                         }
                             }
                             g && !h && (e = r(e, 1 / 0));
@@ -10542,544 +10520,333 @@
                         return m = void 0 === m ? 6 : /[gprs]/.test(y) ? Math.max(1, Math.min(21, m)) : Math.max(0, Math.min(20, m)), S.toString = function() {
                             return e + ""
                         }, S
                     }
                     return {
                         format: f,
                         formatPrefix: function(e, t) {
-                            var n = f(((e = cp(e)).type = "f", e)),
-                                r = 3 * Math.max(-8, Math.min(8, Math.floor(hp(t) / 3))),
+                            var n = f(((e = bp(e)).type = "f", e)),
+                                r = 3 * Math.max(-8, Math.min(8, Math.floor(wp(t) / 3))),
                                 i = Math.pow(10, -r),
-                                a = xp[8 + r / 3];
+                                a = Fp[8 + r / 3];
                             return function(e) {
                                 return n(i * e) + a
                             }
                         }
                     }
-                }(e), yp = vp.format, bp = vp.formatPrefix, vp
+                }(e), Mp = kp.format, Dp = kp.formatPrefix, kp
             }
 
-            function Sp(e) {
+            function Op(e) {
                 var t = e.domain;
                 return e.ticks = function(e) {
                     var n = t();
-                    return jd(n[0], n[n.length - 1], null == e ? 10 : e)
+                    return _o(n[0], n[n.length - 1], null == e ? 10 : e)
                 }, e.tickFormat = function(e, n) {
                     var r = t();
                     return function(e, t, n, r) {
-                        var i, a = qd(e, t, n);
-                        switch ((r = cp(null == r ? ",f" : r)).type) {
+                        var i, a = wo(e, t, n);
+                        switch ((r = bp(null == r ? ",f" : r)).type) {
                             case "s":
                                 var o = Math.max(Math.abs(e), Math.abs(t));
                                 return null != r.precision || isNaN(i = function(e, t) {
-                                    return Math.max(0, 3 * Math.max(-8, Math.min(8, Math.floor(hp(t) / 3))) - hp(Math.abs(e)))
-                                }(a, o)) || (r.precision = i), bp(r, o);
+                                    return Math.max(0, 3 * Math.max(-8, Math.min(8, Math.floor(wp(t) / 3))) - wp(Math.abs(e)))
+                                }(a, o)) || (r.precision = i), Dp(r, o);
                             case "":
                             case "e":
                             case "g":
                             case "p":
                             case "r":
                                 null != r.precision || isNaN(i = function(e, t) {
-                                    return e = Math.abs(e), t = Math.abs(t) - e, Math.max(0, hp(t) - hp(e)) + 1
+                                    return e = Math.abs(e), t = Math.abs(t) - e, Math.max(0, wp(t) - wp(e)) + 1
                                 }(a, Math.max(Math.abs(e), Math.abs(t)))) || (r.precision = i - ("e" === r.type));
                                 break;
                             case "f":
                             case "%":
                                 null != r.precision || isNaN(i = function(e) {
-                                    return Math.max(0, -hp(Math.abs(e)))
+                                    return Math.max(0, -wp(Math.abs(e)))
                                 }(a)) || (r.precision = i - 2 * ("%" === r.type))
                         }
-                        return yp(r)
+                        return Mp(r)
                     }(r[0], r[r.length - 1], null == e ? 10 : e, n)
                 }, e.nice = function(n) {
                     null == n && (n = 10);
                     var r, i = t(),
                         a = 0,
                         o = i.length - 1,
                         u = i[a],
                         s = i[o];
-                    return s < u && (r = u, u = s, s = r, r = a, a = o, o = r), (r = Bd(u, s, n)) > 0 ? r = Bd(u = Math.floor(u / r) * r, s = Math.ceil(s / r) * r, n) : r < 0 && (r = Bd(u = Math.ceil(u * r) / r, s = Math.floor(s * r) / r, n)), r > 0 ? (i[a] = Math.floor(u / r) * r, i[o] = Math.ceil(s / r) * r, t(i)) : r < 0 && (i[a] = Math.ceil(u * r) / r, i[o] = Math.floor(s * r) / r, t(i)), e
+                    return s < u && (r = u, u = s, s = r, r = a, a = o, o = r), (r = xo(u, s, n)) > 0 ? r = xo(u = Math.floor(u / r) * r, s = Math.ceil(s / r) * r, n) : r < 0 && (r = xo(u = Math.ceil(u * r) / r, s = Math.floor(s * r) / r, n)), r > 0 ? (i[a] = Math.floor(u / r) * r, i[o] = Math.ceil(s / r) * r, t(i)) : r < 0 && (i[a] = Math.ceil(u * r) / r, i[o] = Math.floor(s * r) / r, t(i)), e
                 }, e
             }
 
-            function Ep() {
-                var e = up(ep, ep);
+            function Tp() {
+                var e = mp(lp, lp);
                 return e.copy = function() {
-                    return ap(e, Ep())
-                }, Xd.apply(e, arguments), Sp(e)
+                    return pp(e, Tp())
+                }, rh.apply(e, arguments), Op(e)
             }
 
-            function Ap(e, t) {
+            function Pp(e, t) {
                 var n, r = 0,
                     i = (e = e.slice()).length - 1,
                     a = e[r],
                     o = e[i];
                 return o < a && (n = r, r = i, i = n, n = a, a = o, o = n), e[r] = t.floor(a), e[i] = t.ceil(o), e
             }
 
-            function kp(e) {
+            function Rp(e) {
                 return Math.log(e)
             }
 
-            function Mp(e) {
+            function Lp(e) {
                 return Math.exp(e)
             }
 
-            function Dp(e) {
+            function zp(e) {
                 return -Math.log(-e)
             }
 
-            function Cp(e) {
+            function Ip(e) {
                 return -Math.exp(-e)
             }
 
-            function Fp(e) {
+            function jp(e) {
                 return isFinite(e) ? +("1e" + e) : e < 0 ? 0 : e
             }
 
-            function Np(e) {
+            function Bp(e) {
                 return function(t) {
                     return -e(-t)
                 }
             }
 
-            function Tp(e) {
-                var t, n, r = e(kp, Mp),
-                    i = r.domain,
-                    a = 10;
-
-                function o() {
-                    return t = function(e) {
-                        return e === Math.E ? Math.log : 10 === e && Math.log10 || 2 === e && Math.log2 || (e = Math.log(e), function(t) {
-                            return Math.log(t) / e
-                        })
-                    }(a), n = function(e) {
-                        return 10 === e ? Fp : e === Math.E ? Math.exp : function(t) {
-                            return Math.pow(e, t)
-                        }
-                    }(a), i()[0] < 0 ? (t = Np(t), n = Np(n), e(Dp, Cp)) : e(kp, Mp), r
-                }
-                return r.base = function(e) {
-                    return arguments.length ? (a = +e, o()) : a
-                }, r.domain = function(e) {
-                    return arguments.length ? (i(e), o()) : i()
-                }, r.ticks = function(e) {
-                    var r, o = i(),
-                        u = o[0],
-                        s = o[o.length - 1];
-                    (r = s < u) && (d = u, u = s, s = d);
-                    var l, c, f, d = t(u),
-                        h = t(s),
-                        p = null == e ? 10 : +e,
-                        g = [];
-                    if (!(a % 1) && h - d < p) {
-                        if (d = Math.round(d) - 1, h = Math.round(h) + 1, u > 0) {
-                            for (; d < h; ++d)
-                                for (c = 1, l = n(d); c < a; ++c)
-                                    if (!((f = l * c) < u)) {
-                                        if (f > s) break;
-                                        g.push(f)
-                                    }
-                        } else
-                            for (; d < h; ++d)
-                                for (c = a - 1, l = n(d); c >= 1; --c)
-                                    if (!((f = l * c) < u)) {
-                                        if (f > s) break;
-                                        g.push(f)
-                                    }
-                    } else g = jd(d, h, Math.min(h - d, p)).map(n);
-                    return r ? g.reverse() : g
-                }, r.tickFormat = function(e, i) {
-                    if (null == i && (i = 10 === a ? ".0e" : ","), "function" != typeof i && (i = yp(i)), e === 1 / 0) return i;
-                    null == e && (e = 10);
-                    var o = Math.max(1, a * e / r.ticks().length);
-                    return function(e) {
-                        var r = e / n(Math.round(t(e)));
-                        return r * a < a - .5 && (r *= a), r <= o ? i(e) : ""
-                    }
-                }, r.nice = function() {
-                    return i(Ap(i(), {
-                        floor: function(e) {
-                            return n(Math.floor(t(e)))
-                        },
-                        ceil: function(e) {
-                            return n(Math.ceil(t(e)))
-                        }
-                    }))
-                }, r
-            }
-
-            function Op(e) {
+            function Up(e) {
                 return function(t) {
                     return t < 0 ? -Math.pow(-t, e) : Math.pow(t, e)
                 }
             }
 
-            function Pp(e) {
+            function qp(e) {
                 return e < 0 ? -Math.sqrt(-e) : Math.sqrt(e)
             }
 
-            function Rp(e) {
+            function Hp(e) {
                 return e < 0 ? -e * e : e * e
             }
 
-            function Lp(e) {
-                var t = e(ep, ep),
-                    n = 1;
-
-                function r() {
-                    return 1 === n ? e(ep, ep) : .5 === n ? e(Pp, Rp) : e(Op(n), Op(1 / n))
-                }
-                return t.exponent = function(e) {
-                    return arguments.length ? (n = +e, r()) : n
-                }, Sp(t)
-            }
-
-            function zp() {
-                var e = Lp(op());
+            function Wp() {
+                var e = function(e) {
+                    var t = e(lp, lp),
+                        n = 1;
+                    return t.exponent = function(t) {
+                        return arguments.length ? 1 == (n = +t) ? e(lp, lp) : .5 === n ? e(qp, Hp) : e(Up(n), Up(1 / n)) : n
+                    }, Op(t)
+                }(gp());
                 return e.copy = function() {
-                    return ap(e, zp()).exponent(e.exponent())
-                }, Xd.apply(e, arguments), e
+                    return pp(e, Wp()).exponent(e.exponent())
+                }, rh.apply(e, arguments), e
             }
-            wp({
+            Np({
                 decimal: ".",
                 thousands: ",",
                 grouping: [3],
                 currency: ["$", ""],
                 minus: "-"
             });
-            var Ip = new Date,
-                Up = new Date;
-
-            function jp(e, t, n, r) {
-                function i(t) {
-                    return e(t = 0 === arguments.length ? new Date : new Date(+t)), t
-                }
-                return i.floor = function(t) {
-                    return e(t = new Date(+t)), t
-                }, i.ceil = function(n) {
-                    return e(n = new Date(n - 1)), t(n, 1), e(n), n
-                }, i.round = function(e) {
-                    var t = i(e),
-                        n = i.ceil(e);
-                    return e - t < n - e ? t : n
-                }, i.offset = function(e, n) {
-                    return t(e = new Date(+e), null == n ? 1 : Math.floor(n)), e
-                }, i.range = function(n, r, a) {
-                    var o, u = [];
-                    if (n = i.ceil(n), a = null == a ? 1 : Math.floor(a), !(n < r && a > 0)) return u;
-                    do {
-                        u.push(o = new Date(+n)), t(n, a), e(n)
-                    } while (o < n && n < r);
-                    return u
-                }, i.filter = function(n) {
-                    return jp((function(t) {
-                        if (t >= t)
-                            for (; e(t), !n(t);) t.setTime(t - 1)
-                    }), (function(e, r) {
-                        if (e >= e)
-                            if (r < 0)
-                                for (; ++r <= 0;)
-                                    for (; t(e, -1), !n(e););
-                            else
-                                for (; --r >= 0;)
-                                    for (; t(e, 1), !n(e););
-                    }))
-                }, n && (i.count = function(t, r) {
-                    return Ip.setTime(+t), Up.setTime(+r), e(Ip), e(Up), Math.floor(n(Ip, Up))
-                }, i.every = function(e) {
-                    return e = Math.floor(e), isFinite(e) && e > 0 ? e > 1 ? i.filter(r ? function(t) {
-                        return r(t) % e == 0
-                    } : function(t) {
-                        return i.count(0, t) % e == 0
-                    }) : i : null
-                }), i
-            }
-            var Bp = jp((function(e) {
-                e.setMonth(0, 1), e.setHours(0, 0, 0, 0)
-            }), (function(e, t) {
-                e.setFullYear(e.getFullYear() + t)
-            }), (function(e, t) {
-                return t.getFullYear() - e.getFullYear()
-            }), (function(e) {
-                return e.getFullYear()
-            }));
-            Bp.every = function(e) {
-                return isFinite(e = Math.floor(e)) && e > 0 ? jp((function(t) {
-                    t.setFullYear(Math.floor(t.getFullYear() / e) * e), t.setMonth(0, 1), t.setHours(0, 0, 0, 0)
-                }), (function(t, n) {
-                    t.setFullYear(t.getFullYear() + n * e)
-                })) : null
-            };
-            const qp = Bp;
-            Bp.range;
-            var Hp = jp((function(e) {
+            var Vp = on((function(e) {
                 e.setDate(1), e.setHours(0, 0, 0, 0)
             }), (function(e, t) {
                 e.setMonth(e.getMonth() + t)
             }), (function(e, t) {
                 return t.getMonth() - e.getMonth() + 12 * (t.getFullYear() - e.getFullYear())
             }), (function(e) {
                 return e.getMonth()
             }));
-            const Wp = Hp;
-            Hp.range;
-            var Yp = 1e3,
-                Vp = 6e4,
-                Gp = 36e5,
-                Xp = 864e5,
-                $p = 6048e5;
-
-            function Kp(e) {
-                return jp((function(t) {
-                    t.setDate(t.getDate() - (t.getDay() + 7 - e) % 7), t.setHours(0, 0, 0, 0)
-                }), (function(e, t) {
-                    e.setDate(e.getDate() + 7 * t)
-                }), (function(e, t) {
-                    return (t - e - (t.getTimezoneOffset() - e.getTimezoneOffset()) * Vp) / $p
-                }))
-            }
-            var Jp = Kp(0),
-                Qp = Kp(1),
-                Zp = Kp(2),
-                eg = Kp(3),
-                tg = Kp(4),
-                ng = Kp(5),
-                rg = Kp(6),
-                ig = (Jp.range, Qp.range, Zp.range, eg.range, tg.range, ng.range, rg.range, jp((function(e) {
-                    e.setHours(0, 0, 0, 0)
-                }), (function(e, t) {
-                    e.setDate(e.getDate() + t)
-                }), (function(e, t) {
-                    return (t - e - (t.getTimezoneOffset() - e.getTimezoneOffset()) * Vp) / Xp
-                }), (function(e) {
-                    return e.getDate() - 1
-                })));
-            const ag = ig;
-            ig.range;
-            var og = jp((function(e) {
-                e.setTime(e - e.getMilliseconds() - e.getSeconds() * Yp - e.getMinutes() * Vp)
+            const Gp = Vp;
+            Vp.range;
+            var Yp = on((function(e) {
+                e.setTime(e - e.getMilliseconds() - e.getSeconds() * un - e.getMinutes() * sn)
             }), (function(e, t) {
-                e.setTime(+e + t * Gp)
+                e.setTime(+e + t * ln)
             }), (function(e, t) {
-                return (t - e) / Gp
+                return (t - e) / ln
             }), (function(e) {
                 return e.getHours()
             }));
-            const ug = og;
-            og.range;
-            var sg = jp((function(e) {
-                e.setTime(e - e.getMilliseconds() - e.getSeconds() * Yp)
+            const Xp = Yp;
+            Yp.range;
+            var $p = on((function(e) {
+                e.setTime(e - e.getMilliseconds() - e.getSeconds() * un)
             }), (function(e, t) {
-                e.setTime(+e + t * Vp)
+                e.setTime(+e + t * sn)
             }), (function(e, t) {
-                return (t - e) / Vp
+                return (t - e) / sn
             }), (function(e) {
                 return e.getMinutes()
             }));
-            const lg = sg;
-            sg.range;
-            var cg = jp((function(e) {
+            const Kp = $p;
+            $p.range;
+            var Jp = on((function(e) {
                 e.setTime(e - e.getMilliseconds())
             }), (function(e, t) {
-                e.setTime(+e + t * Yp)
+                e.setTime(+e + t * un)
             }), (function(e, t) {
-                return (t - e) / Yp
+                return (t - e) / un
             }), (function(e) {
                 return e.getUTCSeconds()
             }));
-            const fg = cg;
-            cg.range;
-            var dg = jp((function() {}), (function(e, t) {
+            const Qp = Jp;
+            Jp.range;
+            var Zp = on((function() {}), (function(e, t) {
                 e.setTime(+e + t)
             }), (function(e, t) {
                 return t - e
             }));
-            dg.every = function(e) {
-                return e = Math.floor(e), isFinite(e) && e > 0 ? e > 1 ? jp((function(t) {
+            Zp.every = function(e) {
+                return e = Math.floor(e), isFinite(e) && e > 0 ? e > 1 ? on((function(t) {
                     t.setTime(Math.floor(t / e) * e)
                 }), (function(t, n) {
                     t.setTime(+t + n * e)
                 }), (function(t, n) {
                     return (n - t) / e
-                })) : dg : null
+                })) : Zp : null
             };
-            const hg = dg;
-            dg.range;
-            var pg = 31536e6;
+            const eg = Zp;
+            Zp.range;
+            var tg = 1e3,
+                ng = 6e4,
+                rg = 36e5,
+                ig = 864e5,
+                ag = 2592e6,
+                og = 31536e6;
 
-            function gg(e) {
+            function ug(e) {
                 return new Date(e)
             }
 
-            function mg(e) {
+            function sg(e) {
                 return e instanceof Date ? +e : +new Date(+e)
             }
 
-            function vg(e, t, n, r, i, a, o, u, s) {
-                var l = up(ep, ep),
+            function lg(e, t, n, r, i, a, o, u, s) {
+                var l = mp(lp, lp),
                     c = l.invert,
                     f = l.domain,
                     d = s(".%L"),
                     h = s(":%S"),
                     p = s("%I:%M"),
                     g = s("%I %p"),
                     m = s("%a %d"),
                     v = s("%b %d"),
                     y = s("%B"),
                     b = s("%Y"),
                     _ = [
-                        [o, 1, 1e3],
+                        [o, 1, tg],
                         [o, 5, 5e3],
                         [o, 15, 15e3],
                         [o, 30, 3e4],
-                        [a, 1, 6e4],
+                        [a, 1, ng],
                         [a, 5, 3e5],
                         [a, 15, 9e5],
                         [a, 30, 18e5],
-                        [i, 1, 36e5],
+                        [i, 1, rg],
                         [i, 3, 108e5],
                         [i, 6, 216e5],
                         [i, 12, 432e5],
-                        [r, 1, 864e5],
+                        [r, 1, ig],
                         [r, 2, 1728e5],
                         [n, 1, 6048e5],
-                        [t, 1, 2592e6],
+                        [t, 1, ag],
                         [t, 3, 7776e6],
-                        [e, 1, pg]
+                        [e, 1, og]
                     ];
 
                 function x(u) {
                     return (o(u) < u ? d : a(u) < u ? h : i(u) < u ? p : r(u) < u ? g : t(u) < u ? n(u) < u ? m : v : e(u) < u ? y : b)(u)
                 }
 
                 function w(t, n, r, i) {
                     if (null == t && (t = 10), "number" == typeof t) {
                         var a = Math.abs(r - n) / t,
-                            o = Td((function(e) {
+                            o = lo((function(e) {
                                 return e[2]
                             })).right(_, a);
-                        o === _.length ? (i = qd(n / pg, r / pg, t), t = e) : o ? (i = (o = _[a / _[o - 1][2] < _[o][2] / a ? o - 1 : o])[1], t = o[0]) : (i = Math.max(qd(n, r, t), 1), t = u)
+                        o === _.length ? (i = wo(n / og, r / og, t), t = e) : o ? (i = (o = _[a / _[o - 1][2] < _[o][2] / a ? o - 1 : o])[1], t = o[0]) : (i = Math.max(wo(n, r, t), 1), t = u)
                     }
                     return null == i ? t : t.every(i)
                 }
                 return l.invert = function(e) {
                     return new Date(c(e))
                 }, l.domain = function(e) {
-                    return arguments.length ? f(Vd.call(e, mg)) : f().map(gg)
+                    return arguments.length ? f(th.call(e, sg)) : f().map(ug)
                 }, l.ticks = function(e, t) {
                     var n, r = f(),
                         i = r[0],
                         a = r[r.length - 1],
                         o = a < i;
                     return o && (n = i, i = a, a = n), n = (n = w(e, i, a, t)) ? n.range(i, a + 1) : [], o ? n.reverse() : n
                 }, l.tickFormat = function(e, t) {
                     return null == t ? x : s(t)
                 }, l.nice = function(e, t) {
                     var n = f();
-                    return (e = w(e, n[0], n[n.length - 1], t)) ? f(Ap(n, e)) : l
+                    return (e = w(e, n[0], n[n.length - 1], t)) ? f(Pp(n, e)) : l
                 }, l.copy = function() {
-                    return ap(l, vg(e, t, n, r, i, a, o, u, s))
+                    return pp(l, lg(e, t, n, r, i, a, o, u, s))
                 }, l
             }
-            var yg = jp((function(e) {
-                e.setUTCMonth(0, 1), e.setUTCHours(0, 0, 0, 0)
-            }), (function(e, t) {
-                e.setUTCFullYear(e.getUTCFullYear() + t)
-            }), (function(e, t) {
-                return t.getUTCFullYear() - e.getUTCFullYear()
-            }), (function(e) {
-                return e.getUTCFullYear()
-            }));
-            yg.every = function(e) {
-                return isFinite(e = Math.floor(e)) && e > 0 ? jp((function(t) {
-                    t.setUTCFullYear(Math.floor(t.getUTCFullYear() / e) * e), t.setUTCMonth(0, 1), t.setUTCHours(0, 0, 0, 0)
-                }), (function(t, n) {
-                    t.setUTCFullYear(t.getUTCFullYear() + n * e)
-                })) : null
-            };
-            const bg = yg;
-            yg.range;
-            var _g = jp((function(e) {
+            var cg = on((function(e) {
                 e.setUTCDate(1), e.setUTCHours(0, 0, 0, 0)
             }), (function(e, t) {
                 e.setUTCMonth(e.getUTCMonth() + t)
             }), (function(e, t) {
                 return t.getUTCMonth() - e.getUTCMonth() + 12 * (t.getUTCFullYear() - e.getUTCFullYear())
             }), (function(e) {
                 return e.getUTCMonth()
             }));
-            const xg = _g;
-
-            function wg(e) {
-                return jp((function(t) {
-                    t.setUTCDate(t.getUTCDate() - (t.getUTCDay() + 7 - e) % 7), t.setUTCHours(0, 0, 0, 0)
-                }), (function(e, t) {
-                    e.setUTCDate(e.getUTCDate() + 7 * t)
-                }), (function(e, t) {
-                    return (t - e) / $p
-                }))
-            }
-            _g.range;
-            var Sg = wg(0),
-                Eg = wg(1),
-                Ag = wg(2),
-                kg = wg(3),
-                Mg = wg(4),
-                Dg = wg(5),
-                Cg = wg(6),
-                Fg = (Sg.range, Eg.range, Ag.range, kg.range, Mg.range, Dg.range, Cg.range, jp((function(e) {
-                    e.setUTCHours(0, 0, 0, 0)
-                }), (function(e, t) {
-                    e.setUTCDate(e.getUTCDate() + t)
-                }), (function(e, t) {
-                    return (t - e) / Xp
-                }), (function(e) {
-                    return e.getUTCDate() - 1
-                })));
-            const Ng = Fg;
-            Fg.range;
-            var Tg = jp((function(e) {
+            const fg = cg;
+            cg.range;
+            var dg = on((function(e) {
                 e.setUTCMinutes(0, 0, 0)
             }), (function(e, t) {
-                e.setTime(+e + t * Gp)
+                e.setTime(+e + t * ln)
             }), (function(e, t) {
-                return (t - e) / Gp
+                return (t - e) / ln
             }), (function(e) {
                 return e.getUTCHours()
             }));
-            const Og = Tg;
-            Tg.range;
-            var Pg = jp((function(e) {
+            const hg = dg;
+            dg.range;
+            var pg = on((function(e) {
                 e.setUTCSeconds(0, 0)
             }), (function(e, t) {
-                e.setTime(+e + t * Vp)
+                e.setTime(+e + t * sn)
             }), (function(e, t) {
-                return (t - e) / Vp
+                return (t - e) / sn
             }), (function(e) {
                 return e.getUTCMinutes()
             }));
-            const Rg = Pg;
+            const gg = pg;
 
-            function Lg() {
-                var e, t, n = Kd().unknown(void 0),
+            function mg() {
+                var e, t, n = ah().unknown(void 0),
                     r = n.domain,
                     i = n.range,
                     a = [0, 1],
                     o = !1,
                     u = 0,
                     s = 0,
                     l = .5;
 
                 function c() {
                     var n = r().length,
                         c = a[1] < a[0],
                         f = a[c - 0],
                         d = a[1 - c],
-                        h = kd(n, u, s);
+                        h = Xd(n, u, s);
                     e = (d - f) / (h || 1), o && (e = Math.floor(e)), f += (d - f - e * (n - u)) * l, t = e * (1 - u), o && (f = Math.round(f), t = Math.round(t));
                     var p = function(e, t, n) {
                         e = +e, t = +t, n = (i = arguments.length) < 2 ? (t = e, e = 0, 1) : i < 3 ? 1 : +n;
                         for (var r = -1, i = 0 | Math.max(0, Math.ceil((t - e) / n)), a = new Array(i); ++r < i;) a[r] = e + r * n;
                         return a
                     }(n).map((function(t) {
                         return f + e * t
@@ -11109,196 +10876,258 @@
                 }, n.invertRange = function(e) {
                     if (null != e[0] && null != e[1]) {
                         var n, o, u, s = +e[0],
                             l = +e[1],
                             c = a[1] < a[0],
                             f = c ? i().reverse() : i(),
                             d = f.length - 1;
-                        if (s == s && l == l && (l < s && (u = s, s = l, l = u), !(l < f[0] || s > a[1 - c]))) return n = Math.max(0, Cd(f, s) - 1), o = s === l ? n : Cd(f, l) - 1, s - f[n] > t + 1e-10 && ++n, c && (u = n, n = d - o, o = d - u), n > o ? void 0 : r().slice(n, o + 1)
+                        if (s == s && l == l && (l < s && (u = s, s = l, l = u), !(l < f[0] || s > a[1 - c]))) return n = Math.max(0, Qd(f, s) - 1), o = s === l ? n : Qd(f, l) - 1, s - f[n] > t + 1e-10 && ++n, c && (u = n, n = d - o, o = d - u), n > o ? void 0 : r().slice(n, o + 1)
                     }
                 }, n.invert = function(e) {
                     var t = n.invertRange([e, e]);
                     return t ? t[0] : t
                 }, n.copy = function() {
-                    return Lg().domain(r()).range(a).round(o).paddingInner(u).paddingOuter(s).align(l)
+                    return mg().domain(r()).range(a).round(o).paddingInner(u).paddingOuter(s).align(l)
                 }, c()
             }
 
-            function zg(e) {
+            function vg(e) {
                 var t = e.copy;
                 return e.padding = e.paddingOuter, delete e.paddingInner, e.copy = function() {
-                    return zg(t())
+                    return vg(t())
                 }, e
             }
-            Pg.range;
-            var Ig = Array.prototype.map,
-                Ug = Array.prototype.slice;
+            pg.range;
+            var yg = Array.prototype.map,
+                bg = Array.prototype.slice;
 
-            function jg(e) {
-                return Ig.call(e, (function(e) {
+            function _g(e) {
+                return yg.call(e, (function(e) {
                     return +e
                 }))
             }
 
-            function Bg(e, t) {
-                return function() {
-                    var n = t();
-                    return n.invertRange || (n.invertRange = n.invert ? function(e) {
-                        return function(t) {
-                            var n, r = t[0],
-                                i = t[1];
-                            return i < r && (n = r, r = i, i = n), [e.invert(r), e.invert(i)]
-                        }
-                    }(n) : n.invertExtent ? function(e) {
-                        return function(t) {
-                            var n, r, i, a, o = e.range(),
-                                u = t[0],
-                                s = t[1],
-                                l = -1;
-                            for (s < u && (r = u, u = s, s = r), i = 0, a = o.length; i < a; ++i) o[i] >= u && o[i] <= s && (l < 0 && (l = i), n = i);
-                            if (!(l < 0)) return u = e.invertExtent(o[l]), s = e.invertExtent(o[n]), [void 0 === u[0] ? u[1] : u[0], void 0 === s[1] ? s[0] : s[1]]
-                        }
-                    }(n) : void 0), n.type = e, n
-                }
-            }
-
-            function qg(e, t) {
-                return arguments.length > 1 ? (Hg[e] = Bg(e, t), this) : Hg.hasOwnProperty(e) ? Hg[e] : void 0
+            function xg(e, t) {
+                return arguments.length > 1 ? (wg[e] = function(e, t) {
+                    return function() {
+                        var n = t();
+                        return n.invertRange || (n.invertRange = n.invert ? function(e) {
+                            return function(t) {
+                                var n, r = t[0],
+                                    i = t[1];
+                                return i < r && (n = r, r = i, i = n), [e.invert(r), e.invert(i)]
+                            }
+                        }(n) : n.invertExtent ? function(e) {
+                            return function(t) {
+                                var n, r, i, a, o = e.range(),
+                                    u = t[0],
+                                    s = t[1],
+                                    l = -1;
+                                for (s < u && (r = u, u = s, s = r), i = 0, a = o.length; i < a; ++i) o[i] >= u && o[i] <= s && (l < 0 && (l = i), n = i);
+                                if (!(l < 0)) return u = e.invertExtent(o[l]), s = e.invertExtent(o[n]), [void 0 === u[0] ? u[1] : u[0], void 0 === s[1] ? s[0] : s[1]]
+                            }
+                        }(n) : void 0), n.type = e, n
+                    }
+                }(e, t), this) : wg.hasOwnProperty(e) ? wg[e] : void 0
             }
-            var Hg = {
+            var wg = {
                 identity: function e(t) {
                     var n;
 
                     function r(e) {
                         return isNaN(e = +e) ? n : e
                     }
                     return r.invert = r, r.domain = r.range = function(e) {
-                        return arguments.length ? (t = Vd.call(e, Qh), r) : t.slice()
+                        return arguments.length ? (t = th.call(e, up), r) : t.slice()
                     }, r.unknown = function(e) {
                         return arguments.length ? (n = e, r) : n
                     }, r.copy = function() {
                         return e(t).unknown(n)
-                    }, t = arguments.length ? Vd.call(t, Qh) : [0, 1], Sp(r)
+                    }, t = arguments.length ? th.call(t, up) : [0, 1], Op(r)
                 },
-                linear: Ep,
+                linear: Tp,
                 log: function e() {
-                    var t = Tp(op()).domain([1, 10]);
+                    var t = function(e) {
+                        var t, n, r = e(Rp, Lp),
+                            i = r.domain,
+                            a = 10;
+
+                        function o() {
+                            return t = function(e) {
+                                return e === Math.E ? Math.log : 10 === e && Math.log10 || 2 === e && Math.log2 || (e = Math.log(e), function(t) {
+                                    return Math.log(t) / e
+                                })
+                            }(a), n = function(e) {
+                                return 10 === e ? jp : e === Math.E ? Math.exp : function(t) {
+                                    return Math.pow(e, t)
+                                }
+                            }(a), i()[0] < 0 ? (t = Bp(t), n = Bp(n), e(zp, Ip)) : e(Rp, Lp), r
+                        }
+                        return r.base = function(e) {
+                            return arguments.length ? (a = +e, o()) : a
+                        }, r.domain = function(e) {
+                            return arguments.length ? (i(e), o()) : i()
+                        }, r.ticks = function(e) {
+                            var r, o = i(),
+                                u = o[0],
+                                s = o[o.length - 1];
+                            (r = s < u) && (d = u, u = s, s = d);
+                            var l, c, f, d = t(u),
+                                h = t(s),
+                                p = null == e ? 10 : +e,
+                                g = [];
+                            if (!(a % 1) && h - d < p) {
+                                if (d = Math.round(d) - 1, h = Math.round(h) + 1, u > 0) {
+                                    for (; d < h; ++d)
+                                        for (c = 1, l = n(d); c < a; ++c)
+                                            if (!((f = l * c) < u)) {
+                                                if (f > s) break;
+                                                g.push(f)
+                                            }
+                                } else
+                                    for (; d < h; ++d)
+                                        for (c = a - 1, l = n(d); c >= 1; --c)
+                                            if (!((f = l * c) < u)) {
+                                                if (f > s) break;
+                                                g.push(f)
+                                            }
+                            } else g = _o(d, h, Math.min(h - d, p)).map(n);
+                            return r ? g.reverse() : g
+                        }, r.tickFormat = function(e, i) {
+                            if (null == i && (i = 10 === a ? ".0e" : ","), "function" != typeof i && (i = Mp(i)), e === 1 / 0) return i;
+                            null == e && (e = 10);
+                            var o = Math.max(1, a * e / r.ticks().length);
+                            return function(e) {
+                                var r = e / n(Math.round(t(e)));
+                                return r * a < a - .5 && (r *= a), r <= o ? i(e) : ""
+                            }
+                        }, r.nice = function() {
+                            return i(Pp(i(), {
+                                floor: function(e) {
+                                    return n(Math.floor(t(e)))
+                                },
+                                ceil: function(e) {
+                                    return n(Math.ceil(t(e)))
+                                }
+                            }))
+                        }, r
+                    }(gp()).domain([1, 10]);
                     return t.copy = function() {
-                        return ap(t, e()).base(t.base())
-                    }, Xd.apply(t, arguments), t
+                        return pp(t, e()).base(t.base())
+                    }, rh.apply(t, arguments), t
                 },
-                ordinal: Kd,
-                pow: zp,
+                ordinal: ah,
+                pow: Wp,
                 sqrt: function() {
-                    return zp.apply(null, arguments).exponent(.5)
+                    return Wp.apply(null, arguments).exponent(.5)
                 },
                 quantile: function e() {
                     var t, n = [],
                         r = [],
                         i = [];
 
                     function a() {
                         var e = 0,
                             t = Math.max(1, r.length);
-                        for (i = new Array(t - 1); ++e < t;) i[e - 1] = Wd(n, e / t);
+                        for (i = new Array(t - 1); ++e < t;) i[e - 1] = ko(n, e / t);
                         return o
                     }
 
                     function o(e) {
-                        return isNaN(e = +e) ? t : r[Rd(i, e)]
+                        return isNaN(e = +e) ? t : r[po(i, e)]
                     }
                     return o.invertExtent = function(e) {
                         var t = r.indexOf(e);
                         return t < 0 ? [NaN, NaN] : [t > 0 ? i[t - 1] : n[0], t < i.length ? i[t] : n[n.length - 1]]
                     }, o.domain = function(e) {
                         if (!arguments.length) return n.slice();
                         n = [];
                         for (var t, r = 0, i = e.length; r < i; ++r) null == (t = e[r]) || isNaN(t = +t) || n.push(t);
-                        return n.sort(Nd), a()
+                        return n.sort(so), a()
                     }, o.range = function(e) {
-                        return arguments.length ? (r = Gd.call(e), a()) : r.slice()
+                        return arguments.length ? (r = nh.call(e), a()) : r.slice()
                     }, o.unknown = function(e) {
                         return arguments.length ? (t = e, o) : t
                     }, o.quantiles = function() {
                         return i.slice()
                     }, o.copy = function() {
                         return e().domain(n).range(r).unknown(t)
-                    }, Xd.apply(o, arguments)
+                    }, rh.apply(o, arguments)
                 },
                 quantize: function e() {
                     var t, n = 0,
                         r = 1,
                         i = 1,
                         a = [.5],
                         o = [0, 1];
 
                     function u(e) {
-                        return e <= e ? o[Rd(a, e, 0, i)] : t
+                        return e <= e ? o[po(a, e, 0, i)] : t
                     }
 
                     function s() {
                         var e = -1;
                         for (a = new Array(i); ++e < i;) a[e] = ((e + 1) * r - (e - i) * n) / (i + 1);
                         return u
                     }
                     return u.domain = function(e) {
                         return arguments.length ? (n = +e[0], r = +e[1], s()) : [n, r]
                     }, u.range = function(e) {
-                        return arguments.length ? (i = (o = Gd.call(e)).length - 1, s()) : o.slice()
+                        return arguments.length ? (i = (o = nh.call(e)).length - 1, s()) : o.slice()
                     }, u.invertExtent = function(e) {
                         var t = o.indexOf(e);
                         return t < 0 ? [NaN, NaN] : t < 1 ? [n, a[0]] : t >= i ? [a[i - 1], r] : [a[t - 1], a[t]]
                     }, u.unknown = function(e) {
                         return arguments.length ? (t = e, u) : u
                     }, u.thresholds = function() {
                         return a.slice()
                     }, u.copy = function() {
                         return e().domain([n, r]).range(o).unknown(t)
-                    }, Xd.apply(Sp(u), arguments)
+                    }, rh.apply(Op(u), arguments)
                 },
                 threshold: function e() {
                     var t, n = [.5],
                         r = [0, 1],
                         i = 1;
 
                     function a(e) {
-                        return e <= e ? r[Rd(n, e, 0, i)] : t
+                        return e <= e ? r[po(n, e, 0, i)] : t
                     }
                     return a.domain = function(e) {
-                        return arguments.length ? (n = Gd.call(e), i = Math.min(n.length, r.length - 1), a) : n.slice()
+                        return arguments.length ? (n = nh.call(e), i = Math.min(n.length, r.length - 1), a) : n.slice()
                     }, a.range = function(e) {
-                        return arguments.length ? (r = Gd.call(e), i = Math.min(n.length, r.length - 1), a) : r.slice()
+                        return arguments.length ? (r = nh.call(e), i = Math.min(n.length, r.length - 1), a) : r.slice()
                     }, a.invertExtent = function(e) {
                         var t = r.indexOf(e);
                         return [n[t - 1], n[t]]
                     }, a.unknown = function(e) {
                         return arguments.length ? (t = e, a) : t
                     }, a.copy = function() {
                         return e().domain(n).range(r).unknown(t)
-                    }, Xd.apply(a, arguments)
+                    }, rh.apply(a, arguments)
                 },
                 time: function() {
-                    return Xd.apply(vg(qp, Wp, Jp, ag, ug, lg, fg, hg, Un).domain([new Date(2e3, 0, 1), new Date(2e3, 0, 2)]), arguments)
+                    return rh.apply(lg(Tn, Gp, Sn, Nn, Xp, Kp, Qp, eg, Bn).domain([new Date(2e3, 0, 1), new Date(2e3, 0, 2)]), arguments)
                 },
                 utc: function() {
-                    return Xd.apply(vg(bg, xg, Sg, Ng, Og, Rg, fg, hg, Bn).domain([Date.UTC(2e3, 0, 1), Date.UTC(2e3, 0, 2)]), arguments)
+                    return rh.apply(lg(Rn, fg, hn, xn, hg, gg, Qp, eg, qn).domain([Date.UTC(2e3, 0, 1), Date.UTC(2e3, 0, 2)]), arguments)
                 },
-                band: Lg,
+                band: mg,
                 point: function() {
-                    return zg(Lg().paddingInner(1))
+                    return vg(mg().paddingInner(1))
                 },
                 sequential: function e(t) {
-                    var n = Ep(),
+                    var n = Tp(),
                         r = 0,
                         i = 1,
                         a = !1;
 
                     function o() {
                         var e = n.domain();
-                        r = e[0], i = (0, ke.peek)(e) - r
+                        r = e[0], i = (0, Ee.peek)(e) - r
                     }
 
                     function u(e) {
                         var n = (e - r) / i;
                         return t(a ? Math.max(0, Math.min(1, n)) : n)
                     }
                     return u.clamp = function(e) {
@@ -11314,26 +11143,24 @@
                     }, u.tickFormat = function(e, t) {
                         return n.tickFormat(e, t)
                     }, u.nice = function(e) {
                         return n.nice(e), o(), u
                     }, u
                 },
                 "bin-linear": function e() {
-                    var t = Ep(),
+                    var t = Tp(),
                         n = [];
 
                     function r(e) {
                         return t(e)
                     }
-
-                    function i(e) {
-                        n = jg(e), t.domain([n[0], (0, ke.peek)(n)])
-                    }
                     return r.domain = function(e) {
-                        return arguments.length ? (i(e), r) : n.slice()
+                        return arguments.length ? (function(e) {
+                            n = _g(e), t.domain([n[0], (0, Ee.peek)(n)])
+                        }(e), r) : n.slice()
                     }, r.range = function(e) {
                         return arguments.length ? (t.range(e), r) : t.range()
                     }, r.rangeRound = function(e) {
                         return arguments.length ? (t.rangeRound(e), r) : t.rangeRound()
                     }, r.interpolate = function(e) {
                         return arguments.length ? (t.interpolate(e), r) : t.interpolate()
                     }, r.invert = function(e) {
@@ -11351,849 +11178,613 @@
                     }, r
                 },
                 "bin-ordinal": function e() {
                     var t = [],
                         n = [];
 
                     function r(e) {
-                        return null == e || e != e ? void 0 : n[(Fd(t, e) - 1) % n.length]
+                        return null == e || e != e ? void 0 : n[(Zd(t, e) - 1) % n.length]
                     }
                     return r.domain = function(e) {
-                        return arguments.length ? (t = jg(e), r) : t.slice()
+                        return arguments.length ? (t = _g(e), r) : t.slice()
                     }, r.range = function(e) {
-                        return arguments.length ? (n = Ug.call(e), r) : n.slice()
+                        return arguments.length ? (n = bg.call(e), r) : n.slice()
                     }, r.tickFormat = function() {
-                        var e = Ep().domain([t[0], (0, ke.peek)(t)]);
+                        var e = Tp().domain([t[0], (0, Ee.peek)(t)]);
                         return e.tickFormat.apply(e, arguments)
                     }, r.copy = function() {
                         return e().domain(r.domain()).range(r.range())
                     }, r
                 }
             };
-            for (var Wg in Hg) qg(Wg, Hg[Wg]);
+            for (var Sg in wg) xg(Sg, wg[Sg]);
 
-            function Yg(e) {
+            function Eg(e) {
                 var t = e.length;
                 return function(n) {
                     return e[Math.max(0, Math.min(t - 1, Math.floor(n * t)))]
                 }
             }
 
-            function Vg(e, t) {
-                var n = Ph(+e, +t);
+            function Ag(e, t) {
+                var n = Hh(+e, +t);
                 return function(e) {
                     var t = n(e);
                     return t - 360 * Math.floor(t / 360)
                 }
             }
-            var Gg, Xg, $g, Kg, Jg = 180 / Math.PI,
-                Qg = {
+            var kg, Mg, Dg, Cg, Fg = 180 / Math.PI,
+                Ng = {
                     translateX: 0,
                     translateY: 0,
                     rotate: 0,
                     skewX: 0,
                     scaleX: 1,
                     scaleY: 1
                 };
 
-            function Zg(e, t, n, r, i, a) {
+            function Og(e, t, n, r, i, a) {
                 var o, u, s;
                 return (o = Math.sqrt(e * e + t * t)) && (e /= o, t /= o), (s = e * n + t * r) && (n -= e * s, r -= t * s), (u = Math.sqrt(n * n + r * r)) && (n /= u, r /= u, s /= u), e * r < t * n && (e = -e, t = -t, s = -s, o = -o), {
                     translateX: i,
                     translateY: a,
-                    rotate: Math.atan2(t, e) * Jg,
-                    skewX: Math.atan(s) * Jg,
+                    rotate: Math.atan2(t, e) * Fg,
+                    skewX: Math.atan(s) * Fg,
                     scaleX: o,
                     scaleY: u
                 }
             }
 
-            function em(e, t, n, r) {
+            function Tg(e, t, n, r) {
                 function i(e) {
                     return e.length ? e.pop() + " " : ""
                 }
                 return function(a, o) {
                     var u = [],
                         s = [];
                     return a = e(a), o = e(o),
                         function(e, r, i, a, o, u) {
                             if (e !== i || r !== a) {
                                 var s = o.push("translate(", null, t, null, n);
                                 u.push({
                                     i: s - 4,
-                                    x: Yh(e, i)
+                                    x: ep(e, i)
                                 }, {
                                     i: s - 2,
-                                    x: Yh(r, a)
+                                    x: ep(r, a)
                                 })
                             } else(i || a) && o.push("translate(" + i + t + a + n)
                         }(a.translateX, a.translateY, o.translateX, o.translateY, u, s),
                         function(e, t, n, a) {
                             e !== t ? (e - t > 180 ? t += 360 : t - e > 180 && (e += 360), a.push({
                                 i: n.push(i(n) + "rotate(", null, r) - 2,
-                                x: Yh(e, t)
+                                x: ep(e, t)
                             })) : t && n.push(i(n) + "rotate(" + t + r)
                         }(a.rotate, o.rotate, u, s),
                         function(e, t, n, a) {
                             e !== t ? a.push({
                                 i: n.push(i(n) + "skewX(", null, r) - 2,
-                                x: Yh(e, t)
+                                x: ep(e, t)
                             }) : t && n.push(i(n) + "skewX(" + t + r)
                         }(a.skewX, o.skewX, u, s),
                         function(e, t, n, r, a, o) {
                             if (e !== n || t !== r) {
                                 var u = a.push(i(a) + "scale(", null, ",", null, ")");
                                 o.push({
                                     i: u - 4,
-                                    x: Yh(e, n)
+                                    x: ep(e, n)
                                 }, {
                                     i: u - 2,
-                                    x: Yh(t, r)
+                                    x: ep(t, r)
                                 })
                             } else 1 === n && 1 === r || a.push(i(a) + "scale(" + n + "," + r + ")")
                         }(a.scaleX, a.scaleY, o.scaleX, o.scaleY, u, s), a = o = null,
                         function(e) {
                             for (var t, n = -1, r = s.length; ++n < r;) u[(t = s[n]).i] = t.x(e);
                             return u.join("")
                         }
                 }
             }
-            var tm = em((function(e) {
-                    return "none" === e ? Qg : (Gg || (Gg = document.createElement("DIV"), Xg = document.documentElement, $g = document.defaultView), Gg.style.transform = e, e = $g.getComputedStyle(Xg.appendChild(Gg), null).getPropertyValue("transform"), Xg.removeChild(Gg), Zg(+(e = e.slice(7, -1).split(","))[0], +e[1], +e[2], +e[3], +e[4], +e[5]))
+            var Pg = Tg((function(e) {
+                    return "none" === e ? Ng : (kg || (kg = document.createElement("DIV"), Mg = document.documentElement, Dg = document.defaultView), kg.style.transform = e, e = Dg.getComputedStyle(Mg.appendChild(kg), null).getPropertyValue("transform"), Mg.removeChild(kg), Og(+(e = e.slice(7, -1).split(","))[0], +e[1], +e[2], +e[3], +e[4], +e[5]))
                 }), "px, ", "px)", "deg)"),
-                nm = em((function(e) {
-                    return null == e ? Qg : (Kg || (Kg = document.createElementNS("http://www.w3.org/2000/svg", "g")), Kg.setAttribute("transform", e), (e = Kg.transform.baseVal.consolidate()) ? Zg((e = e.matrix).a, e.b, e.c, e.d, e.e, e.f) : Qg)
+                Rg = Tg((function(e) {
+                    return null == e ? Ng : (Cg || (Cg = document.createElementNS("http://www.w3.org/2000/svg", "g")), Cg.setAttribute("transform", e), (e = Cg.transform.baseVal.consolidate()) ? Og((e = e.matrix).a, e.b, e.c, e.d, e.e, e.f) : Ng)
                 }), ", ", ")", ")"),
-                rm = Math.SQRT2;
+                Lg = Math.SQRT2,
+                zg = 2,
+                Ig = 4,
+                jg = 1e-12;
 
-            function im(e) {
+            function Bg(e) {
                 return ((e = Math.exp(e)) + 1 / e) / 2
             }
 
-            function am(e, t) {
+            function Ug(e, t) {
                 var n, r, i = e[0],
                     a = e[1],
                     o = e[2],
                     u = t[0],
                     s = t[1],
                     l = t[2],
                     c = u - i,
                     f = s - a,
                     d = c * c + f * f;
-                if (d < 1e-12) r = Math.log(l / o) / rm, n = function(e) {
-                    return [i + e * c, a + e * f, o * Math.exp(rm * e * r)]
+                if (d < jg) r = Math.log(l / o) / Lg, n = function(e) {
+                    return [i + e * c, a + e * f, o * Math.exp(Lg * e * r)]
                 };
                 else {
                     var h = Math.sqrt(d),
-                        p = (l * l - o * o + 4 * d) / (2 * o * 2 * h),
-                        g = (l * l - o * o - 4 * d) / (2 * l * 2 * h),
+                        p = (l * l - o * o + Ig * d) / (2 * o * zg * h),
+                        g = (l * l - o * o - Ig * d) / (2 * l * zg * h),
                         m = Math.log(Math.sqrt(p * p + 1) - p),
                         v = Math.log(Math.sqrt(g * g + 1) - g);
-                    r = (v - m) / rm, n = function(e) {
+                    r = (v - m) / Lg, n = function(e) {
                         var t = e * r,
-                            n = im(m),
-                            u = o / (2 * h) * (n * function(e) {
+                            n = Bg(m),
+                            u = o / (zg * h) * (n * function(e) {
                                 return ((e = Math.exp(2 * e)) - 1) / (e + 1)
-                            }(rm * t + m) - function(e) {
+                            }(Lg * t + m) - function(e) {
                                 return ((e = Math.exp(e)) - 1 / e) / 2
                             }(m));
-                        return [i + u * c, a + u * f, o * n / im(rm * t + m)]
+                        return [i + u * c, a + u * f, o * n / Bg(Lg * t + m)]
                     }
                 }
                 return n.duration = 1e3 * r, n
             }
 
-            function om(e) {
+            function qg(e) {
                 return function(t, n) {
-                    var r = e((t = kh(t)).h, (n = kh(n)).h),
-                        i = Rh(t.s, n.s),
-                        a = Rh(t.l, n.l),
-                        o = Rh(t.opacity, n.opacity);
+                    var r = e((t = Rh(t)).h, (n = Rh(n)).h),
+                        i = Wh(t.s, n.s),
+                        a = Wh(t.l, n.l),
+                        o = Wh(t.opacity, n.opacity);
                     return function(e) {
                         return t.h = r(e), t.s = i(e), t.l = a(e), t.opacity = o(e), t + ""
                     }
                 }
             }
-            const um = om(Ph);
-            var sm = om(Rh),
-                lm = Math.PI / 180,
-                cm = 180 / Math.PI,
-                fm = .96422,
-                dm = .82521,
-                hm = 4 / 29,
-                pm = 6 / 29,
-                gm = 3 * pm * pm;
-
-            function mm(e) {
-                if (e instanceof ym) return new ym(e.l, e.a, e.b, e.opacity);
-                if (e instanceof Am) return km(e);
-                e instanceof _h || (e = yh(e));
-                var t, n, r = wm(e.r),
-                    i = wm(e.g),
-                    a = wm(e.b),
-                    o = bm((.2225045 * r + .7168786 * i + .0606169 * a) / 1);
-                return r === i && i === a ? t = n = o : (t = bm((.4360747 * r + .3850649 * i + .1430804 * a) / fm), n = bm((.0139322 * r + .0971045 * i + .7141733 * a) / dm)), new ym(116 * o - 16, 500 * (t - o), 200 * (o - n), e.opacity)
+            const Hg = qg(Hh);
+            var Wg = qg(Wh),
+                Vg = Math.PI / 180,
+                Gg = 180 / Math.PI,
+                Yg = .96422,
+                Xg = 1,
+                $g = .82521,
+                Kg = 4 / 29,
+                Jg = 6 / 29,
+                Qg = 3 * Jg * Jg,
+                Zg = .008856451679035631;
+
+            function em(e) {
+                if (e instanceof nm) return new nm(e.l, e.a, e.b, e.opacity);
+                if (e instanceof sm) return lm(e);
+                e instanceof Ch || (e = Mh(e));
+                var t, n, r = om(e.r),
+                    i = om(e.g),
+                    a = om(e.b),
+                    o = rm((.2225045 * r + .7168786 * i + .0606169 * a) / Xg);
+                return r === i && i === a ? t = n = o : (t = rm((.4360747 * r + .3850649 * i + .1430804 * a) / Yg), n = rm((.0139322 * r + .0971045 * i + .7141733 * a) / $g)), new nm(116 * o - 16, 500 * (t - o), 200 * (o - n), e.opacity)
             }
 
-            function vm(e, t, n, r) {
-                return 1 === arguments.length ? mm(e) : new ym(e, t, n, null == r ? 1 : r)
+            function tm(e, t, n, r) {
+                return 1 === arguments.length ? em(e) : new nm(e, t, n, null == r ? 1 : r)
             }
 
-            function ym(e, t, n, r) {
+            function nm(e, t, n, r) {
                 this.l = +e, this.a = +t, this.b = +n, this.opacity = +r
             }
 
-            function bm(e) {
-                return e > .008856451679035631 ? Math.pow(e, 1 / 3) : e / gm + hm
+            function rm(e) {
+                return e > Zg ? Math.pow(e, 1 / 3) : e / Qg + Kg
             }
 
-            function _m(e) {
-                return e > pm ? e * e * e : gm * (e - hm)
+            function im(e) {
+                return e > Jg ? e * e * e : Qg * (e - Kg)
             }
 
-            function xm(e) {
+            function am(e) {
                 return 255 * (e <= .0031308 ? 12.92 * e : 1.055 * Math.pow(e, 1 / 2.4) - .055)
             }
 
-            function wm(e) {
+            function om(e) {
                 return (e /= 255) <= .04045 ? e / 12.92 : Math.pow((e + .055) / 1.055, 2.4)
             }
 
-            function Sm(e) {
-                if (e instanceof Am) return new Am(e.h, e.c, e.l, e.opacity);
-                if (e instanceof ym || (e = mm(e)), 0 === e.a && 0 === e.b) return new Am(NaN, 0 < e.l && e.l < 100 ? 0 : NaN, e.l, e.opacity);
-                var t = Math.atan2(e.b, e.a) * cm;
-                return new Am(t < 0 ? t + 360 : t, Math.sqrt(e.a * e.a + e.b * e.b), e.l, e.opacity)
-            }
-
-            function Em(e, t, n, r) {
-                return 1 === arguments.length ? Sm(e) : new Am(e, t, n, null == r ? 1 : r)
+            function um(e, t, n, r) {
+                return 1 === arguments.length ? function(e) {
+                    if (e instanceof sm) return new sm(e.h, e.c, e.l, e.opacity);
+                    if (e instanceof nm || (e = em(e)), 0 === e.a && 0 === e.b) return new sm(NaN, 0 < e.l && e.l < 100 ? 0 : NaN, e.l, e.opacity);
+                    var t = Math.atan2(e.b, e.a) * Gg;
+                    return new sm(t < 0 ? t + 360 : t, Math.sqrt(e.a * e.a + e.b * e.b), e.l, e.opacity)
+                }(e) : new sm(e, t, n, null == r ? 1 : r)
             }
 
-            function Am(e, t, n, r) {
+            function sm(e, t, n, r) {
                 this.h = +e, this.c = +t, this.l = +n, this.opacity = +r
             }
 
-            function km(e) {
-                if (isNaN(e.h)) return new ym(e.l, 0, 0, e.opacity);
-                var t = e.h * lm;
-                return new ym(e.l, Math.cos(t) * e.c, Math.sin(t) * e.c, e.opacity)
+            function lm(e) {
+                if (isNaN(e.h)) return new nm(e.l, 0, 0, e.opacity);
+                var t = e.h * Vg;
+                return new nm(e.l, Math.cos(t) * e.c, Math.sin(t) * e.c, e.opacity)
             }
 
-            function Mm(e, t) {
-                var n = Rh((e = vm(e)).l, (t = vm(t)).l),
-                    r = Rh(e.a, t.a),
-                    i = Rh(e.b, t.b),
-                    a = Rh(e.opacity, t.opacity);
+            function cm(e, t) {
+                var n = Wh((e = tm(e)).l, (t = tm(t)).l),
+                    r = Wh(e.a, t.a),
+                    i = Wh(e.b, t.b),
+                    a = Wh(e.opacity, t.opacity);
                 return function(t) {
                     return e.l = n(t), e.a = r(t), e.b = i(t), e.opacity = a(t), e + ""
                 }
             }
 
-            function Dm(e) {
+            function fm(e) {
                 return function(t, n) {
-                    var r = e((t = Em(t)).h, (n = Em(n)).h),
-                        i = Rh(t.c, n.c),
-                        a = Rh(t.l, n.l),
-                        o = Rh(t.opacity, n.opacity);
+                    var r = e((t = um(t)).h, (n = um(n)).h),
+                        i = Wh(t.c, n.c),
+                        a = Wh(t.l, n.l),
+                        o = Wh(t.opacity, n.opacity);
                     return function(e) {
                         return t.h = r(e), t.c = i(e), t.l = a(e), t.opacity = o(e), t + ""
                     }
                 }
             }
-            Jd(ym, vm, Qd(Zd, {
+            oh(nm, tm, uh(sh, {
                 brighter: function(e) {
-                    return new ym(this.l + 18 * (null == e ? 1 : e), this.a, this.b, this.opacity)
+                    return new nm(this.l + 18 * (null == e ? 1 : e), this.a, this.b, this.opacity)
                 },
                 darker: function(e) {
-                    return new ym(this.l - 18 * (null == e ? 1 : e), this.a, this.b, this.opacity)
+                    return new nm(this.l - 18 * (null == e ? 1 : e), this.a, this.b, this.opacity)
                 },
                 rgb: function() {
                     var e = (this.l + 16) / 116,
                         t = isNaN(this.a) ? e : e + this.a / 500,
                         n = isNaN(this.b) ? e : e - this.b / 200;
-                    return new _h(xm(3.1338561 * (t = fm * _m(t)) - 1.6168667 * (e = 1 * _m(e)) - .4906146 * (n = dm * _m(n))), xm(-.9787684 * t + 1.9161415 * e + .033454 * n), xm(.0719453 * t - .2289914 * e + 1.4052427 * n), this.opacity)
+                    return new Ch(am(3.1338561 * (t = Yg * im(t)) - 1.6168667 * (e = Xg * im(e)) - .4906146 * (n = $g * im(n))), am(-.9787684 * t + 1.9161415 * e + .033454 * n), am(.0719453 * t - .2289914 * e + 1.4052427 * n), this.opacity)
                 }
-            })), Jd(Am, Em, Qd(Zd, {
+            })), oh(sm, um, uh(sh, {
                 brighter: function(e) {
-                    return new Am(this.h, this.c, this.l + 18 * (null == e ? 1 : e), this.opacity)
+                    return new sm(this.h, this.c, this.l + 18 * (null == e ? 1 : e), this.opacity)
                 },
                 darker: function(e) {
-                    return new Am(this.h, this.c, this.l - 18 * (null == e ? 1 : e), this.opacity)
+                    return new sm(this.h, this.c, this.l - 18 * (null == e ? 1 : e), this.opacity)
                 },
                 rgb: function() {
-                    return km(this).rgb()
+                    return lm(this).rgb()
                 }
             }));
-            const Cm = Dm(Ph);
-            var Fm = Dm(Rh),
-                Nm = -.14861,
-                Tm = 1.78277,
-                Om = -.29227,
-                Pm = -.90649,
-                Rm = 1.97294,
-                Lm = Rm * Pm,
-                zm = Rm * Tm,
-                Im = Tm * Om - Pm * Nm;
-
-            function Um(e) {
-                if (e instanceof Bm) return new Bm(e.h, e.s, e.l, e.opacity);
-                e instanceof _h || (e = yh(e));
-                var t = e.r / 255,
-                    n = e.g / 255,
-                    r = e.b / 255,
-                    i = (Im * r + Lm * t - zm * n) / (Im + Lm - zm),
-                    a = r - i,
-                    o = (Rm * (n - i) - Om * a) / Pm,
-                    u = Math.sqrt(o * o + a * a) / (Rm * i * (1 - i)),
-                    s = u ? Math.atan2(o, a) * cm - 120 : NaN;
-                return new Bm(s < 0 ? s + 360 : s, u, i, e.opacity)
-            }
-
-            function jm(e, t, n, r) {
-                return 1 === arguments.length ? Um(e) : new Bm(e, t, n, null == r ? 1 : r)
+            const dm = fm(Hh);
+            var hm = fm(Wh),
+                pm = -.14861,
+                gm = 1.78277,
+                mm = -.29227,
+                vm = -.90649,
+                ym = 1.97294,
+                bm = ym * vm,
+                _m = ym * gm,
+                xm = gm * mm - vm * pm;
+
+            function wm(e, t, n, r) {
+                return 1 === arguments.length ? function(e) {
+                    if (e instanceof Sm) return new Sm(e.h, e.s, e.l, e.opacity);
+                    e instanceof Ch || (e = Mh(e));
+                    var t = e.r / 255,
+                        n = e.g / 255,
+                        r = e.b / 255,
+                        i = (xm * r + bm * t - _m * n) / (xm + bm - _m),
+                        a = r - i,
+                        o = (ym * (n - i) - mm * a) / vm,
+                        u = Math.sqrt(o * o + a * a) / (ym * i * (1 - i)),
+                        s = u ? Math.atan2(o, a) * Gg - 120 : NaN;
+                    return new Sm(s < 0 ? s + 360 : s, u, i, e.opacity)
+                }(e) : new Sm(e, t, n, null == r ? 1 : r)
             }
 
-            function Bm(e, t, n, r) {
+            function Sm(e, t, n, r) {
                 this.h = +e, this.s = +t, this.l = +n, this.opacity = +r
             }
 
-            function qm(e) {
+            function Em(e) {
                 return function t(n) {
                     function r(t, r) {
-                        var i = e((t = jm(t)).h, (r = jm(r)).h),
-                            a = Rh(t.s, r.s),
-                            o = Rh(t.l, r.l),
-                            u = Rh(t.opacity, r.opacity);
+                        var i = e((t = wm(t)).h, (r = wm(r)).h),
+                            a = Wh(t.s, r.s),
+                            o = Wh(t.l, r.l),
+                            u = Wh(t.opacity, r.opacity);
                         return function(e) {
                             return t.h = i(e), t.s = a(e), t.l = o(Math.pow(e, n)), t.opacity = u(e), t + ""
                         }
                     }
                     return n = +n, r.gamma = t, r
                 }(1)
             }
-            Jd(Bm, jm, Qd(Zd, {
+            oh(Sm, wm, uh(sh, {
                 brighter: function(e) {
-                    return e = null == e ? th : Math.pow(th, e), new Bm(this.h, this.s, this.l * e, this.opacity)
+                    return e = null == e ? ch : Math.pow(ch, e), new Sm(this.h, this.s, this.l * e, this.opacity)
                 },
                 darker: function(e) {
-                    return e = null == e ? eh : Math.pow(eh, e), new Bm(this.h, this.s, this.l * e, this.opacity)
+                    return e = null == e ? lh : Math.pow(lh, e), new Sm(this.h, this.s, this.l * e, this.opacity)
                 },
                 rgb: function() {
-                    var e = isNaN(this.h) ? 0 : (this.h + 120) * lm,
+                    var e = isNaN(this.h) ? 0 : (this.h + 120) * Vg,
                         t = +this.l,
                         n = isNaN(this.s) ? 0 : this.s * t * (1 - t),
                         r = Math.cos(e),
                         i = Math.sin(e);
-                    return new _h(255 * (t + n * (Nm * r + Tm * i)), 255 * (t + n * (Om * r + Pm * i)), 255 * (t + n * (Rm * r)), this.opacity)
+                    return new Ch(255 * (t + n * (pm * r + gm * i)), 255 * (t + n * (mm * r + vm * i)), 255 * (t + n * (ym * r)), this.opacity)
                 }
             }));
-            const Hm = qm(Ph);
-            var Wm = qm(Rh);
+            const Am = Em(Hh);
+            var km = Em(Wh);
 
-            function Ym(e, t) {
+            function Mm(e, t) {
                 for (var n = 0, r = t.length - 1, i = t[0], a = new Array(r < 0 ? 0 : r); n < r;) a[n] = e(i, i = t[++n]);
                 return function(e) {
                     var t = Math.max(0, Math.min(r - 1, Math.floor(e *= r)));
                     return a[t](e - t)
                 }
             }
 
-            function Vm(e, t) {
+            function Dm(e, t) {
                 for (var n = new Array(t), r = 0; r < t; ++r) n[r] = e(r / (t - 1));
                 return n
             }
 
-            function Gm(e, t) {
+            function Cm(e, t) {
                 var n = t[0],
-                    r = (0, ke.peek)(t) - n;
+                    r = (0, Ee.peek)(t) - n;
                 return function(t) {
                     return e(n + t * r)
                 }
             }
 
-            function Xm(e, t, n) {
+            function Fm(e, t, n) {
                 var r = n - t;
                 return r && isFinite(r) ? "linear" === e.type || "sequential" === e.type ? function(e) {
                     return (e - t) / r
-                } : e.copy().domain([t, n]).range([0, 1]).interpolate($m) : (0, ke.constant)(0)
+                } : e.copy().domain([t, n]).range([0, 1]).interpolate(Nm) : (0, Ee.constant)(0)
             }
 
-            function $m(e, t) {
+            function Nm(e, t) {
                 var n = t - e;
                 return function(t) {
                     return e + t * n
                 }
             }
 
-            function Km(e, t) {
+            function Om(e, t) {
                 var n = a[function(e) {
                     return "interpolate" + e.toLowerCase().split("-").map((function(e) {
                         return e[0].toUpperCase() + e.slice(1)
                     })).join("")
                 }(e)];
                 return null != t && n && n.gamma ? n.gamma(t) : n
             }
 
-            function Jm(e) {
+            function Tm(e) {
                 for (var t = e.length / 6 | 0, n = new Array(t), r = 0; r < t;) n[r] = "#" + e.slice(6 * r, 6 * ++r);
                 return n
             }
-            var Qm = Jm("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),
-                Zm = Jm("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),
-                ev = Jm("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),
-                tv = Jm("4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac"),
-                nv = Jm("4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"),
-                rv = new Array(3).concat("67a9cff7f7f7f1a340", "0571b092c5defdb863e66101", "0571b092c5def7f7f7fdb863e66101", "2166ac67a9cfd1e5f0fee0b6f1a340b35806", "2166ac67a9cfd1e5f0f7f7f7fee0b6f1a340b35806", "2166ac4393c392c5ded1e5f0fee0b6fdb863e08214b35806", "2166ac4393c392c5ded1e5f0f7f7f7fee0b6fdb863e08214b35806", "0530612166ac4393c392c5ded1e5f0fee0b6fdb863e08214b358067f3b08", "0530612166ac4393c392c5ded1e5f0f7f7f7fee0b6fdb863e08214b358067f3b08").map(Jm);
+            var Pm = Tm("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),
+                Rm = Tm("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),
+                Lm = Tm("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),
+                zm = Tm("4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac"),
+                Im = Tm("4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"),
+                jm = new Array(3).concat("67a9cff7f7f7f1a340", "0571b092c5defdb863e66101", "0571b092c5def7f7f7fdb863e66101", "2166ac67a9cfd1e5f0fee0b6f1a340b35806", "2166ac67a9cfd1e5f0f7f7f7fee0b6f1a340b35806", "2166ac4393c392c5ded1e5f0fee0b6fdb863e08214b35806", "2166ac4393c392c5ded1e5f0f7f7f7fee0b6fdb863e08214b35806", "0530612166ac4393c392c5ded1e5f0fee0b6fdb863e08214b358067f3b08", "0530612166ac4393c392c5ded1e5f0f7f7f7fee0b6fdb863e08214b358067f3b08").map(Tm);
 
-            function iv(e) {
+            function Bm(e) {
                 for (var t = e.length / 6 | 0, n = new Array(t), r = 0; r < t;) n[r] = "#" + e.slice(6 * r, 6 * ++r);
                 return n
             }
-            const av = iv("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),
-                ov = iv("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),
-                uv = iv("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),
-                sv = iv("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),
-                lv = iv("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),
-                cv = iv("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),
-                fv = iv("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),
-                dv = iv("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),
-                hv = iv("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),
-                pv = iv("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");
-
-            function gv(e) {
-                return Ih(e[e.length - 1])
-            }
-            var mv = new Array(3).concat("d8b365f5f5f55ab4ac", "a6611adfc27d80cdc1018571", "a6611adfc27df5f5f580cdc1018571", "8c510ad8b365f6e8c3c7eae55ab4ac01665e", "8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e", "8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e", "8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e", "5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30", "5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(iv);
-            const vv = gv(mv);
-            var yv = new Array(3).concat("af8dc3f7f7f77fbf7b", "7b3294c2a5cfa6dba0008837", "7b3294c2a5cff7f7f7a6dba0008837", "762a83af8dc3e7d4e8d9f0d37fbf7b1b7837", "762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837", "762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837", "762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837", "40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b", "40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(iv);
-            const bv = gv(yv);
-            var _v = new Array(3).concat("e9a3c9f7f7f7a1d76a", "d01c8bf1b6dab8e1864dac26", "d01c8bf1b6daf7f7f7b8e1864dac26", "c51b7de9a3c9fde0efe6f5d0a1d76a4d9221", "c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221", "c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221", "c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221", "8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419", "8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(iv);
-            const xv = gv(_v);
-            var wv = new Array(3).concat("998ec3f7f7f7f1a340", "5e3c99b2abd2fdb863e66101", "5e3c99b2abd2f7f7f7fdb863e66101", "542788998ec3d8daebfee0b6f1a340b35806", "542788998ec3d8daebf7f7f7fee0b6f1a340b35806", "5427888073acb2abd2d8daebfee0b6fdb863e08214b35806", "5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806", "2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08", "2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(iv);
-            const Sv = gv(wv);
-            var Ev = new Array(3).concat("ef8a62f7f7f767a9cf", "ca0020f4a58292c5de0571b0", "ca0020f4a582f7f7f792c5de0571b0", "b2182bef8a62fddbc7d1e5f067a9cf2166ac", "b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac", "b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac", "b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac", "67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061", "67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(iv);
-            const Av = gv(Ev);
-            var kv = new Array(3).concat("ef8a62ffffff999999", "ca0020f4a582bababa404040", "ca0020f4a582ffffffbababa404040", "b2182bef8a62fddbc7e0e0e09999994d4d4d", "b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d", "b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d", "b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d", "67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a", "67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(iv);
-            const Mv = gv(kv);
-            var Dv = new Array(3).concat("fc8d59ffffbf91bfdb", "d7191cfdae61abd9e92c7bb6", "d7191cfdae61ffffbfabd9e92c7bb6", "d73027fc8d59fee090e0f3f891bfdb4575b4", "d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4", "d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4", "d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4", "a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695", "a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(iv);
-            const Cv = gv(Dv);
-            var Fv = new Array(3).concat("fc8d59ffffbf91cf60", "d7191cfdae61a6d96a1a9641", "d7191cfdae61ffffbfa6d96a1a9641", "d73027fc8d59fee08bd9ef8b91cf601a9850", "d73027fc8d59fee08bffffbfd9ef8b91cf601a9850", "d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850", "d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850", "a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837", "a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(iv);
-            const Nv = gv(Fv);
-            var Tv = new Array(3).concat("fc8d59ffffbf99d594", "d7191cfdae61abdda42b83ba", "d7191cfdae61ffffbfabdda42b83ba", "d53e4ffc8d59fee08be6f59899d5943288bd", "d53e4ffc8d59fee08bffffbfe6f59899d5943288bd", "d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd", "d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd", "9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2", "9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(iv);
-            const Ov = gv(Tv);
-            var Pv = new Array(3).concat("e5f5f999d8c92ca25f", "edf8fbb2e2e266c2a4238b45", "edf8fbb2e2e266c2a42ca25f006d2c", "edf8fbccece699d8c966c2a42ca25f006d2c", "edf8fbccece699d8c966c2a441ae76238b45005824", "f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824", "f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(iv);
-            const Rv = gv(Pv);
-            var Lv = new Array(3).concat("e0ecf49ebcda8856a7", "edf8fbb3cde38c96c688419d", "edf8fbb3cde38c96c68856a7810f7c", "edf8fbbfd3e69ebcda8c96c68856a7810f7c", "edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b", "f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b", "f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(iv);
-            const zv = gv(Lv);
-            var Iv = new Array(3).concat("e0f3dba8ddb543a2ca", "f0f9e8bae4bc7bccc42b8cbe", "f0f9e8bae4bc7bccc443a2ca0868ac", "f0f9e8ccebc5a8ddb57bccc443a2ca0868ac", "f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e", "f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e", "f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(iv);
-            const Uv = gv(Iv);
-            var jv = new Array(3).concat("fee8c8fdbb84e34a33", "fef0d9fdcc8afc8d59d7301f", "fef0d9fdcc8afc8d59e34a33b30000", "fef0d9fdd49efdbb84fc8d59e34a33b30000", "fef0d9fdd49efdbb84fc8d59ef6548d7301f990000", "fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000", "fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(iv);
-            const Bv = gv(jv);
-            var qv = new Array(3).concat("ece2f0a6bddb1c9099", "f6eff7bdc9e167a9cf02818a", "f6eff7bdc9e167a9cf1c9099016c59", "f6eff7d0d1e6a6bddb67a9cf1c9099016c59", "f6eff7d0d1e6a6bddb67a9cf3690c002818a016450", "fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450", "fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(iv);
-            const Hv = gv(qv);
-            var Wv = new Array(3).concat("ece7f2a6bddb2b8cbe", "f1eef6bdc9e174a9cf0570b0", "f1eef6bdc9e174a9cf2b8cbe045a8d", "f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d", "f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b", "fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b", "fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(iv);
-            const Yv = gv(Wv);
-            var Vv = new Array(3).concat("e7e1efc994c7dd1c77", "f1eef6d7b5d8df65b0ce1256", "f1eef6d7b5d8df65b0dd1c77980043", "f1eef6d4b9dac994c7df65b0dd1c77980043", "f1eef6d4b9dac994c7df65b0e7298ace125691003f", "f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f", "f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(iv);
-            const Gv = gv(Vv);
-            var Xv = new Array(3).concat("fde0ddfa9fb5c51b8a", "feebe2fbb4b9f768a1ae017e", "feebe2fbb4b9f768a1c51b8a7a0177", "feebe2fcc5c0fa9fb5f768a1c51b8a7a0177", "feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177", "fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177", "fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(iv);
-            const $v = gv(Xv);
-            var Kv = new Array(3).concat("edf8b17fcdbb2c7fb8", "ffffcca1dab441b6c4225ea8", "ffffcca1dab441b6c42c7fb8253494", "ffffccc7e9b47fcdbb41b6c42c7fb8253494", "ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84", "ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84", "ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(iv);
-            const Jv = gv(Kv);
-            var Qv = new Array(3).concat("f7fcb9addd8e31a354", "ffffccc2e69978c679238443", "ffffccc2e69978c67931a354006837", "ffffccd9f0a3addd8e78c67931a354006837", "ffffccd9f0a3addd8e78c67941ab5d238443005a32", "ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32", "ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(iv);
-            const Zv = gv(Qv);
-            var ey = new Array(3).concat("fff7bcfec44fd95f0e", "ffffd4fed98efe9929cc4c02", "ffffd4fed98efe9929d95f0e993404", "ffffd4fee391fec44ffe9929d95f0e993404", "ffffd4fee391fec44ffe9929ec7014cc4c028c2d04", "ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04", "ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(iv);
-            const ty = gv(ey);
-            var ny = new Array(3).concat("ffeda0feb24cf03b20", "ffffb2fecc5cfd8d3ce31a1c", "ffffb2fecc5cfd8d3cf03b20bd0026", "ffffb2fed976feb24cfd8d3cf03b20bd0026", "ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026", "ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026", "ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(iv);
-            const ry = gv(ny);
-            var iy = new Array(3).concat("deebf79ecae13182bd", "eff3ffbdd7e76baed62171b5", "eff3ffbdd7e76baed63182bd08519c", "eff3ffc6dbef9ecae16baed63182bd08519c", "eff3ffc6dbef9ecae16baed64292c62171b5084594", "f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594", "f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(iv);
-            const ay = gv(iy);
-            var oy = new Array(3).concat("e5f5e0a1d99b31a354", "edf8e9bae4b374c476238b45", "edf8e9bae4b374c47631a354006d2c", "edf8e9c7e9c0a1d99b74c47631a354006d2c", "edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32", "f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32", "f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(iv);
-            const uy = gv(oy);
-            var sy = new Array(3).concat("f0f0f0bdbdbd636363", "f7f7f7cccccc969696525252", "f7f7f7cccccc969696636363252525", "f7f7f7d9d9d9bdbdbd969696636363252525", "f7f7f7d9d9d9bdbdbd969696737373525252252525", "fffffff0f0f0d9d9d9bdbdbd969696737373525252252525", "fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(iv);
-            const ly = gv(sy);
-            var cy = new Array(3).concat("efedf5bcbddc756bb1", "f2f0f7cbc9e29e9ac86a51a3", "f2f0f7cbc9e29e9ac8756bb154278f", "f2f0f7dadaebbcbddc9e9ac8756bb154278f", "f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486", "fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486", "fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(iv);
-            const fy = gv(cy);
-            var dy = new Array(3).concat("fee0d2fc9272de2d26", "fee5d9fcae91fb6a4acb181d", "fee5d9fcae91fb6a4ade2d26a50f15", "fee5d9fcbba1fc9272fb6a4ade2d26a50f15", "fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d", "fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d", "fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(iv);
-            const hy = gv(dy);
-            var py = new Array(3).concat("fee6cefdae6be6550d", "feeddefdbe85fd8d3cd94701", "feeddefdbe85fd8d3ce6550da63603", "feeddefdd0a2fdae6bfd8d3ce6550da63603", "feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04", "fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04", "fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(iv);
-            const gy = gv(py);
+            const Um = Bm("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),
+                qm = Bm("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),
+                Hm = Bm("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),
+                Wm = Bm("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),
+                Vm = Bm("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),
+                Gm = Bm("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),
+                Ym = Bm("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),
+                Xm = Bm("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),
+                $m = Bm("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");
 
-            function my(e) {
-                return e = Math.max(0, Math.min(1, e)), "rgb(" + Math.max(0, Math.min(255, Math.round(-4.54 - e * (35.34 - e * (2381.73 - e * (6402.7 - e * (7024.72 - 2710.57 * e))))))) + ", " + Math.max(0, Math.min(255, Math.round(32.49 + e * (170.73 + e * (52.82 - e * (131.46 - e * (176.58 - 67.37 * e))))))) + ", " + Math.max(0, Math.min(255, Math.round(81.24 + e * (442.36 - e * (2482.43 - e * (6167.24 - e * (6614.94 - 2475.67 * e))))))) + ")"
+            function Km(e) {
+                var t = e.length;
+                return function(n) {
+                    return e[Math.max(0, Math.min(t - 1, Math.floor(n * t)))]
+                }
             }
-            const vy = Wm(jm(300, .5, 0), jm(-240, .5, 1));
-            var yy = Wm(jm(-100, .75, .35), jm(80, 1.5, .8)),
-                by = Wm(jm(260, .75, .35), jm(80, 1.5, .8)),
-                _y = jm();
+            const Jm = Km(Bm("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));
+            var Qm = Km(Bm("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),
+                Zm = Km(Bm("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),
+                ev = Km(Bm("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),
+                tv = km(wm(-100, .75, .35), wm(80, 1.5, .8)),
+                nv = km(wm(260, .75, .35), wm(80, 1.5, .8)),
+                rv = wm();
 
-            function xy(e) {
+            function iv(e) {
                 (e < 0 || e > 1) && (e -= Math.floor(e));
                 var t = Math.abs(e - .5);
-                return _y.h = 360 * e - 100, _y.s = 1.5 - 1.5 * t, _y.l = .8 - .9 * t, _y + ""
+                return rv.h = 360 * e - 100, rv.s = 1.5 - 1.5 * t, rv.l = .8 - .9 * t, rv + ""
             }
-            var wy = bh(),
-                Sy = Math.PI / 3,
-                Ey = 2 * Math.PI / 3;
+            var av = Dh(),
+                ov = Math.PI / 3,
+                uv = 2 * Math.PI / 3;
 
-            function Ay(e) {
+            function sv(e) {
                 var t;
-                return e = (.5 - e) * Math.PI, wy.r = 255 * (t = Math.sin(e)) * t, wy.g = 255 * (t = Math.sin(e + Sy)) * t, wy.b = 255 * (t = Math.sin(e + Ey)) * t, wy + ""
+                return e = (.5 - e) * Math.PI, av.r = 255 * (t = Math.sin(e)) * t, av.g = 255 * (t = Math.sin(e + ov)) * t, av.b = 255 * (t = Math.sin(e + uv)) * t, av + ""
             }
+            const lv = Bm("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");
 
-            function ky(e) {
-                return e = Math.max(0, Math.min(1, e)), "rgb(" + Math.max(0, Math.min(255, Math.round(34.61 + e * (1172.33 - e * (10793.56 - e * (33300.12 - e * (38394.49 - 14825.05 * e))))))) + ", " + Math.max(0, Math.min(255, Math.round(23.31 + e * (557.33 + e * (1225.33 - e * (3574.96 - e * (1073.77 + 707.56 * e))))))) + ", " + Math.max(0, Math.min(255, Math.round(27.2 + e * (3211.1 - e * (15327.97 - e * (27814 - e * (22569.18 - 6838.66 * e))))))) + ")"
+            function cv(e) {
+                return Yh(e[e.length - 1])
             }
+            var fv = new Array(3).concat("d8b365f5f5f55ab4ac", "a6611adfc27d80cdc1018571", "a6611adfc27df5f5f580cdc1018571", "8c510ad8b365f6e8c3c7eae55ab4ac01665e", "8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e", "8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e", "8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e", "5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30", "5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Bm);
+            const dv = cv(fv);
+            var hv = new Array(3).concat("af8dc3f7f7f77fbf7b", "7b3294c2a5cfa6dba0008837", "7b3294c2a5cff7f7f7a6dba0008837", "762a83af8dc3e7d4e8d9f0d37fbf7b1b7837", "762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837", "762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837", "762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837", "40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b", "40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Bm);
+            const pv = cv(hv);
+            var gv = new Array(3).concat("e9a3c9f7f7f7a1d76a", "d01c8bf1b6dab8e1864dac26", "d01c8bf1b6daf7f7f7b8e1864dac26", "c51b7de9a3c9fde0efe6f5d0a1d76a4d9221", "c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221", "c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221", "c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221", "8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419", "8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Bm);
+            const mv = cv(gv);
+            var vv = new Array(3).concat("998ec3f7f7f7f1a340", "5e3c99b2abd2fdb863e66101", "5e3c99b2abd2f7f7f7fdb863e66101", "542788998ec3d8daebfee0b6f1a340b35806", "542788998ec3d8daebf7f7f7fee0b6f1a340b35806", "5427888073acb2abd2d8daebfee0b6fdb863e08214b35806", "5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806", "2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08", "2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Bm);
+            const yv = cv(vv);
+            var bv = new Array(3).concat("ef8a62f7f7f767a9cf", "ca0020f4a58292c5de0571b0", "ca0020f4a582f7f7f792c5de0571b0", "b2182bef8a62fddbc7d1e5f067a9cf2166ac", "b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac", "b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac", "b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac", "67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061", "67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Bm);
+            const _v = cv(bv);
+            var xv = new Array(3).concat("ef8a62ffffff999999", "ca0020f4a582bababa404040", "ca0020f4a582ffffffbababa404040", "b2182bef8a62fddbc7e0e0e09999994d4d4d", "b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d", "b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d", "b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d", "67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a", "67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Bm);
+            const wv = cv(xv);
+            var Sv = new Array(3).concat("fc8d59ffffbf91bfdb", "d7191cfdae61abd9e92c7bb6", "d7191cfdae61ffffbfabd9e92c7bb6", "d73027fc8d59fee090e0f3f891bfdb4575b4", "d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4", "d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4", "d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4", "a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695", "a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Bm);
+            const Ev = cv(Sv);
+            var Av = new Array(3).concat("fc8d59ffffbf91cf60", "d7191cfdae61a6d96a1a9641", "d7191cfdae61ffffbfa6d96a1a9641", "d73027fc8d59fee08bd9ef8b91cf601a9850", "d73027fc8d59fee08bffffbfd9ef8b91cf601a9850", "d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850", "d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850", "a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837", "a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Bm);
+            const kv = cv(Av);
+            var Mv = new Array(3).concat("fc8d59ffffbf99d594", "d7191cfdae61abdda42b83ba", "d7191cfdae61ffffbfabdda42b83ba", "d53e4ffc8d59fee08be6f59899d5943288bd", "d53e4ffc8d59fee08bffffbfe6f59899d5943288bd", "d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd", "d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd", "9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2", "9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Bm);
+            const Dv = cv(Mv);
+            var Cv = new Array(3).concat("e5f5f999d8c92ca25f", "edf8fbb2e2e266c2a4238b45", "edf8fbb2e2e266c2a42ca25f006d2c", "edf8fbccece699d8c966c2a42ca25f006d2c", "edf8fbccece699d8c966c2a441ae76238b45005824", "f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824", "f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Bm);
+            const Fv = cv(Cv);
+            var Nv = new Array(3).concat("e0ecf49ebcda8856a7", "edf8fbb3cde38c96c688419d", "edf8fbb3cde38c96c68856a7810f7c", "edf8fbbfd3e69ebcda8c96c68856a7810f7c", "edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b", "f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b", "f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Bm);
+            const Ov = cv(Nv);
+            var Tv = new Array(3).concat("e0f3dba8ddb543a2ca", "f0f9e8bae4bc7bccc42b8cbe", "f0f9e8bae4bc7bccc443a2ca0868ac", "f0f9e8ccebc5a8ddb57bccc443a2ca0868ac", "f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e", "f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e", "f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Bm);
+            const Pv = cv(Tv);
+            var Rv = new Array(3).concat("fee8c8fdbb84e34a33", "fef0d9fdcc8afc8d59d7301f", "fef0d9fdcc8afc8d59e34a33b30000", "fef0d9fdd49efdbb84fc8d59e34a33b30000", "fef0d9fdd49efdbb84fc8d59ef6548d7301f990000", "fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000", "fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Bm);
+            const Lv = cv(Rv);
+            var zv = new Array(3).concat("ece2f0a6bddb1c9099", "f6eff7bdc9e167a9cf02818a", "f6eff7bdc9e167a9cf1c9099016c59", "f6eff7d0d1e6a6bddb67a9cf1c9099016c59", "f6eff7d0d1e6a6bddb67a9cf3690c002818a016450", "fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450", "fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Bm);
+            const Iv = cv(zv);
+            var jv = new Array(3).concat("ece7f2a6bddb2b8cbe", "f1eef6bdc9e174a9cf0570b0", "f1eef6bdc9e174a9cf2b8cbe045a8d", "f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d", "f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b", "fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b", "fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Bm);
+            const Bv = cv(jv);
+            var Uv = new Array(3).concat("e7e1efc994c7dd1c77", "f1eef6d7b5d8df65b0ce1256", "f1eef6d7b5d8df65b0dd1c77980043", "f1eef6d4b9dac994c7df65b0dd1c77980043", "f1eef6d4b9dac994c7df65b0e7298ace125691003f", "f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f", "f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Bm);
+            const qv = cv(Uv);
+            var Hv = new Array(3).concat("fde0ddfa9fb5c51b8a", "feebe2fbb4b9f768a1ae017e", "feebe2fbb4b9f768a1c51b8a7a0177", "feebe2fcc5c0fa9fb5f768a1c51b8a7a0177", "feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177", "fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177", "fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Bm);
+            const Wv = cv(Hv);
+            var Vv = new Array(3).concat("edf8b17fcdbb2c7fb8", "ffffcca1dab441b6c4225ea8", "ffffcca1dab441b6c42c7fb8253494", "ffffccc7e9b47fcdbb41b6c42c7fb8253494", "ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84", "ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84", "ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Bm);
+            const Gv = cv(Vv);
+            var Yv = new Array(3).concat("f7fcb9addd8e31a354", "ffffccc2e69978c679238443", "ffffccc2e69978c67931a354006837", "ffffccd9f0a3addd8e78c67931a354006837", "ffffccd9f0a3addd8e78c67941ab5d238443005a32", "ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32", "ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Bm);
+            const Xv = cv(Yv);
+            var $v = new Array(3).concat("fff7bcfec44fd95f0e", "ffffd4fed98efe9929cc4c02", "ffffd4fed98efe9929d95f0e993404", "ffffd4fee391fec44ffe9929d95f0e993404", "ffffd4fee391fec44ffe9929ec7014cc4c028c2d04", "ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04", "ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Bm);
+            const Kv = cv($v);
+            var Jv = new Array(3).concat("ffeda0feb24cf03b20", "ffffb2fecc5cfd8d3ce31a1c", "ffffb2fecc5cfd8d3cf03b20bd0026", "ffffb2fed976feb24cfd8d3cf03b20bd0026", "ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026", "ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026", "ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Bm);
+            const Qv = cv(Jv);
+            var Zv = new Array(3).concat("deebf79ecae13182bd", "eff3ffbdd7e76baed62171b5", "eff3ffbdd7e76baed63182bd08519c", "eff3ffc6dbef9ecae16baed63182bd08519c", "eff3ffc6dbef9ecae16baed64292c62171b5084594", "f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594", "f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Bm);
+            const ey = cv(Zv);
+            var ty = new Array(3).concat("e5f5e0a1d99b31a354", "edf8e9bae4b374c476238b45", "edf8e9bae4b374c47631a354006d2c", "edf8e9c7e9c0a1d99b74c47631a354006d2c", "edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32", "f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32", "f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Bm);
+            const ny = cv(ty);
+            var ry = new Array(3).concat("f0f0f0bdbdbd636363", "f7f7f7cccccc969696525252", "f7f7f7cccccc969696636363252525", "f7f7f7d9d9d9bdbdbd969696636363252525", "f7f7f7d9d9d9bdbdbd969696737373525252252525", "fffffff0f0f0d9d9d9bdbdbd969696737373525252252525", "fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Bm);
+            const iy = cv(ry);
+            var ay = new Array(3).concat("efedf5bcbddc756bb1", "f2f0f7cbc9e29e9ac86a51a3", "f2f0f7cbc9e29e9ac8756bb154278f", "f2f0f7dadaebbcbddc9e9ac8756bb154278f", "f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486", "fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486", "fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Bm);
+            const oy = cv(ay);
+            var uy = new Array(3).concat("fee0d2fc9272de2d26", "fee5d9fcae91fb6a4acb181d", "fee5d9fcae91fb6a4ade2d26a50f15", "fee5d9fcbba1fc9272fb6a4ade2d26a50f15", "fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d", "fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d", "fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Bm);
+            const sy = cv(uy);
+            var ly = new Array(3).concat("fee6cefdae6be6550d", "feeddefdbe85fd8d3cd94701", "feeddefdbe85fd8d3ce6550da63603", "feeddefdd0a2fdae6bfd8d3ce6550da63603", "feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04", "fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04", "fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Bm);
+            const cy = cv(ly);
 
-            function My(e) {
-                var t = e.length;
-                return function(n) {
-                    return e[Math.max(0, Math.min(t - 1, Math.floor(n * t)))]
-                }
-            }
-            const Dy = My(iv("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));
-            var Cy = My(iv("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),
-                Fy = My(iv("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),
-                Ny = My(iv("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),
-                Ty = {
-                    blueorange: rv
-                },
-                Oy = {
-                    category10: av,
-                    accent: ov,
-                    dark2: uv,
-                    paired: sv,
-                    pastel1: lv,
-                    pastel2: cv,
-                    set1: fv,
-                    set2: dv,
-                    set3: hv,
-                    category20: Qm,
-                    category20b: Zm,
-                    category20c: ev,
-                    tableau10: tv,
-                    tableau20: nv,
-                    viridis: Dy,
-                    magma: Cy,
-                    inferno: Fy,
-                    plasma: Ny,
-                    rainbow: xy,
-                    sinebow: Ay,
-                    blueorange: Ih((0, ke.peek)(rv))
-                };
-
-            function Py(e, t) {
-                Oy[e] = o["interpolate" + t], Ty[e] = o["scheme" + t]
-            }
-
-            function Ry(e, t) {
-                if (arguments.length > 1) return Oy[e] = t, this;
-                var n = e.split("-");
-                return e = n[0], (n = +n[1] + 1) && Ty.hasOwnProperty(e) ? Ty[e][n - 1] : !n && Oy.hasOwnProperty(e) ? Oy[e] : void 0
+            function fy(e) {
+                return e = Math.max(0, Math.min(1, e)), "rgb(" + Math.max(0, Math.min(255, Math.round(-4.54 - e * (35.34 - e * (2381.73 - e * (6402.7 - e * (7024.72 - 2710.57 * e))))))) + ", " + Math.max(0, Math.min(255, Math.round(32.49 + e * (170.73 + e * (52.82 - e * (131.46 - e * (176.58 - 67.37 * e))))))) + ", " + Math.max(0, Math.min(255, Math.round(81.24 + e * (442.36 - e * (2482.43 - e * (6167.24 - e * (6614.94 - 2475.67 * e))))))) + ")"
             }
-            Py("blues", "Blues"), Py("greens", "Greens"), Py("greys", "Greys"), Py("purples", "Purples"), Py("reds", "Reds"), Py("oranges", "Oranges"), Py("brownbluegreen", "BrBG"), Py("purplegreen", "PRGn"), Py("pinkyellowgreen", "PiYG"), Py("purpleorange", "PuOr"), Py("redblue", "RdBu"), Py("redgrey", "RdGy"), Py("redyellowblue", "RdYlBu"), Py("redyellowgreen", "RdYlGn"), Py("spectral", "Spectral"), Py("bluegreen", "BuGn"), Py("bluepurple", "BuPu"), Py("greenblue", "GnBu"), Py("orangered", "OrRd"), Py("purplebluegreen", "PuBuGn"), Py("purpleblue", "PuBu"), Py("purplered", "PuRd"), Py("redpurple", "RdPu"), Py("yellowgreenblue", "YlGnBu"), Py("yellowgreen", "YlGn"), Py("yelloworangebrown", "YlOrBr"), Py("yelloworangered", "YlOrRd");
-            var Ly = new Date,
-                zy = new Date;
+            const dy = km(wm(300, .5, 0), wm(-240, .5, 1));
 
-            function Iy(e, t, n, r) {
-                function i(t) {
-                    return e(t = 0 === arguments.length ? new Date : new Date(+t)), t
-                }
-                return i.floor = function(t) {
-                    return e(t = new Date(+t)), t
-                }, i.ceil = function(n) {
-                    return e(n = new Date(n - 1)), t(n, 1), e(n), n
-                }, i.round = function(e) {
-                    var t = i(e),
-                        n = i.ceil(e);
-                    return e - t < n - e ? t : n
-                }, i.offset = function(e, n) {
-                    return t(e = new Date(+e), null == n ? 1 : Math.floor(n)), e
-                }, i.range = function(n, r, a) {
-                    var o, u = [];
-                    if (n = i.ceil(n), a = null == a ? 1 : Math.floor(a), !(n < r && a > 0)) return u;
-                    do {
-                        u.push(o = new Date(+n)), t(n, a), e(n)
-                    } while (o < n && n < r);
-                    return u
-                }, i.filter = function(n) {
-                    return Iy((function(t) {
-                        if (t >= t)
-                            for (; e(t), !n(t);) t.setTime(t - 1)
-                    }), (function(e, r) {
-                        if (e >= e)
-                            if (r < 0)
-                                for (; ++r <= 0;)
-                                    for (; t(e, -1), !n(e););
-                            else
-                                for (; --r >= 0;)
-                                    for (; t(e, 1), !n(e););
-                    }))
-                }, n && (i.count = function(t, r) {
-                    return Ly.setTime(+t), zy.setTime(+r), e(Ly), e(zy), Math.floor(n(Ly, zy))
-                }, i.every = function(e) {
-                    return e = Math.floor(e), isFinite(e) && e > 0 ? e > 1 ? i.filter(r ? function(t) {
-                        return r(t) % e == 0
-                    } : function(t) {
-                        return i.count(0, t) % e == 0
-                    }) : i : null
-                }), i
+            function hy(e) {
+                return e = Math.max(0, Math.min(1, e)), "rgb(" + Math.max(0, Math.min(255, Math.round(34.61 + e * (1172.33 - e * (10793.56 - e * (33300.12 - e * (38394.49 - 14825.05 * e))))))) + ", " + Math.max(0, Math.min(255, Math.round(23.31 + e * (557.33 + e * (1225.33 - e * (3574.96 - e * (1073.77 + 707.56 * e))))))) + ", " + Math.max(0, Math.min(255, Math.round(27.2 + e * (3211.1 - e * (15327.97 - e * (27814 - e * (22569.18 - 6838.66 * e))))))) + ")"
             }
-            var Uy = Iy((function() {}), (function(e, t) {
-                e.setTime(+e + t)
-            }), (function(e, t) {
-                return t - e
-            }));
-            Uy.every = function(e) {
-                return e = Math.floor(e), isFinite(e) && e > 0 ? e > 1 ? Iy((function(t) {
-                    t.setTime(Math.floor(t / e) * e)
-                }), (function(t, n) {
-                    t.setTime(+t + n * e)
-                }), (function(t, n) {
-                    return (n - t) / e
-                })) : Uy : null
-            };
-            const jy = Uy;
-            Uy.range;
-            var By = 1e3,
-                qy = 6e4,
-                Hy = 36e5,
-                Wy = 864e5,
-                Yy = 6048e5,
-                Vy = Iy((function(e) {
-                    e.setTime(e - e.getMilliseconds())
-                }), (function(e, t) {
-                    e.setTime(+e + t * By)
-                }), (function(e, t) {
-                    return (t - e) / By
-                }), (function(e) {
-                    return e.getUTCSeconds()
-                }));
-            const Gy = Vy;
-            Vy.range;
-            var Xy = Iy((function(e) {
-                e.setTime(e - e.getMilliseconds() - e.getSeconds() * By)
-            }), (function(e, t) {
-                e.setTime(+e + t * qy)
-            }), (function(e, t) {
-                return (t - e) / qy
-            }), (function(e) {
-                return e.getMinutes()
-            }));
-            const $y = Xy;
-            Xy.range;
-            var Ky = Iy((function(e) {
-                e.setTime(e - e.getMilliseconds() - e.getSeconds() * By - e.getMinutes() * qy)
-            }), (function(e, t) {
-                e.setTime(+e + t * Hy)
-            }), (function(e, t) {
-                return (t - e) / Hy
-            }), (function(e) {
-                return e.getHours()
-            }));
-            const Jy = Ky;
-            Ky.range;
-            var Qy = Iy((function(e) {
-                e.setHours(0, 0, 0, 0)
-            }), (function(e, t) {
-                e.setDate(e.getDate() + t)
-            }), (function(e, t) {
-                return (t - e - (t.getTimezoneOffset() - e.getTimezoneOffset()) * qy) / Wy
-            }), (function(e) {
-                return e.getDate() - 1
-            }));
-            const Zy = Qy;
+            var py = {
+                    blueorange: jm
+                },
+                gy = {
+                    category10: Um,
+                    accent: qm,
+                    dark2: Hm,
+                    paired: Wm,
+                    pastel1: Vm,
+                    pastel2: Gm,
+                    set1: Ym,
+                    set2: Xm,
+                    set3: $m,
+                    category20: Pm,
+                    category20b: Rm,
+                    category20c: Lm,
+                    tableau10: zm,
+                    tableau20: Im,
+                    viridis: Jm,
+                    magma: Qm,
+                    inferno: Zm,
+                    plasma: ev,
+                    rainbow: iv,
+                    sinebow: sv,
+                    blueorange: Yh((0, Ee.peek)(jm))
+                };
 
-            function eb(e) {
-                return Iy((function(t) {
-                    t.setDate(t.getDate() - (t.getDay() + 7 - e) % 7), t.setHours(0, 0, 0, 0)
-                }), (function(e, t) {
-                    e.setDate(e.getDate() + 7 * t)
-                }), (function(e, t) {
-                    return (t - e - (t.getTimezoneOffset() - e.getTimezoneOffset()) * qy) / Yy
-                }))
+            function my(e, t) {
+                gy[e] = o["interpolate" + t], py[e] = o["scheme" + t]
             }
-            Qy.range;
-            var tb = eb(0),
-                nb = eb(1),
-                rb = eb(2),
-                ib = eb(3),
-                ab = eb(4),
-                ob = eb(5),
-                ub = eb(6),
-                sb = (tb.range, nb.range, rb.range, ib.range, ab.range, ob.range, ub.range, Iy((function(e) {
-                    e.setDate(1), e.setHours(0, 0, 0, 0)
-                }), (function(e, t) {
-                    e.setMonth(e.getMonth() + t)
-                }), (function(e, t) {
-                    return t.getMonth() - e.getMonth() + 12 * (t.getFullYear() - e.getFullYear())
-                }), (function(e) {
-                    return e.getMonth()
-                })));
-            const lb = sb;
-            sb.range;
-            var cb = Iy((function(e) {
-                e.setMonth(0, 1), e.setHours(0, 0, 0, 0)
-            }), (function(e, t) {
-                e.setFullYear(e.getFullYear() + t)
-            }), (function(e, t) {
-                return t.getFullYear() - e.getFullYear()
-            }), (function(e) {
-                return e.getFullYear()
-            }));
-            cb.every = function(e) {
-                return isFinite(e = Math.floor(e)) && e > 0 ? Iy((function(t) {
-                    t.setFullYear(Math.floor(t.getFullYear() / e) * e), t.setMonth(0, 1), t.setHours(0, 0, 0, 0)
-                }), (function(t, n) {
-                    t.setFullYear(t.getFullYear() + n * e)
-                })) : null
-            };
-            const fb = cb;
-            cb.range;
-            var db = Iy((function(e) {
-                e.setUTCSeconds(0, 0)
-            }), (function(e, t) {
-                e.setTime(+e + t * qy)
-            }), (function(e, t) {
-                return (t - e) / qy
-            }), (function(e) {
-                return e.getUTCMinutes()
-            }));
-            const hb = db;
-            db.range;
-            var pb = Iy((function(e) {
-                e.setUTCMinutes(0, 0, 0)
-            }), (function(e, t) {
-                e.setTime(+e + t * Hy)
-            }), (function(e, t) {
-                return (t - e) / Hy
-            }), (function(e) {
-                return e.getUTCHours()
-            }));
-            const gb = pb;
-            pb.range;
-            var mb = Iy((function(e) {
-                e.setUTCHours(0, 0, 0, 0)
-            }), (function(e, t) {
-                e.setUTCDate(e.getUTCDate() + t)
-            }), (function(e, t) {
-                return (t - e) / Wy
-            }), (function(e) {
-                return e.getUTCDate() - 1
-            }));
-            const vb = mb;
 
-            function yb(e) {
-                return Iy((function(t) {
-                    t.setUTCDate(t.getUTCDate() - (t.getUTCDay() + 7 - e) % 7), t.setUTCHours(0, 0, 0, 0)
-                }), (function(e, t) {
-                    e.setUTCDate(e.getUTCDate() + 7 * t)
-                }), (function(e, t) {
-                    return (t - e) / Yy
-                }))
+            function vy(e, t) {
+                if (arguments.length > 1) return gy[e] = t, this;
+                var n = e.split("-");
+                return e = n[0], (n = +n[1] + 1) && py.hasOwnProperty(e) ? py[e][n - 1] : !n && gy.hasOwnProperty(e) ? gy[e] : void 0
             }
-            mb.range;
-            var bb = yb(0),
-                _b = yb(1),
-                xb = yb(2),
-                wb = yb(3),
-                Sb = yb(4),
-                Eb = yb(5),
-                Ab = yb(6),
-                kb = (bb.range, _b.range, xb.range, wb.range, Sb.range, Eb.range, Ab.range, Iy((function(e) {
-                    e.setUTCDate(1), e.setUTCHours(0, 0, 0, 0)
-                }), (function(e, t) {
-                    e.setUTCMonth(e.getUTCMonth() + t)
-                }), (function(e, t) {
-                    return t.getUTCMonth() - e.getUTCMonth() + 12 * (t.getUTCFullYear() - e.getUTCFullYear())
-                }), (function(e) {
-                    return e.getUTCMonth()
-                })));
-            const Mb = kb;
-            kb.range;
-            var Db = Iy((function(e) {
-                e.setUTCMonth(0, 1), e.setUTCHours(0, 0, 0, 0)
-            }), (function(e, t) {
-                e.setUTCFullYear(e.getUTCFullYear() + t)
-            }), (function(e, t) {
-                return t.getUTCFullYear() - e.getUTCFullYear()
-            }), (function(e) {
-                return e.getUTCFullYear()
-            }));
-            Db.every = function(e) {
-                return isFinite(e = Math.floor(e)) && e > 0 ? Iy((function(t) {
-                    t.setUTCFullYear(Math.floor(t.getUTCFullYear() / e) * e), t.setUTCMonth(0, 1), t.setUTCHours(0, 0, 0, 0)
-                }), (function(t, n) {
-                    t.setUTCFullYear(t.getUTCFullYear() + n * e)
-                })) : null
-            };
-            const Cb = Db;
-            Db.range;
-            var Fb = {
-                    millisecond: jy,
-                    second: Gy,
-                    minute: $y,
-                    hour: Jy,
-                    day: Zy,
-                    week: tb,
-                    month: lb,
-                    year: fb
-                },
-                Nb = {
-                    millisecond: jy,
-                    second: Gy,
-                    minute: hb,
-                    hour: gb,
-                    day: vb,
-                    week: bb,
-                    month: Mb,
-                    year: Cb
+            my("blues", "Blues"), my("greens", "Greens"), my("greys", "Greys"), my("purples", "Purples"), my("reds", "Reds"), my("oranges", "Oranges"), my("brownbluegreen", "BrBG"), my("purplegreen", "PRGn"), my("pinkyellowgreen", "PiYG"), my("purpleorange", "PuOr"), my("redblue", "RdBu"), my("redgrey", "RdGy"), my("redyellowblue", "RdYlBu"), my("redyellowgreen", "RdYlGn"), my("spectral", "Spectral"), my("bluegreen", "BuGn"), my("bluepurple", "BuPu"), my("greenblue", "GnBu"), my("orangered", "OrRd"), my("purplebluegreen", "PuBuGn"), my("purpleblue", "PuBu"), my("purplered", "PuRd"), my("redpurple", "RdPu"), my("yellowgreenblue", "YlGnBu"), my("yellowgreen", "YlGn"), my("yelloworangebrown", "YlOrBr"), my("yelloworangered", "YlOrRd");
+            var yy = {
+                    millisecond: eg,
+                    second: Qp,
+                    minute: Kp,
+                    hour: Xp,
+                    day: Nn,
+                    week: Sn,
+                    month: Gp,
+                    year: Tn
+                },
+                by = {
+                    millisecond: eg,
+                    second: Qp,
+                    minute: gg,
+                    hour: hg,
+                    day: xn,
+                    week: hn,
+                    month: fg,
+                    year: Rn
                 };
 
-            function Tb(e) {
-                return Fb.hasOwnProperty(e) && Fb[e]
+            function _y(e) {
+                return yy.hasOwnProperty(e) && yy[e]
             }
 
-            function Ob(e) {
-                return Nb.hasOwnProperty(e) && Nb[e]
+            function xy(e) {
+                return by.hasOwnProperty(e) && by[e]
             }
 
-            function Pb(e, t) {
+            function wy(e, t) {
                 var n;
-                return (0, ke.isObject)(t) && (n = t.step, t = t.interval), (0, ke.isString)(t) && (t = "time" === e.type ? Tb(t) : "utc" === e.type ? Ob(t) : (0, ke.error)("Only time and utc scales accept interval strings."), n && (t = t.every(n))), t
+                return (0, Ee.isObject)(t) && (n = t.step, t = t.interval), (0, Ee.isString)(t) && (t = "time" === e.type ? _y(t) : "utc" === e.type ? xy(t) : (0, Ee.error)("Only time and utc scales accept interval strings."), n && (t = t.every(n))), t
             }
 
-            function Rb(e, t, n) {
+            function Sy(e, t, n) {
                 var r = e.range(),
                     i = r[0],
-                    a = (0, ke.peek)(r);
+                    a = (0, Ee.peek)(r);
                 if (i > a && (r = a, a = i, i = r), t = t.filter((function(t) {
                         return !((t = e(t)) < i || t > a)
                     })), n > 0 && t.length > 1) {
-                    for (var o = [t[0], (0, ke.peek)(t)]; t.length > n && t.length >= 3;) t = t.filter((function(e, t) {
+                    for (var o = [t[0], (0, Ee.peek)(t)]; t.length > n && t.length >= 3;) t = t.filter((function(e, t) {
                         return !(t % 2)
                     }));
                     t.length < 3 && (t = o)
                 }
                 return t
             }
 
-            function Lb(e, t) {
+            function Ey(e, t) {
                 return e.ticks ? e.ticks(t) : e.domain()
             }
 
-            function zb(e, t, n) {
+            function Ay(e, t, n) {
                 var r, i, a = e.tickFormat ? e.tickFormat(t, n) : String;
-                return e.type === yd ? (r = a, i = Ib(n), function(e) {
+                return e.type === zd ? (r = a, i = ky(n), function(e) {
                     return r(e) ? i(e) : ""
                 }) : a
             }
 
-            function Ib(e) {
-                var t = cp(e || ",");
+            function ky(e) {
+                var t = bp(e || ",");
                 if (null == t.precision) {
                     switch (t.precision = 12, t.type) {
                         case "%":
                             t.precision -= 2;
                             break;
                         case "e":
                             t.precision -= 1
@@ -12210,194 +11801,194 @@
                                         if ((n = e.charCodeAt(r)) >= 48 && n <= 57) return r + 1
                                 }(a, o), i = r < a.length ? a.slice(r) : ""; --r > o;)
                                 if ("0" !== a[r]) {
                                     ++r;
                                     break
                                 } return a.slice(0, r) + i
                         }
-                    }(yp(t), yp(".1f")(1)[1])
+                    }(Mp(t), Mp(".1f")(1)[1])
                 }
-                return yp(t)
+                return Mp(t)
             }
 
-            function Ub(e) {
-                Di.call(this, null, e)
+            function My(e) {
+                Ci.call(this, null, e)
             }
 
-            function jb(e) {
-                Di.call(this, null, e)
+            function Dy(e) {
+                Ci.call(this, null, e)
             }
 
-            function Bb() {
-                return Oe({})
+            function Cy() {
+                return Ne({})
             }
 
-            function qb(e) {
+            function Fy(e) {
                 return e.exit
             }
 
-            function Hb(e) {
-                Di.call(this, null, e)
-            }(0, ke.inherits)(Ub, Di).transform = function(e, t) {
+            function Ny(e) {
+                Ci.call(this, null, e)
+            }(0, Ee.inherits)(My, Ci).transform = function(e, t) {
                 if (this.value && !e.modified()) return t.StopPropagation;
                 var n = t.fork(t.NO_SOURCE | t.NO_FIELDS),
                     r = this.value,
                     i = e.scale,
-                    a = null == e.count ? e.values ? e.values.length : 10 : Pb(i, e.count),
-                    o = e.format || zb(i, a, e.formatSpecifier),
-                    u = e.values ? Rb(i, e.values, a) : Lb(i, a);
+                    a = null == e.count ? e.values ? e.values.length : 10 : wy(i, e.count),
+                    o = e.format || Ay(i, a, e.formatSpecifier),
+                    u = e.values ? Sy(i, e.values, a) : Ey(i, a);
                 return r && (n.rem = r), r = u.map((function(e, t) {
-                    return Oe({
+                    return Ne({
                         index: t / (u.length - 1),
                         value: e,
                         label: o(e)
                     })
-                })), e.extra && r.push(Oe({
+                })), e.extra && r.push(Ne({
                     index: -1,
                     extra: {
                         value: r[0].value
                     },
                     label: ""
                 })), n.source = r, n.add = r, this.value = r, n
-            }, (0, ke.inherits)(jb, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(Dy, Ci).transform = function(e, t) {
                 var n = t.dataflow,
                     r = t.fork(t.NO_SOURCE | t.NO_FIELDS),
-                    i = e.item || Bb,
-                    a = e.key || Ne,
+                    i = e.item || Cy,
+                    a = e.key || Ce,
                     o = this.value;
-                return (0, ke.isArray)(r.encode) && (r.encode = null), o && (e.modified("key") || t.modified(a)) && (0, ke.error)("DataJoin does not support modified key function or fields."), o || (t = t.addAll(), this.value = o = (0, ke.fastmap)().test(qb), o.lookup = function(e) {
+                return (0, Ee.isArray)(r.encode) && (r.encode = null), o && (e.modified("key") || t.modified(a)) && (0, Ee.error)("DataJoin does not support modified key function or fields."), o || (t = t.addAll(), this.value = o = (0, Ee.fastmap)().test(Fy), o.lookup = function(e) {
                     return o.get(a(e))
                 }), t.visit(t.ADD, (function(e) {
                     var t = a(e),
                         n = o.get(t);
                     n ? n.exit ? (o.empty--, r.add.push(n)) : r.mod.push(n) : (o.set(t, n = i(e)), r.add.push(n)), n.datum = e, n.exit = !1
                 })), t.visit(t.MOD, (function(e) {
                     var t = a(e),
                         n = o.get(t);
                     n && (n.datum = e, r.mod.push(n))
                 })), t.visit(t.REM, (function(e) {
                     var t = a(e),
                         n = o.get(t);
                     e !== n.datum || n.exit || (r.rem.push(n), n.exit = !0, ++o.empty)
                 })), t.changed(t.ADD_MOD) && r.modifies("datum"), e.clean && o.empty > n.cleanThreshold && n.runAfter(o.clean), r
-            }, (0, ke.inherits)(Hb, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(Ny, Ci).transform = function(e, t) {
                 var n = t.fork(t.ADD_REM),
                     r = e.encoders,
                     i = t.encode;
-                if ((0, ke.isArray)(i)) {
+                if ((0, Ee.isArray)(i)) {
                     if (!n.changed() && !i.every((function(e) {
                             return r[e]
                         }))) return t.StopPropagation;
                     i = i[0], n.encode = null
                 }
                 var a = "enter" === i,
-                    o = r.update || ke.falsy,
-                    u = r.enter || ke.falsy,
-                    s = r.exit || ke.falsy,
-                    l = (i && !a ? r[i] : o) || ke.falsy;
+                    o = r.update || Ee.falsy,
+                    u = r.enter || Ee.falsy,
+                    s = r.exit || Ee.falsy,
+                    l = (i && !a ? r[i] : o) || Ee.falsy;
                 if (t.changed(t.ADD) && (t.visit(t.ADD, (function(t) {
-                        u(t, e), o(t, e), l !== ke.falsy && l !== o && l(t, e)
-                    })), n.modifies(u.output), n.modifies(o.output), l !== ke.falsy && l !== o && n.modifies(l.output)), t.changed(t.REM) && s !== ke.falsy && (t.visit(t.REM, (function(t) {
+                        u(t, e), o(t, e), l !== Ee.falsy && l !== o && l(t, e)
+                    })), n.modifies(u.output), n.modifies(o.output), l !== Ee.falsy && l !== o && n.modifies(l.output)), t.changed(t.REM) && s !== Ee.falsy && (t.visit(t.REM, (function(t) {
                         s(t, e)
-                    })), n.modifies(s.output)), a || l !== ke.falsy) {
+                    })), n.modifies(s.output)), a || l !== Ee.falsy) {
                     var c = t.MOD | (e.modified() ? t.REFLOW : 0);
                     a ? (t.visit(c, (function(t) {
                         var r = u(t, e);
                         (l(t, e) || r) && n.mod.push(t)
                     })), n.mod.length && n.modifies(u.output)) : t.visit(c, (function(t) {
                         l(t, e) && n.mod.push(t)
                     })), n.mod.length && n.modifies(l.output)
                 }
                 return n.changed() ? n : t.StopPropagation
             };
-            var Wb = {};
+            var Oy = {};
 
-            function Yb(e) {
+            function Ty(e) {
                 var t = e.domain();
                 return t.max = t.pop(), t
             }
 
-            function Vb(e, t) {
+            function Py(e, t) {
                 return isFinite(e) ? t(e) : null
             }
 
-            function Gb(e) {
-                Di.call(this, [], e)
+            function Ry(e) {
+                Ci.call(this, [], e)
             }
-            Wb.quantile = function(e) {
+            Oy[Hd] = function(e) {
                 var t = [-1 / 0].concat(e.quantiles());
                 return t.max = 1 / 0, t
-            }, Wb.quantize = function(e) {
+            }, Oy[Wd] = function(e) {
                 var t = e.domain(),
                     n = t[0],
-                    r = (0, ke.peek)(t),
+                    r = (0, Ee.peek)(t),
                     i = e.range().length,
                     a = new Array(i),
                     o = 0;
                 for (a[0] = -1 / 0; ++o < i;) a[o] = (o * r - (o - i) * n) / i;
                 return a.max = 1 / 0, a
-            }, Wb.threshold = function(e) {
+            }, Oy[Vd] = function(e) {
                 var t = [-1 / 0].concat(e.domain());
                 return t.max = 1 / 0, t
-            }, Wb["bin-linear"] = Yb, Wb[Ed] = Yb, (0, ke.inherits)(Gb, Di).transform = function(e, t) {
+            }, Oy["bin-linear"] = Ty, Oy[Gd] = Ty, (0, Ee.inherits)(Ry, Ci).transform = function(e, t) {
                 if (null != this.value && !e.modified()) return t.StopPropagation;
                 var n = t.fork(t.NO_SOURCE | t.NO_FIELDS),
                     r = 0,
                     i = this.value,
                     a = "gradient" === e.type,
                     o = e.scale,
-                    u = null == e.count ? 5 : Pb(o, e.count),
-                    s = e.format || zb(o, u, e.formatSpecifier),
+                    u = null == e.count ? 5 : wy(o, e.count),
+                    s = e.format || Ay(o, u, e.formatSpecifier),
                     l = e.values || function(e, t, n) {
                         if (n) return e.domain();
-                        var r = Wb[e.type];
-                        return r ? r(e) : Lb(e, t)
+                        var r = Oy[e.type];
+                        return r ? r(e) : Ey(e, t)
                     }(o, u, a);
                 if (s = function(e, t) {
-                        return Wb[e.type] ? function(e) {
+                        return Oy[e.type] ? function(e) {
                             return function(t, n, r) {
                                 var i = r[n + 1] || r.max || 1 / 0,
-                                    a = Vb(t, e),
-                                    o = Vb(i, e);
+                                    a = Py(t, e),
+                                    o = Py(i, e);
                                 return a && o ? a + "–" + o : o ? "< " + o : "≥ " + a
                             }
                         }(t) : function(e) {
                             return function(t) {
                                 return e(t)
                             }
                         }(t)
                     }(o, s), i && (n.rem = i), a) var c = e.values ? o.domain() : l,
-                    f = Xm(o, c[0], (0, ke.peek)(c));
+                    f = Fm(o, c[0], (0, Ee.peek)(c));
                 else {
                     var d, h = e.size;
-                    (0, ke.isFunction)(h) ? (e.values || 0 !== o(l[0]) || (l = l.slice(1)), d = l.reduce((function(t, n) {
+                    (0, Ee.isFunction)(h) ? (e.values || 0 !== o(l[0]) || (l = l.slice(1)), d = l.reduce((function(t, n) {
                         return Math.max(t, h(n, e))
-                    }), 0)) : h = (0, ke.constant)(d = h || 8)
+                    }), 0)) : h = (0, Ee.constant)(d = h || 8)
                 }
                 return i = l.map((function(t, n) {
-                    var i = Oe({
+                    var i = Ne({
                         index: n,
                         label: s(t, n, l),
                         value: t
                     });
                     return a ? i.perc = f(t) : (i.offset = d, i.size = h(t, e), i.total = Math.round(r), r += i.size), i
                 })), n.source = i, n.add = i, this.value = i, n
             };
-            var Xb = (0, ke.fastmap)({
-                line: e_,
+            var Ly = (0, Ee.fastmap)({
+                line: qy,
                 "line-radial": function(e, t, n, r) {
-                    return e_(t * Math.cos(e), t * Math.sin(e), r * Math.cos(n), r * Math.sin(n))
+                    return qy(t * Math.cos(e), t * Math.sin(e), r * Math.cos(n), r * Math.sin(n))
                 },
-                arc: t_,
+                arc: Hy,
                 "arc-radial": function(e, t, n, r) {
-                    return t_(t * Math.cos(e), t * Math.sin(e), r * Math.cos(n), r * Math.sin(n))
+                    return Hy(t * Math.cos(e), t * Math.sin(e), r * Math.cos(n), r * Math.sin(n))
                 },
-                curve: n_,
+                curve: Wy,
                 "curve-radial": function(e, t, n, r) {
-                    return n_(t * Math.cos(e), t * Math.sin(e), r * Math.cos(n), r * Math.sin(n))
+                    return Wy(t * Math.cos(e), t * Math.sin(e), r * Math.cos(n), r * Math.sin(n))
                 },
                 "orthogonal-horizontal": function(e, t, n, r) {
                     return "M" + e + "," + t + "V" + r + "H" + n
                 },
                 "orthogonal-vertical": function(e, t, n, r) {
                     return "M" + e + "," + t + "H" + n + "V" + r
                 },
@@ -12422,57 +12013,57 @@
                         o = Math.cos(n),
                         u = Math.sin(n),
                         s = (t + r) / 2;
                     return "M" + t * i + "," + t * a + "C" + s * i + "," + s * a + " " + s * o + "," + s * u + " " + r * o + "," + r * u
                 }
             });
 
-            function $b(e) {
+            function zy(e) {
                 return e.source.x
             }
 
-            function Kb(e) {
+            function Iy(e) {
                 return e.source.y
             }
 
-            function Jb(e) {
+            function jy(e) {
                 return e.target.x
             }
 
-            function Qb(e) {
+            function By(e) {
                 return e.target.y
             }
 
-            function Zb(e) {
-                Di.call(this, {}, e)
+            function Uy(e) {
+                Ci.call(this, {}, e)
             }
 
-            function e_(e, t, n, r) {
+            function qy(e, t, n, r) {
                 return "M" + e + "," + t + "L" + n + "," + r
             }
 
-            function t_(e, t, n, r) {
+            function Hy(e, t, n, r) {
                 var i = n - e,
                     a = r - t,
                     o = Math.sqrt(i * i + a * a) / 2;
                 return "M" + e + "," + t + "A" + o + "," + o + " " + 180 * Math.atan2(a, i) / Math.PI + " 0 1 " + n + "," + r
             }
 
-            function n_(e, t, n, r) {
+            function Wy(e, t, n, r) {
                 var i = n - e,
                     a = r - t,
                     o = .2 * (i + a),
                     u = .2 * (a - i);
                 return "M" + e + "," + t + "C" + (e + o) + "," + (t + u) + " " + (n + u) + "," + (r - o) + " " + n + "," + r
             }
 
-            function r_(e, t) {
-                return e < t ? -1 : e > t ? 1 : e >= t ? 0 : NaN
+            function Vy(e) {
+                Ci.call(this, null, e)
             }
-            Zb.Definition = {
+            Uy.Definition = {
                 type: "LinkPath",
                 metadata: {
                     modifies: !0
                 },
                 params: [{
                     name: "sourceX",
                     type: "field",
@@ -12500,55 +12091,27 @@
                     default: "line",
                     values: ["line", "arc", "curve", "diagonal", "orthogonal"]
                 }, {
                     name: "as",
                     type: "string",
                     default: "path"
                 }]
-            }, (0, ke.inherits)(Zb, Di).transform = function(e, t) {
-                var n = e.sourceX || $b,
-                    r = e.sourceY || Kb,
-                    i = e.targetX || Jb,
-                    a = e.targetY || Qb,
+            }, (0, Ee.inherits)(Uy, Ci).transform = function(e, t) {
+                var n = e.sourceX || zy,
+                    r = e.sourceY || Iy,
+                    i = e.targetX || jy,
+                    a = e.targetY || By,
                     o = e.as || "path",
                     u = e.orient || "vertical",
                     s = e.shape || "line",
-                    l = Xb.get(s + "-" + u) || Xb.get(s);
-                return l || (0, ke.error)("LinkPath unsupported type: " + e.shape + (e.orient ? "-" + e.orient : "")), t.visit(t.SOURCE, (function(e) {
+                    l = Ly.get(s + "-" + u) || Ly.get(s);
+                return l || (0, Ee.error)("LinkPath unsupported type: " + e.shape + (e.orient ? "-" + e.orient : "")), t.visit(t.SOURCE, (function(e) {
                     e[o] = l(n(e), r(e), i(e), a(e))
                 })), t.reflow(e.modified()).modifies(o)
-            };
-            var i_ = function(e) {
-                var t;
-                return 1 === e.length && (t = e, e = function(e, n) {
-                    return r_(t(e), n)
-                }), {
-                    left: function(t, n, r, i) {
-                        for (null == r && (r = 0), null == i && (i = t.length); r < i;) {
-                            var a = r + i >>> 1;
-                            e(t[a], n) < 0 ? r = a + 1 : i = a
-                        }
-                        return r
-                    },
-                    right: function(t, n, r, i) {
-                        for (null == r && (r = 0), null == i && (i = t.length); r < i;) {
-                            var a = r + i >>> 1;
-                            e(t[a], n) > 0 ? i = a : r = a + 1
-                        }
-                        return r
-                    }
-                }
-            }(r_);
-            i_.right, i_.left;
-            var a_ = Array.prototype;
-
-            function o_(e) {
-                Di.call(this, null, e)
-            }
-            a_.slice, a_.map, Math.sqrt(50), Math.sqrt(10), Math.sqrt(2), o_.Definition = {
+            }, Vy.Definition = {
                 type: "Pie",
                 metadata: {
                     modifies: !0
                 },
                 params: [{
                     name: "field",
                     type: "field"
@@ -12567,127 +12130,119 @@
                 }, {
                     name: "as",
                     type: "string",
                     array: !0,
                     length: 2,
                     default: ["startAngle", "endAngle"]
                 }]
-            }, (0, ke.inherits)(o_, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(Vy, Ci).transform = function(e, t) {
                 var n, r, i, a = e.as || ["startAngle", "endAngle"],
                     o = a[0],
                     u = a[1],
-                    s = e.field || ke.one,
+                    s = e.field || Ee.one,
                     l = e.startAngle || 0,
                     c = null != e.endAngle ? e.endAngle : 2 * Math.PI,
                     f = t.source,
                     d = f.map(s),
                     h = d.length,
                     p = l,
                     g = (c - l) / function(e, t) {
                         var n, r = e.length,
                             i = -1,
                             a = 0;
                         for (1; ++i < r;)(n = +e[i]) && (a += n);
                         return a
                     }(d),
-                    m = function(e, t, n) {
-                        e = +e, t = +t, n = (i = arguments.length) < 2 ? (t = e, e = 0, 1) : i < 3 ? 1 : +n;
-                        for (var r = -1, i = 0 | Math.max(0, Math.ceil((t - e) / n)), a = new Array(i); ++r < i;) a[r] = e + r * n;
-                        return a
-                    }(h);
+                    m = Mo(h);
                 for (e.sort && m.sort((function(e, t) {
                         return d[e] - d[t]
                     })), n = 0; n < h; ++n) i = d[m[n]], (r = f[m[n]])[o] = p, r[u] = p += i * g;
                 return this.value = d, t.reflow(e.modified()).modifies(a)
             };
-            var u_ = (0, ke.toSet)([wd, bd, _d]),
-                s_ = (0, ke.toSet)([wd, yd, bd, _d, "time", "utc"]),
-                l_ = (0, ke.toSet)(["set", "modified", "clear", "type", "scheme", "schemeExtent", "schemeCount", "domain", "domainMin", "domainMid", "domainMax", "domainRaw", "nice", "zero", "range", "rangeStep", "round", "reverse", "interpolate", "interpolateGamma"]);
+            var Gy = (0, Ee.toSet)([Ud, Id, jd]),
+                Yy = (0, Ee.toSet)([Ud, zd, Id, jd, "time", "utc"]),
+                Xy = (0, Ee.toSet)(["set", "modified", "clear", "type", "scheme", "schemeExtent", "schemeCount", "domain", "domainMin", "domainMid", "domainMax", "domainRaw", "nice", "zero", "range", "rangeStep", "round", "reverse", "interpolate", "interpolateGamma"]);
 
-            function c_(e) {
-                Di.call(this, null, e), this.modified(!0)
+            function $y(e) {
+                Ci.call(this, null, e), this.modified(!0)
             }
 
-            function f_(e, t, n) {
-                return (0, ke.isFunction)(e) && (t || n) ? Gm(e, d_(t || [0, 1], n)) : e
+            function Ky(e, t, n) {
+                return (0, Ee.isFunction)(e) && (t || n) ? Cm(e, Jy(t || [0, 1], n)) : e
             }
 
-            function d_(e, t) {
+            function Jy(e, t) {
                 return t ? e.slice().reverse() : e
             }
 
-            function h_(e) {
-                Di.call(this, null, e)
+            function Qy(e) {
+                Ci.call(this, null, e)
             }
 
-            function p_(e) {
-                Di.call(this, null, e)
+            function Zy(e) {
+                Ci.call(this, null, e)
             }
 
-            function g_(e, t, n, r, i) {
+            function eb(e, t, n, r, i) {
                 for (var a, o = (t - e.sum) / 2, u = e.length, s = 0; s < u; ++s)(a = e[s])[r] = o, a[i] = o += Math.abs(n(a))
             }
 
-            function m_(e, t, n, r, i) {
+            function tb(e, t, n, r, i) {
                 for (var a, o = 1 / e.sum, u = 0, s = e.length, l = 0, c = 0; l < s; ++l)(a = e[l])[r] = u, a[i] = u = o * (c += Math.abs(n(a)))
             }
 
-            function v_(e, t, n, r, i) {
+            function nb(e, t, n, r, i) {
                 for (var a, o, u = 0, s = 0, l = e.length, c = 0; c < l; ++c)(a = n(o = e[c])) < 0 ? (o[r] = s, o[i] = s += a) : (o[r] = u, o[i] = u += a)
-            }
-
-            function y_(e, t) {
-                return e < t ? -1 : e > t ? 1 : e >= t ? 0 : NaN
-            }(0, ke.inherits)(c_, Di).transform = function(e, t) {
+            }(0, Ee.inherits)($y, Ci).transform = function(e, t) {
                 var n, r = t.dataflow,
                     i = this.value;
-                for (n in i && !e.modified("type") || (this.value = i = qg((e.type || wd).toLowerCase())()), e)
-                    if (!l_[n]) {
-                        if ("padding" === n && s_[i.type]) continue;
-                        (0, ke.isFunction)(i[n]) ? i[n](e[n]): r.warn("Unsupported scale property: " + n)
+                for (n in i && !e.modified("type") || (this.value = i = xg((e.type || Ud).toLowerCase())()), e)
+                    if (!Xy[n]) {
+                        if ("padding" === n && Yy[i.type]) continue;
+                        (0, Ee.isFunction)(i[n]) ? i[n](e[n]): r.warn("Unsupported scale property: " + n)
                     } return function(e, t, n) {
                     var r = t.round || !1,
                         i = t.range;
                     if (null != t.rangeStep) i = function(e, t, n) {
-                        "band" !== e && e !== xd && (0, ke.error)("Only band and point scales support rangeStep.");
+                        "band" !== e && e !== Bd && (0, Ee.error)("Only band and point scales support rangeStep.");
                         var r = (null != t.paddingOuter ? t.paddingOuter : t.padding) || 0,
-                            i = e === xd ? 1 : (null != t.paddingInner ? t.paddingInner : t.padding) || 0;
-                        return [0, t.rangeStep * kd(n, i, r)]
+                            i = e === Bd ? 1 : (null != t.paddingInner ? t.paddingInner : t.padding) || 0;
+                        return [0, t.rangeStep * Xd(n, i, r)]
                     }(e.type, t, n);
                     else if (t.scheme) {
                         if (i = function(e, t, n) {
                                 var r, i = t.scheme.toLowerCase(),
-                                    a = Ry(i),
+                                    a = vy(i),
                                     o = t.schemeExtent;
-                                return a || (0, ke.error)("Unrecognized scheme name: " + t.scheme), n = "threshold" === e ? n + 1 : e === Ed ? n - 1 : "quantile" === e || "quantize" === e ? +t.schemeCount || 5 : n, e === Ad ? f_(a, o, t.reverse) : !o && (r = Ry(i + "-" + n)) ? r : (0, ke.isFunction)(a) ? function(e, t) {
+                                return a || (0, Ee.error)("Unrecognized scheme name: " + t.scheme), n = e === Vd ? n + 1 : e === Gd ? n - 1 : e === Hd || e === Wd ? +t.schemeCount || 5 : n, e === Yd ? Ky(a, o, t.reverse) : !o && (r = vy(i + "-" + n)) ? r : (0, Ee.isFunction)(a) ? function(e, t) {
                                     for (var n = new Array(t), r = t - 1 || 1, i = 0; i < t; ++i) n[i] = e(i / r);
                                     return n
-                                }(f_(a, o), n) : e === Sd ? a : a.slice(0, n)
-                            }(e.type, t, n), (0, ke.isFunction)(i)) return e.interpolator(i)
-                    } else if (i && e.type === Ad) return e.interpolator(Ih(d_(i, t.reverse)));
-                    i && t.interpolate && e.interpolate ? e.interpolate(Km(t.interpolate, t.interpolateGamma)) : (0, ke.isFunction)(e.round) ? e.round(r) : (0, ke.isFunction)(e.rangeRound) && e.interpolate(r ? Jh : Kh), i && e.range(d_(i, t.reverse))
+                                }(Ky(a, o), n) : e === qd ? a : a.slice(0, n)
+                            }(e.type, t, n), (0, Ee.isFunction)(i)) return e.interpolator(i)
+                    } else if (i && e.type === Yd) return e.interpolator(Yh(Jy(i, t.reverse)));
+                    i && t.interpolate && e.interpolate ? e.interpolate(Om(t.interpolate, t.interpolateGamma)) : (0, Ee.isFunction)(e.round) ? e.round(r) : (0, Ee.isFunction)(e.rangeRound) && e.interpolate(r ? op : ap), i && e.range(Jy(i, t.reverse))
                 }(i, e, function(e, t, n) {
                     var r = function(e, t) {
                         return t ? (e.domain(t), t.length) : -1
                     }(e, t.domainRaw);
                     if (r > -1) return r;
                     var i, a, o = t.domain,
                         u = e.type,
-                        s = t.zero || void 0 === t.zero && u_[u];
-                    return o ? (s_[u] && t.padding && o[0] !== (0, ke.peek)(o) && (o = function(e, t, n, r, i) {
-                        var a = Math.abs((0, ke.peek)(n) - n[0]),
+                        s = t.zero || void 0 === t.zero && Gy[u];
+                    return o ? (Yy[u] && t.padding && o[0] !== (0, Ee.peek)(o) && (o = function(e, t, n, r, i) {
+                        var a = Math.abs((0, Ee.peek)(n) - n[0]),
                             o = a / (a - 2 * r),
-                            u = e === yd ? (0, ke.zoomLog)(t, null, o) : e === _d ? (0, ke.zoomPow)(t, null, o, .5) : e === bd ? (0, ke.zoomPow)(t, null, o, i) : (0, ke.zoomLinear)(t, null, o);
+                            u = e === zd ? (0, Ee.zoomLog)(t, null, o) : e === jd ? (0, Ee.zoomPow)(t, null, o, .5) : e === Id ? (0, Ee.zoomPow)(t, null, o, i) : (0, Ee.zoomLinear)(t, null, o);
                         return (t = t.slice())[0] = u[0], t[t.length - 1] = u[1], t
-                    }(u, o, t.range, t.padding, t.exponent)), (s || null != t.domainMin || null != t.domainMax || null != t.domainMid) && (i = (o = o.slice()).length - 1 || 1, s && (o[0] > 0 && (o[0] = 0), o[i] < 0 && (o[i] = 0)), null != t.domainMin && (o[0] = t.domainMin), null != t.domainMax && (o[i] = t.domainMax), null != t.domainMid && (((a = t.domainMid) < o[0] || a > o[i]) && n.warn("Scale domainMid exceeds domain min or max.", a), o.splice(i, 0, a))), e.domain(o), u === Sd && e.unknown(void 0), t.nice && e.nice && e.nice(!0 !== t.nice && Pb(e, t.nice) || null), o.length) : 0
+                    }(u, o, t.range, t.padding, t.exponent)), (s || null != t.domainMin || null != t.domainMax || null != t.domainMid) && (i = (o = o.slice()).length - 1 || 1, s && (o[0] > 0 && (o[0] = 0), o[i] < 0 && (o[i] = 0)), null != t.domainMin && (o[0] = t.domainMin), null != t.domainMax && (o[i] = t.domainMax), null != t.domainMid && (((a = t.domainMid) < o[0] || a > o[i]) && n.warn("Scale domainMid exceeds domain min or max.", a), o.splice(i, 0, a))), e.domain(o), u === qd && e.unknown(void 0), t.nice && e.nice && e.nice(!0 !== t.nice && wy(e, t.nice) || null), o.length) : 0
                 }(i, e, r)), t.fork(t.NO_SOURCE | t.NO_FIELDS)
-            }, (0, ke.inherits)(h_, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(Qy, Ci).transform = function(e, t) {
                 var n = e.modified("sort") || t.changed(t.ADD) || t.modified(e.sort.fields) || t.modified("datum");
                 return n && t.source.sort(e.sort), this.modified(n), t
-            }, p_.Definition = {
+            }, Zy.Definition = {
                 type: "Stack",
                 metadata: {
                     modifies: !0
                 },
                 params: [{
                     name: "field",
                     type: "field"
@@ -12706,20 +12261,20 @@
                 }, {
                     name: "as",
                     type: "string",
                     array: !0,
                     length: 2,
                     default: ["y0", "y1"]
                 }]
-            }, (0, ke.inherits)(p_, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(Zy, Ci).transform = function(e, t) {
                 var n, r, i, a, o = e.as || ["y0", "y1"],
                     u = o[0],
                     s = o[1],
-                    l = e.field || ke.one,
-                    c = "center" === e.offset ? g_ : "normalize" === e.offset ? m_ : v_;
+                    l = e.field || Ee.one,
+                    c = "center" === e.offset ? eb : "normalize" === e.offset ? tb : nb;
                 for (n = function(e, t, n, r) {
                         var i, a, o, u, s, l, c, f, d, h = [],
                             p = function(e) {
                                 return e(s)
                             };
                         if (null == t) h.push(e.slice());
                         else
@@ -12728,126 +12283,55 @@
                             for (a = 0, f = 0, o = (c = h[l]).length; a < o; ++a) f += Math.abs(r(c[a]));
                             c.sum = f, f > d && (d = f), n && c.sort(n)
                         }
                         return h.max = d, h
                     }(t.source, e.groupby, e.sort, l), r = 0, i = n.length, a = n.max; r < i; ++r) c(n[r], a, l, u, s);
                 return t.reflow(e.modified()).modifies(o)
             };
-            var b_ = function(e) {
-                var t;
-                return 1 === e.length && (t = e, e = function(e, n) {
-                    return y_(t(e), n)
-                }), {
-                    left: function(t, n, r, i) {
-                        for (null == r && (r = 0), null == i && (i = t.length); r < i;) {
-                            var a = r + i >>> 1;
-                            e(t[a], n) < 0 ? r = a + 1 : i = a
-                        }
-                        return r
-                    },
-                    right: function(t, n, r, i) {
-                        for (null == r && (r = 0), null == i && (i = t.length); r < i;) {
-                            var a = r + i >>> 1;
-                            e(t[a], n) > 0 ? i = a : r = a + 1
-                        }
-                        return r
-                    }
-                }
-            }(y_);
-            b_.right, b_.left;
-            var __ = Array.prototype;
+            var rb = Array.prototype.slice;
 
-            function x_(e, t) {
-                return e < t ? -1 : e > t ? 1 : e >= t ? 0 : NaN
-            }
-            __.slice, __.map, Math.sqrt(50), Math.sqrt(10), Math.sqrt(2);
-            var w_ = function(e) {
-                var t;
-                return 1 === e.length && (t = e, e = function(e, n) {
-                    return x_(t(e), n)
-                }), {
-                    left: function(t, n, r, i) {
-                        for (null == r && (r = 0), null == i && (i = t.length); r < i;) {
-                            var a = r + i >>> 1;
-                            e(t[a], n) < 0 ? r = a + 1 : i = a
-                        }
-                        return r
-                    },
-                    right: function(t, n, r, i) {
-                        for (null == r && (r = 0), null == i && (i = t.length); r < i;) {
-                            var a = r + i >>> 1;
-                            e(t[a], n) > 0 ? i = a : r = a + 1
-                        }
-                        return r
-                    }
-                }
-            }(x_);
-            w_.right, w_.left;
-            var S_ = Array.prototype,
-                E_ = (S_.slice, S_.map, Math.sqrt(50)),
-                A_ = Math.sqrt(10),
-                k_ = Math.sqrt(2);
-
-            function M_(e, t, n) {
-                var r = Math.abs(t - e) / Math.max(0, n),
-                    i = Math.pow(10, Math.floor(Math.log(r) / Math.LN10)),
-                    a = r / i;
-                return a >= E_ ? i *= 10 : a >= A_ ? i *= 5 : a >= k_ && (i *= 2), t < e ? -i : i
-            }
-
-            function D_(e) {
-                return Math.ceil(Math.log(e.length) / Math.LN2) + 1
-            }
-
-            function C_(e, t, n) {
-                e = +e, t = +t, n = (i = arguments.length) < 2 ? (t = e, e = 0, 1) : i < 3 ? 1 : +n;
-                for (var r = -1, i = 0 | Math.max(0, Math.ceil((t - e) / n)), a = new Array(i); ++r < i;) a[r] = e + r * n;
-                return a
-            }
-            var F_ = Array.prototype.slice;
-
-            function N_(e, t) {
+            function ib(e, t) {
                 return e - t
             }
 
-            function T_(e) {
+            function ab(e) {
                 return function() {
                     return e
                 }
             }
 
-            function O_(e, t) {
+            function ob(e, t) {
                 for (var n, r = -1, i = t.length; ++r < i;)
-                    if (n = P_(e, t[r])) return n;
+                    if (n = ub(e, t[r])) return n;
                 return 0
             }
 
-            function P_(e, t) {
+            function ub(e, t) {
                 for (var n = t[0], r = t[1], i = -1, a = 0, o = e.length, u = o - 1; a < o; u = a++) {
                     var s = e[a],
                         l = s[0],
                         c = s[1],
                         f = e[u],
                         d = f[0],
                         h = f[1];
-                    if (R_(s, f, t)) return 0;
+                    if (sb(s, f, t)) return 0;
                     c > r != h > r && n < (d - l) * (r - c) / (h - c) + l && (i = -i)
                 }
                 return i
             }
 
-            function R_(e, t, n) {
+            function sb(e, t, n) {
                 var r, i, a, o;
                 return function(e, t, n) {
                     return (t[0] - e[0]) * (n[1] - e[1]) == (n[0] - e[0]) * (t[1] - e[1])
                 }(e, t, n) && (i = e[r = +(e[0] === t[0])], a = n[r], o = t[r], i <= a && a <= o || o <= a && a <= i)
             }
 
-            function L_() {}
-            var z_ = [
+            function lb() {}
+            var cb = [
                 [],
                 [
                     [
                         [1, 1.5],
                         [.5, 1]
                     ]
                 ],
@@ -12936,53 +12420,46 @@
                         [.5, 1],
                         [1, 1.5]
                     ]
                 ],
                 []
             ];
 
-            function I_() {
+            function fb() {
                 var e = 1,
                     t = 1,
-                    n = D_,
+                    n = So,
                     r = u;
 
                 function i(e) {
                     var t = n(e);
-                    if (Array.isArray(t)) t = t.slice().sort(N_);
+                    if (Array.isArray(t)) t = t.slice().sort(ib);
                     else {
-                        var r = function(e, t) {
-                                var n, r, i, a = e.length,
-                                    o = -1;
-                                for (1; ++o < a;)
-                                    if (null != (n = e[o]) && n >= n)
-                                        for (r = i = n; ++o < a;) null != (n = e[o]) && (r > n && (r = n), i < n && (i = n));
-                                return [r, i]
-                            }(e),
+                        var r = go(e),
                             i = r[0],
                             o = r[1];
-                        t = M_(i, o, t), t = C_(Math.floor(i / t) * t, Math.floor(o / t) * t, t)
+                        t = wo(i, o, t), t = Mo(Math.floor(i / t) * t, Math.floor(o / t) * t, t)
                     }
                     return t.map((function(t) {
                         return a(e, t)
                     }))
                 }
 
                 function a(n, i) {
                     var a = [],
                         u = [];
                     return function(n, r, i) {
                         var a, u, s, l, c, f, d = new Array,
                             h = new Array;
-                        for (a = u = -1, l = n[0] >= r, z_[l << 1].forEach(p); ++a < e - 1;) s = l, l = n[a + 1] >= r, z_[s | l << 1].forEach(p);
-                        for (z_[l << 0].forEach(p); ++u < t - 1;) {
-                            for (a = -1, l = n[u * e + e] >= r, c = n[u * e] >= r, z_[l << 1 | c << 2].forEach(p); ++a < e - 1;) s = l, l = n[u * e + e + a + 1] >= r, f = c, c = n[u * e + a + 1] >= r, z_[s | l << 1 | c << 2 | f << 3].forEach(p);
-                            z_[l | c << 3].forEach(p)
+                        for (a = u = -1, l = n[0] >= r, cb[l << 1].forEach(p); ++a < e - 1;) s = l, l = n[a + 1] >= r, cb[s | l << 1].forEach(p);
+                        for (cb[l << 0].forEach(p); ++u < t - 1;) {
+                            for (a = -1, l = n[u * e + e] >= r, c = n[u * e] >= r, cb[l << 1 | c << 2].forEach(p); ++a < e - 1;) s = l, l = n[u * e + e + a + 1] >= r, f = c, c = n[u * e + a + 1] >= r, cb[s | l << 1 | c << 2 | f << 3].forEach(p);
+                            cb[l | c << 3].forEach(p)
                         }
-                        for (a = -1, c = n[u * e] >= r, z_[c << 2].forEach(p); ++a < e - 1;) f = c, c = n[u * e + a + 1] >= r, z_[c << 2 | f << 3].forEach(p);
+                        for (a = -1, c = n[u * e] >= r, cb[c << 2].forEach(p); ++a < e - 1;) f = c, c = n[u * e + a + 1] >= r, cb[c << 2 | f << 3].forEach(p);
 
                         function p(e) {
                             var t, n, r = [e[0][0] + a, e[0][1] + u],
                                 s = [e[1][0] + a, e[1][1] + u],
                                 l = o(r),
                                 c = o(s);
                             (t = h[l]) ? (n = d[c]) ? (delete h[t.end], delete d[n.start], t === n ? (t.ring.push(s), i(t.ring)) : d[t.start] = h[n.end] = {
@@ -12995,24 +12472,24 @@
                                 ring: n.ring.concat(t.ring)
                             }) : (delete d[t.start], t.ring.unshift(r), d[t.start = l] = t) : d[l] = h[c] = {
                                 start: l,
                                 end: c,
                                 ring: [r, s]
                             }
                         }
-                        z_[c << 3].forEach(p)
+                        cb[c << 3].forEach(p)
                     }(n, i, (function(e) {
                         r(e, n, i),
                             function(e) {
                                 for (var t = 0, n = e.length, r = e[n - 1][1] * e[0][0] - e[n - 1][0] * e[0][1]; ++t < n;) r += e[t - 1][1] * e[t][0] - e[t - 1][0] * e[t][1];
                                 return r
                             }(e) > 0 ? a.push([e]) : u.push(e)
                     })), u.forEach((function(e) {
                         for (var t, n = 0, r = a.length; n < r; ++n)
-                            if (-1 !== O_((t = a[n])[0], e)) return void t.push(e)
+                            if (-1 !== ob((t = a[n])[0], e)) return void t.push(e)
                     })), {
                         type: "MultiPolygon",
                         value: i,
                         coordinates: a
                     }
                 }
 
@@ -13033,48 +12510,48 @@
                 return i.contour = a, i.size = function(n) {
                     if (!arguments.length) return [e, t];
                     var r = Math.ceil(n[0]),
                         a = Math.ceil(n[1]);
                     if (!(r > 0 && a > 0)) throw new Error("invalid size");
                     return e = r, t = a, i
                 }, i.thresholds = function(e) {
-                    return arguments.length ? (n = "function" == typeof e ? e : Array.isArray(e) ? T_(F_.call(e)) : T_(e), i) : n
+                    return arguments.length ? (n = "function" == typeof e ? e : Array.isArray(e) ? ab(rb.call(e)) : ab(e), i) : n
                 }, i.smooth = function(e) {
-                    return arguments.length ? (r = e ? u : L_, i) : r === u
+                    return arguments.length ? (r = e ? u : lb, i) : r === u
                 }, i
             }
 
-            function U_(e, t, n) {
+            function db(e, t, n) {
                 for (var r = e.width, i = e.height, a = 1 + (n << 1), o = 0; o < i; ++o)
                     for (var u = 0, s = 0; u < r + n; ++u) u < r && (s += e.data[u + o * r]), u >= n && (u >= a && (s -= e.data[u - a + o * r]), t.data[u - n + o * r] = s / Math.min(u + 1, r - 1 + a - u, a))
             }
 
-            function j_(e, t, n) {
+            function hb(e, t, n) {
                 for (var r = e.width, i = e.height, a = 1 + (n << 1), o = 0; o < r; ++o)
                     for (var u = 0, s = 0; u < i + n; ++u) u < i && (s += e.data[o + u * r]), u >= n && (u >= a && (s -= e.data[o + (u - a) * r]), t.data[o + (u - n) * r] = s / Math.min(u + 1, i - 1 + a - u, a))
             }
 
-            function B_(e) {
+            function pb(e) {
                 return e[0]
             }
 
-            function q_(e) {
+            function gb(e) {
                 return e[1]
             }
 
-            function H_() {
+            function mb() {
                 return 1
             }
-            var W_ = ["size", "smooth"],
-                Y_ = ["x", "y", "size", "cellSize", "bandwidth"];
+            var vb = ["size", "smooth"],
+                yb = ["x", "y", "size", "cellSize", "bandwidth"];
 
-            function V_(e) {
-                Di.call(this, null, e)
+            function bb(e) {
+                Ci.call(this, null, e)
             }
-            V_.Definition = {
+            bb.Definition = {
                 type: "Contour",
                 metadata: {
                     generates: !0
                 },
                 params: [{
                     name: "size",
                     type: "number",
@@ -13108,101 +12585,94 @@
                     type: "boolean",
                     default: !1
                 }, {
                     name: "thresholds",
                     type: "number",
                     array: !0
                 }]
-            }, (0, ke.inherits)(V_, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(bb, Ci).transform = function(e, t) {
                 if (this.value && !t.changed() && !e.modified()) return t.StopPropagation;
                 var n, r, i, a, o = t.fork(t.NO_SOURCE | t.NO_FIELDS),
                     u = e.count || 10;
-                return e.values ? (n = I_(), r = W_, i = e.values) : (n = function() {
-                    var e = B_,
-                        t = q_,
-                        n = H_,
+                return e.values ? (n = fb(), r = vb, i = e.values) : (n = function() {
+                    var e = pb,
+                        t = gb,
+                        n = mb,
                         r = 960,
                         i = 500,
                         a = 20,
                         o = 2,
                         u = 3 * a,
                         s = r + 2 * u >> o,
                         l = i + 2 * u >> o,
-                        c = T_(20);
+                        c = ab(20);
 
                     function f(r) {
                         var i = new Float32Array(s * l),
                             f = new Float32Array(s * l);
                         r.forEach((function(r, a, c) {
                             var f = +e(r, a, c) + u >> o,
                                 d = +t(r, a, c) + u >> o,
                                 h = +n(r, a, c);
                             f >= 0 && f < s && d >= 0 && d < l && (i[f + d * s] += h)
-                        })), U_({
+                        })), db({
                             width: s,
                             height: l,
                             data: i
                         }, {
                             width: s,
                             height: l,
                             data: f
-                        }, a >> o), j_({
+                        }, a >> o), hb({
                             width: s,
                             height: l,
                             data: f
                         }, {
                             width: s,
                             height: l,
                             data: i
-                        }, a >> o), U_({
+                        }, a >> o), db({
                             width: s,
                             height: l,
                             data: i
                         }, {
                             width: s,
                             height: l,
                             data: f
-                        }, a >> o), j_({
+                        }, a >> o), hb({
                             width: s,
                             height: l,
                             data: f
                         }, {
                             width: s,
                             height: l,
                             data: i
-                        }, a >> o), U_({
+                        }, a >> o), db({
                             width: s,
                             height: l,
                             data: i
                         }, {
                             width: s,
                             height: l,
                             data: f
-                        }, a >> o), j_({
+                        }, a >> o), hb({
                             width: s,
                             height: l,
                             data: f
                         }, {
                             width: s,
                             height: l,
                             data: i
                         }, a >> o);
                         var h = c(i);
                         if (!Array.isArray(h)) {
-                            var p = function(e, t) {
-                                var n, r, i = e.length,
-                                    a = -1;
-                                for (1; ++a < i;)
-                                    if (null != (n = e[a]) && n >= n)
-                                        for (r = n; ++a < i;) null != (n = e[a]) && n > r && (r = n);
-                                return r
-                            }(i);
-                            h = M_(0, p, h), (h = C_(0, Math.floor(p / h) * h, h)).shift()
+                            var p = Eo(i);
+                            h = wo(0, p, h), (h = Mo(0, Math.floor(p / h) * h, h)).shift()
                         }
-                        return I_().thresholds(h).size([s, l])(i).map(d)
+                        return fb().thresholds(h).size([s, l])(i).map(d)
                     }
 
                     function d(e) {
                         return e.value *= Math.pow(2, -2 * o), e.coordinates.forEach(h), e
                     }
 
                     function h(e) {
@@ -13217,148 +12687,143 @@
                         e[0] = e[0] * Math.pow(2, o) - u, e[1] = e[1] * Math.pow(2, o) - u
                     }
 
                     function m() {
                         return s = r + 2 * (u = 3 * a) >> o, l = i + 2 * u >> o, f
                     }
                     return f.x = function(t) {
-                        return arguments.length ? (e = "function" == typeof t ? t : T_(+t), f) : e
+                        return arguments.length ? (e = "function" == typeof t ? t : ab(+t), f) : e
                     }, f.y = function(e) {
-                        return arguments.length ? (t = "function" == typeof e ? e : T_(+e), f) : t
+                        return arguments.length ? (t = "function" == typeof e ? e : ab(+e), f) : t
                     }, f.weight = function(e) {
-                        return arguments.length ? (n = "function" == typeof e ? e : T_(+e), f) : n
+                        return arguments.length ? (n = "function" == typeof e ? e : ab(+e), f) : n
                     }, f.size = function(e) {
                         if (!arguments.length) return [r, i];
                         var t = Math.ceil(e[0]),
                             n = Math.ceil(e[1]);
                         if (!(t >= 0 || t >= 0)) throw new Error("invalid size");
                         return r = t, i = n, m()
                     }, f.cellSize = function(e) {
                         if (!arguments.length) return 1 << o;
                         if (!((e = +e) >= 1)) throw new Error("invalid cell size");
                         return o = Math.floor(Math.log(e) / Math.LN2), m()
                     }, f.thresholds = function(e) {
-                        return arguments.length ? (c = "function" == typeof e ? e : Array.isArray(e) ? T_(F_.call(e)) : T_(e), f) : c
+                        return arguments.length ? (c = "function" == typeof e ? e : Array.isArray(e) ? ab(rb.call(e)) : ab(e), f) : c
                     }, f.bandwidth = function(e) {
                         if (!arguments.length) return Math.sqrt(a * (a + 1));
                         if (!((e = +e) >= 0)) throw new Error("invalid bandwidth");
                         return a = Math.round((Math.sqrt(4 * e * e + 1) - 1) / 2), m()
                     }, f
-                }(), r = Y_, i = t.materialize(t.SOURCE).source), n.thresholds(e.thresholds || (e.nice ? u : (a = u, function(e) {
-                    for (var t = function(e, t) {
-                            for (var n, r, i, a = e.length, o = -1; ++o < a;)
-                                if (null != (n = e[o]) && n >= n)
-                                    for (r = i = n; ++o < a;) null != (n = e[o]) && (r > n && (r = n), i < n && (i = n));
-                            return [r, i]
-                        }(e), n = t[0], r = t[1] - n, i = [], o = 1; o <= a; ++o) i.push(n + r * o / (a + 1));
+                }(), r = yb, i = t.materialize(t.SOURCE).source), n.thresholds(e.thresholds || (e.nice ? u : (a = u, function(e) {
+                    for (var t = go(e), n = t[0], r = t[1] - n, i = [], o = 1; o <= a; ++o) i.push(n + r * o / (a + 1));
                     return i
                 }))), r.forEach((function(t) {
                     null != e[t] && n[t](e[t])
-                })), this.value && (o.rem = this.value), i = i && i.length ? n(i).map(Oe) : [], this.value = o.source = o.add = i, o
+                })), this.value && (o.rem = this.value), i = i && i.length ? n(i).map(Ne) : [], this.value = o.source = o.add = i, o
             };
-            var G_ = "FeatureCollection";
+            var _b = "FeatureCollection";
 
-            function X_(e) {
-                Di.call(this, null, e)
+            function xb(e) {
+                Ci.call(this, null, e)
             }
-            X_.Definition = {
+            xb.Definition = {
                 type: "GeoJSON",
                 metadata: {},
                 params: [{
                     name: "fields",
                     type: "field",
                     array: !0,
                     length: 2
                 }, {
                     name: "geojson",
                     type: "field"
                 }]
-            }, (0, ke.inherits)(X_, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(xb, Ci).transform = function(e, t) {
                 var n, r = this._features,
                     i = this._points,
                     a = e.fields,
                     o = a && a[0],
                     u = a && a[1],
                     s = e.geojson,
                     l = t.ADD;
-                n = e.modified() || t.changed(t.REM) || t.modified((0, ke.accessorFields)(s)) || o && t.modified((0, ke.accessorFields)(o)) || u && t.modified((0, ke.accessorFields)(u)), this.value && !n || (l = t.SOURCE, this._features = r = [], this._points = i = []), s && t.visit(l, (function(e) {
+                n = e.modified() || t.changed(t.REM) || t.modified((0, Ee.accessorFields)(s)) || o && t.modified((0, Ee.accessorFields)(o)) || u && t.modified((0, Ee.accessorFields)(u)), this.value && !n || (l = t.SOURCE, this._features = r = [], this._points = i = []), s && t.visit(l, (function(e) {
                     r.push(s(e))
                 })), o && u && (t.visit(l, (function(e) {
                     var t = o(e),
                         n = u(e);
                     null != t && null != n && (t = +t) === t && (n = +n) === n && i.push([t, n])
                 })), r = r.concat({
                     type: "Feature",
                     geometry: {
                         type: "MultiPoint",
                         coordinates: i
                     }
                 })), this.value = {
-                    type: G_,
+                    type: _b,
                     features: r
                 }
             };
-            const $_ = e => e;
+            const wb = e => e;
 
-            function K_(e, t) {
-                e && Q_.hasOwnProperty(e.type) && Q_[e.type](e, t)
+            function Sb(e, t) {
+                e && Ab.hasOwnProperty(e.type) && Ab[e.type](e, t)
             }
-            var J_ = {
+            var Eb = {
                     Feature: function(e, t) {
-                        K_(e.geometry, t)
+                        Sb(e.geometry, t)
                     },
                     FeatureCollection: function(e, t) {
-                        for (var n = e.features, r = -1, i = n.length; ++r < i;) K_(n[r].geometry, t)
+                        for (var n = e.features, r = -1, i = n.length; ++r < i;) Sb(n[r].geometry, t)
                     }
                 },
-                Q_ = {
+                Ab = {
                     Sphere: function(e, t) {
                         t.sphere()
                     },
                     Point: function(e, t) {
                         e = e.coordinates, t.point(e[0], e[1], e[2])
                     },
                     MultiPoint: function(e, t) {
                         for (var n = e.coordinates, r = -1, i = n.length; ++r < i;) e = n[r], t.point(e[0], e[1], e[2])
                     },
                     LineString: function(e, t) {
-                        Z_(e.coordinates, t, 0)
+                        kb(e.coordinates, t, 0)
                     },
                     MultiLineString: function(e, t) {
-                        for (var n = e.coordinates, r = -1, i = n.length; ++r < i;) Z_(n[r], t, 0)
+                        for (var n = e.coordinates, r = -1, i = n.length; ++r < i;) kb(n[r], t, 0)
                     },
                     Polygon: function(e, t) {
-                        ex(e.coordinates, t)
+                        Mb(e.coordinates, t)
                     },
                     MultiPolygon: function(e, t) {
-                        for (var n = e.coordinates, r = -1, i = n.length; ++r < i;) ex(n[r], t)
+                        for (var n = e.coordinates, r = -1, i = n.length; ++r < i;) Mb(n[r], t)
                     },
                     GeometryCollection: function(e, t) {
-                        for (var n = e.geometries, r = -1, i = n.length; ++r < i;) K_(n[r], t)
+                        for (var n = e.geometries, r = -1, i = n.length; ++r < i;) Sb(n[r], t)
                     }
                 };
 
-            function Z_(e, t, n) {
+            function kb(e, t, n) {
                 var r, i = -1,
                     a = e.length - n;
                 for (t.lineStart(); ++i < a;) r = e[i], t.point(r[0], r[1], r[2]);
                 t.lineEnd()
             }
 
-            function ex(e, t) {
+            function Mb(e, t) {
                 var n = -1,
                     r = e.length;
-                for (t.polygonStart(); ++n < r;) Z_(e[n], t, 1);
+                for (t.polygonStart(); ++n < r;) kb(e[n], t, 1);
                 t.polygonEnd()
             }
 
-            function tx(e, t) {
-                e && J_.hasOwnProperty(e.type) ? J_[e.type](e, t) : K_(e, t)
+            function Db(e, t) {
+                e && Eb.hasOwnProperty(e.type) ? Eb[e.type](e, t) : Sb(e, t)
             }
-            class nx {
+            class Cb {
                 constructor() {
                     this._partials = new Float64Array(32), this._n = 0
                 }
                 add(e) {
                     const t = this._partials;
                     let n = 0;
                     for (let r = 0; r < this._n && r < 32; r++) {
@@ -13376,171 +12841,172 @@
                     if (i > 0) {
                         for (a = e[--i]; i > 0 && (t = a, n = e[--i], a = t + n, r = n - (a - t), !r););
                         i > 0 && (r < 0 && e[i - 1] < 0 || r > 0 && e[i - 1] > 0) && (n = 2 * r, t = a + n, n == t - a && (a = t))
                     }
                     return a
                 }
             }
-            var rx = 1e-6,
-                ix = Math.PI,
-                ax = ix / 2,
-                ox = ix / 4,
-                ux = 2 * ix,
-                sx = 180 / ix,
-                lx = ix / 180,
-                cx = Math.abs,
-                fx = Math.atan,
-                dx = Math.atan2,
-                hx = Math.cos,
-                px = (Math.ceil, Math.exp),
-                gx = (Math.floor, Math.hypot, Math.log),
-                mx = Math.pow,
-                vx = Math.sin,
-                yx = Math.sign || function(e) {
+            var Fb = 1e-6,
+                Nb = 1e-12,
+                Ob = Math.PI,
+                Tb = Ob / 2,
+                Pb = Ob / 4,
+                Rb = 2 * Ob,
+                Lb = 180 / Ob,
+                zb = Ob / 180,
+                Ib = Math.abs,
+                jb = Math.atan,
+                Bb = Math.atan2,
+                Ub = Math.cos,
+                qb = (Math.ceil, Math.exp),
+                Hb = (Math.floor, Math.hypot, Math.log),
+                Wb = Math.pow,
+                Vb = Math.sin,
+                Gb = Math.sign || function(e) {
                     return e > 0 ? 1 : e < 0 ? -1 : 0
                 },
-                bx = Math.sqrt,
-                _x = Math.tan;
+                Yb = Math.sqrt,
+                Xb = Math.tan;
 
-            function xx(e) {
-                return e > 1 ? 0 : e < -1 ? ix : Math.acos(e)
+            function $b(e) {
+                return e > 1 ? 0 : e < -1 ? Ob : Math.acos(e)
             }
 
-            function wx(e) {
-                return e > 1 ? ax : e < -1 ? -ax : Math.asin(e)
+            function Kb(e) {
+                return e > 1 ? Tb : e < -1 ? -Tb : Math.asin(e)
             }
 
-            function Sx() {}
-            var Ex, Ax, kx, Mx, Dx = new nx,
-                Cx = new nx,
-                Fx = {
-                    point: Sx,
-                    lineStart: Sx,
-                    lineEnd: Sx,
+            function Jb() {}
+            var Qb, Zb, e_, t_, n_ = new Cb,
+                r_ = new Cb,
+                i_ = {
+                    point: Jb,
+                    lineStart: Jb,
+                    lineEnd: Jb,
                     polygonStart: function() {
-                        Fx.lineStart = Nx, Fx.lineEnd = Px
+                        i_.lineStart = a_, i_.lineEnd = s_
                     },
                     polygonEnd: function() {
-                        Fx.lineStart = Fx.lineEnd = Fx.point = Sx, Dx.add(cx(Cx)), Cx = new nx
+                        i_.lineStart = i_.lineEnd = i_.point = Jb, n_.add(Ib(r_)), r_ = new Cb
                     },
                     result: function() {
-                        var e = Dx / 2;
-                        return Dx = new nx, e
+                        var e = n_ / 2;
+                        return n_ = new Cb, e
                     }
                 };
 
-            function Nx() {
-                Fx.point = Tx
+            function a_() {
+                i_.point = o_
             }
 
-            function Tx(e, t) {
-                Fx.point = Ox, Ex = kx = e, Ax = Mx = t
+            function o_(e, t) {
+                i_.point = u_, Qb = e_ = e, Zb = t_ = t
             }
 
-            function Ox(e, t) {
-                Cx.add(Mx * e - kx * t), kx = e, Mx = t
+            function u_(e, t) {
+                r_.add(t_ * e - e_ * t), e_ = e, t_ = t
             }
 
-            function Px() {
-                Ox(Ex, Ax)
+            function s_() {
+                u_(Qb, Zb)
             }
-            const Rx = Fx;
-            var Lx = 1 / 0,
-                zx = Lx,
-                Ix = -Lx,
-                Ux = Ix,
-                jx = {
+            const l_ = i_;
+            var c_ = 1 / 0,
+                f_ = c_,
+                d_ = -c_,
+                h_ = d_,
+                p_ = {
                     point: function(e, t) {
-                        e < Lx && (Lx = e), e > Ix && (Ix = e), t < zx && (zx = t), t > Ux && (Ux = t)
+                        e < c_ && (c_ = e), e > d_ && (d_ = e), t < f_ && (f_ = t), t > h_ && (h_ = t)
                     },
-                    lineStart: Sx,
-                    lineEnd: Sx,
-                    polygonStart: Sx,
-                    polygonEnd: Sx,
+                    lineStart: Jb,
+                    lineEnd: Jb,
+                    polygonStart: Jb,
+                    polygonEnd: Jb,
                     result: function() {
                         var e = [
-                            [Lx, zx],
-                            [Ix, Ux]
+                            [c_, f_],
+                            [d_, h_]
                         ];
-                        return Ix = Ux = -(zx = Lx = 1 / 0), e
+                        return d_ = h_ = -(f_ = c_ = 1 / 0), e
                     }
                 };
-            const Bx = jx;
-            var qx, Hx, Wx, Yx, Vx = 0,
-                Gx = 0,
-                Xx = 0,
-                $x = 0,
-                Kx = 0,
-                Jx = 0,
-                Qx = 0,
-                Zx = 0,
-                ew = 0,
-                tw = {
-                    point: nw,
-                    lineStart: rw,
-                    lineEnd: ow,
+            const g_ = p_;
+            var m_, v_, y_, b_, __ = 0,
+                x_ = 0,
+                w_ = 0,
+                S_ = 0,
+                E_ = 0,
+                A_ = 0,
+                k_ = 0,
+                M_ = 0,
+                D_ = 0,
+                C_ = {
+                    point: F_,
+                    lineStart: N_,
+                    lineEnd: P_,
                     polygonStart: function() {
-                        tw.lineStart = uw, tw.lineEnd = sw
+                        C_.lineStart = R_, C_.lineEnd = L_
                     },
                     polygonEnd: function() {
-                        tw.point = nw, tw.lineStart = rw, tw.lineEnd = ow
+                        C_.point = F_, C_.lineStart = N_, C_.lineEnd = P_
                     },
                     result: function() {
-                        var e = ew ? [Qx / ew, Zx / ew] : Jx ? [$x / Jx, Kx / Jx] : Xx ? [Vx / Xx, Gx / Xx] : [NaN, NaN];
-                        return Vx = Gx = Xx = $x = Kx = Jx = Qx = Zx = ew = 0, e
+                        var e = D_ ? [k_ / D_, M_ / D_] : A_ ? [S_ / A_, E_ / A_] : w_ ? [__ / w_, x_ / w_] : [NaN, NaN];
+                        return __ = x_ = w_ = S_ = E_ = A_ = k_ = M_ = D_ = 0, e
                     }
                 };
 
-            function nw(e, t) {
-                Vx += e, Gx += t, ++Xx
+            function F_(e, t) {
+                __ += e, x_ += t, ++w_
             }
 
-            function rw() {
-                tw.point = iw
+            function N_() {
+                C_.point = O_
             }
 
-            function iw(e, t) {
-                tw.point = aw, nw(Wx = e, Yx = t)
+            function O_(e, t) {
+                C_.point = T_, F_(y_ = e, b_ = t)
             }
 
-            function aw(e, t) {
-                var n = e - Wx,
-                    r = t - Yx,
-                    i = bx(n * n + r * r);
-                $x += i * (Wx + e) / 2, Kx += i * (Yx + t) / 2, Jx += i, nw(Wx = e, Yx = t)
+            function T_(e, t) {
+                var n = e - y_,
+                    r = t - b_,
+                    i = Yb(n * n + r * r);
+                S_ += i * (y_ + e) / 2, E_ += i * (b_ + t) / 2, A_ += i, F_(y_ = e, b_ = t)
             }
 
-            function ow() {
-                tw.point = nw
+            function P_() {
+                C_.point = F_
             }
 
-            function uw() {
-                tw.point = lw
+            function R_() {
+                C_.point = z_
             }
 
-            function sw() {
-                cw(qx, Hx)
+            function L_() {
+                I_(m_, v_)
             }
 
-            function lw(e, t) {
-                tw.point = cw, nw(qx = Wx = e, Hx = Yx = t)
+            function z_(e, t) {
+                C_.point = I_, F_(m_ = y_ = e, v_ = b_ = t)
             }
 
-            function cw(e, t) {
-                var n = e - Wx,
-                    r = t - Yx,
-                    i = bx(n * n + r * r);
-                $x += i * (Wx + e) / 2, Kx += i * (Yx + t) / 2, Jx += i, Qx += (i = Yx * e - Wx * t) * (Wx + e), Zx += i * (Yx + t), ew += 3 * i, nw(Wx = e, Yx = t)
+            function I_(e, t) {
+                var n = e - y_,
+                    r = t - b_,
+                    i = Yb(n * n + r * r);
+                S_ += i * (y_ + e) / 2, E_ += i * (b_ + t) / 2, A_ += i, k_ += (i = b_ * e - y_ * t) * (y_ + e), M_ += i * (b_ + t), D_ += 3 * i, F_(y_ = e, b_ = t)
             }
-            const fw = tw;
+            const j_ = C_;
 
-            function dw(e) {
+            function B_(e) {
                 this._context = e
             }
-            dw.prototype = {
+            B_.prototype = {
                 _radius: 4.5,
                 pointRadius: function(e) {
                     return this._radius = e, this
                 },
                 polygonStart: function() {
                     this._line = 0
                 },
@@ -13558,126 +13024,126 @@
                         case 0:
                             this._context.moveTo(e, t), this._point = 1;
                             break;
                         case 1:
                             this._context.lineTo(e, t);
                             break;
                         default:
-                            this._context.moveTo(e + this._radius, t), this._context.arc(e, t, this._radius, 0, ux)
+                            this._context.moveTo(e + this._radius, t), this._context.arc(e, t, this._radius, 0, Rb)
                     }
                 },
-                result: Sx
+                result: Jb
             };
-            var hw, pw, gw, mw, vw, yw = new nx,
-                bw = {
-                    point: Sx,
+            var U_, q_, H_, W_, V_, G_ = new Cb,
+                Y_ = {
+                    point: Jb,
                     lineStart: function() {
-                        bw.point = _w
+                        Y_.point = X_
                     },
                     lineEnd: function() {
-                        hw && xw(pw, gw), bw.point = Sx
+                        U_ && $_(q_, H_), Y_.point = Jb
                     },
                     polygonStart: function() {
-                        hw = !0
+                        U_ = !0
                     },
                     polygonEnd: function() {
-                        hw = null
+                        U_ = null
                     },
                     result: function() {
-                        var e = +yw;
-                        return yw = new nx, e
+                        var e = +G_;
+                        return G_ = new Cb, e
                     }
                 };
 
-            function _w(e, t) {
-                bw.point = xw, pw = mw = e, gw = vw = t
+            function X_(e, t) {
+                Y_.point = $_, q_ = W_ = e, H_ = V_ = t
             }
 
-            function xw(e, t) {
-                mw -= e, vw -= t, yw.add(bx(mw * mw + vw * vw)), mw = e, vw = t
+            function $_(e, t) {
+                W_ -= e, V_ -= t, G_.add(Yb(W_ * W_ + V_ * V_)), W_ = e, V_ = t
             }
-            const ww = bw;
+            const K_ = Y_;
 
-            function Sw() {
+            function J_() {
                 this._string = []
             }
 
-            function Ew(e) {
+            function Q_(e) {
                 return "m0," + e + "a" + e + "," + e + " 0 1,1 0," + -2 * e + "a" + e + "," + e + " 0 1,1 0," + 2 * e + "z"
             }
 
-            function Aw(e, t) {
+            function Z_(e, t) {
                 var n, r, i = 4.5;
 
                 function a(e) {
-                    return e && ("function" == typeof i && r.pointRadius(+i.apply(this, arguments)), tx(e, n(r))), r.result()
+                    return e && ("function" == typeof i && r.pointRadius(+i.apply(this, arguments)), Db(e, n(r))), r.result()
                 }
                 return a.area = function(e) {
-                    return tx(e, n(Rx)), Rx.result()
+                    return Db(e, n(l_)), l_.result()
                 }, a.measure = function(e) {
-                    return tx(e, n(ww)), ww.result()
+                    return Db(e, n(K_)), K_.result()
                 }, a.bounds = function(e) {
-                    return tx(e, n(Bx)), Bx.result()
+                    return Db(e, n(g_)), g_.result()
                 }, a.centroid = function(e) {
-                    return tx(e, n(fw)), fw.result()
+                    return Db(e, n(j_)), j_.result()
                 }, a.projection = function(t) {
-                    return arguments.length ? (n = null == t ? (e = null, $_) : (e = t).stream, a) : e
+                    return arguments.length ? (n = null == t ? (e = null, wb) : (e = t).stream, a) : e
                 }, a.context = function(e) {
-                    return arguments.length ? (r = null == e ? (t = null, new Sw) : new dw(t = e), "function" != typeof i && r.pointRadius(i), a) : t
+                    return arguments.length ? (r = null == e ? (t = null, new J_) : new B_(t = e), "function" != typeof i && r.pointRadius(i), a) : t
                 }, a.pointRadius = function(e) {
                     return arguments.length ? (i = "function" == typeof e ? e : (r.pointRadius(+e), +e), a) : i
                 }, a.projection(e).context(t)
             }
 
-            function kw() {
+            function ex() {
                 var e, t = [];
                 return {
                     point: function(t, n, r) {
                         e.push([t, n, r])
                     },
                     lineStart: function() {
                         t.push(e = [])
                     },
-                    lineEnd: Sx,
+                    lineEnd: Jb,
                     rejoin: function() {
                         t.length > 1 && t.push(t.pop().concat(t.shift()))
                     },
                     result: function() {
                         var n = t;
                         return t = [], e = null, n
                     }
                 }
             }
 
-            function Mw(e, t) {
-                return cx(e[0] - t[0]) < rx && cx(e[1] - t[1]) < rx
+            function tx(e, t) {
+                return Ib(e[0] - t[0]) < Fb && Ib(e[1] - t[1]) < Fb
             }
 
-            function Dw(e, t, n, r) {
+            function nx(e, t, n, r) {
                 this.x = e, this.z = t, this.o = n, this.e = r, this.v = !1, this.n = this.p = null
             }
 
-            function Cw(e, t, n, r, i) {
+            function rx(e, t, n, r, i) {
                 var a, o, u = [],
                     s = [];
                 if (e.forEach((function(e) {
                         if (!((t = e.length - 1) <= 0)) {
                             var t, n, r = e[0],
                                 o = e[t];
-                            if (Mw(r, o)) {
+                            if (tx(r, o)) {
                                 if (!r[2] && !o[2]) {
                                     for (i.lineStart(), a = 0; a < t; ++a) i.point((r = e[a])[0], r[1]);
                                     return void i.lineEnd()
                                 }
-                                o[0] += 2e-6
+                                o[0] += 2 * Fb
                             }
-                            u.push(n = new Dw(r, e, null, !0)), s.push(n.o = new Dw(r, null, n, !1)), u.push(n = new Dw(o, e, null, !1)), s.push(n.o = new Dw(o, null, n, !0))
+                            u.push(n = new nx(r, e, null, !0)), s.push(n.o = new nx(r, null, n, !1)), u.push(n = new nx(o, e, null, !1)), s.push(n.o = new nx(o, null, n, !0))
                         }
                     })), u.length) {
-                    for (s.sort(t), Fw(u), Fw(s), a = 0, o = s.length; a < o; ++a) s[a].e = n = !n;
+                    for (s.sort(t), ix(u), ix(s), a = 0, o = s.length; a < o; ++a) s[a].e = n = !n;
                     for (var l, c, f = u[0];;) {
                         for (var d = f, h = !0; d.v;)
                             if ((d = d.n) === f) return;
                         l = d.z, i.lineStart();
                         do {
                             if (d.v = d.o.v = !0, d.e) {
                                 if (h)
@@ -13693,112 +13159,112 @@
                             l = (d = d.o).z, h = !h
                         } while (!d.v);
                         i.lineEnd()
                     }
                 }
             }
 
-            function Fw(e) {
+            function ix(e) {
                 if (t = e.length) {
                     for (var t, n, r = 0, i = e[0]; ++r < t;) i.n = n = e[r], n.p = i, i = n;
                     i.n = n = e[0], n.p = i
                 }
             }
 
-            function Nw(e) {
-                return [dx(e[1], e[0]), wx(e[2])]
+            function ax(e) {
+                return [Bb(e[1], e[0]), Kb(e[2])]
             }
 
-            function Tw(e) {
+            function ox(e) {
                 var t = e[0],
                     n = e[1],
-                    r = hx(n);
-                return [r * hx(t), r * vx(t), vx(n)]
+                    r = Ub(n);
+                return [r * Ub(t), r * Vb(t), Vb(n)]
             }
 
-            function Ow(e, t) {
+            function ux(e, t) {
                 return e[0] * t[0] + e[1] * t[1] + e[2] * t[2]
             }
 
-            function Pw(e, t) {
+            function sx(e, t) {
                 return [e[1] * t[2] - e[2] * t[1], e[2] * t[0] - e[0] * t[2], e[0] * t[1] - e[1] * t[0]]
             }
 
-            function Rw(e, t) {
+            function lx(e, t) {
                 e[0] += t[0], e[1] += t[1], e[2] += t[2]
             }
 
-            function Lw(e, t) {
+            function cx(e, t) {
                 return [e[0] * t, e[1] * t, e[2] * t]
             }
 
-            function zw(e) {
-                var t = bx(e[0] * e[0] + e[1] * e[1] + e[2] * e[2]);
+            function fx(e) {
+                var t = Yb(e[0] * e[0] + e[1] * e[1] + e[2] * e[2]);
                 e[0] /= t, e[1] /= t, e[2] /= t
             }
 
-            function Iw(e) {
-                return cx(e[0]) <= ix ? e[0] : yx(e[0]) * ((cx(e[0]) + ix) % ux - ix)
+            function dx(e) {
+                return Ib(e[0]) <= Ob ? e[0] : Gb(e[0]) * ((Ib(e[0]) + Ob) % Rb - Ob)
             }
 
-            function Uw(e) {
+            function hx(e) {
                 return Array.from(function*(e) {
                     for (const t of e) yield* t
                 }(e))
             }
 
-            function jw(e, t, n, r) {
+            function px(e, t, n, r) {
                 return function(i) {
                     var a, o, u, s = t(i),
-                        l = kw(),
+                        l = ex(),
                         c = t(l),
                         f = !1,
                         d = {
                             point: h,
                             lineStart: g,
                             lineEnd: m,
                             polygonStart: function() {
                                 d.point = v, d.lineStart = y, d.lineEnd = b, o = [], a = []
                             },
                             polygonEnd: function() {
-                                d.point = h, d.lineStart = g, d.lineEnd = m, o = Uw(o);
+                                d.point = h, d.lineStart = g, d.lineEnd = m, o = hx(o);
                                 var e = function(e, t) {
-                                    var n = Iw(t),
+                                    var n = dx(t),
                                         r = t[1],
-                                        i = vx(r),
-                                        a = [vx(n), -hx(n), 0],
+                                        i = Vb(r),
+                                        a = [Vb(n), -Ub(n), 0],
                                         o = 0,
                                         u = 0,
-                                        s = new nx;
-                                    1 === i ? r = ax + rx : -1 === i && (r = -ax - rx);
+                                        s = new Cb;
+                                    1 === i ? r = Tb + Fb : -1 === i && (r = -Tb - Fb);
                                     for (var l = 0, c = e.length; l < c; ++l)
                                         if (d = (f = e[l]).length)
-                                            for (var f, d, h = f[d - 1], p = Iw(h), g = h[1] / 2 + ox, m = vx(g), v = hx(g), y = 0; y < d; ++y, p = _, m = w, v = S, h = b) {
+                                            for (var f, d, h = f[d - 1], p = dx(h), g = h[1] / 2 + Pb, m = Vb(g), v = Ub(g), y = 0; y < d; ++y, p = _, m = w, v = S, h = b) {
                                                 var b = f[y],
-                                                    _ = Iw(b),
-                                                    x = b[1] / 2 + ox,
-                                                    w = vx(x),
-                                                    S = hx(x),
+                                                    _ = dx(b),
+                                                    x = b[1] / 2 + Pb,
+                                                    w = Vb(x),
+                                                    S = Ub(x),
                                                     E = _ - p,
                                                     A = E >= 0 ? 1 : -1,
                                                     k = A * E,
-                                                    M = k > ix,
+                                                    M = k > Ob,
                                                     D = m * w;
-                                                if (s.add(dx(D * A * vx(k), v * S + D * hx(k))), o += M ? E + A * ux : E, M ^ p >= n ^ _ >= n) {
-                                                    var C = Pw(Tw(h), Tw(b));
-                                                    zw(C);
-                                                    var F = Pw(a, C);
-                                                    zw(F);
-                                                    var N = (M ^ E >= 0 ? -1 : 1) * wx(F[2]);
+                                                if (s.add(Bb(D * A * Vb(k), v * S + D * Ub(k))), o += M ? E + A * Rb : E, M ^ p >= n ^ _ >= n) {
+                                                    var C = sx(ox(h), ox(b));
+                                                    fx(C);
+                                                    var F = sx(a, C);
+                                                    fx(F);
+                                                    var N = (M ^ E >= 0 ? -1 : 1) * Kb(F[2]);
                                                     (r > N || r === N && (C[0] || C[1])) && (u += M ^ E >= 0 ? 1 : -1)
                                                 }
                                             }
-                                    return (o < -1e-6 || o < rx && s < -1e-12) ^ 1 & u
+                                    return (o < -Fb || o < Fb && s < -Nb) ^ 1 & u
                                 }(a, r);
-                                o.length ? (f || (i.polygonStart(), f = !0), Cw(o, qw, e, n, i)) : e && (f || (i.polygonStart(), f = !0), i.lineStart(), n(null, null, 1, i), i.lineEnd()), f && (i.polygonEnd(), f = !1), o = a = null
+                                o.length ? (f || (i.polygonStart(), f = !0), rx(o, mx, e, n, i)) : e && (f || (i.polygonStart(), f = !0), i.lineStart(), n(null, null, 1, i), i.lineEnd()), f && (i.polygonEnd(), f = !1), o = a = null
                             },
                             sphere: function() {
                                 i.polygonStart(), i.lineStart(), n(null, null, 1, i), i.lineEnd(), i.polygonEnd()
                             }
                         };
 
                     function h(t, n) {
@@ -13832,30 +13298,30 @@
                             h = d.length;
                         if (u.pop(), a.push(u), u = null, h)
                             if (1 & s) {
                                 if ((t = (n = d[0]).length - 1) > 0) {
                                     for (f || (i.polygonStart(), f = !0), i.lineStart(), e = 0; e < t; ++e) i.point((r = n[e])[0], r[1]);
                                     i.lineEnd()
                                 }
-                            } else h > 1 && 2 & s && d.push(d.pop().concat(d.shift())), o.push(d.filter(Bw))
+                            } else h > 1 && 2 & s && d.push(d.pop().concat(d.shift())), o.push(d.filter(gx))
                     }
                     return d
                 }
             }
 
-            function Bw(e) {
+            function gx(e) {
                 return e.length > 1
             }
 
-            function qw(e, t) {
-                return ((e = e.x)[0] < 0 ? e[1] - ax - rx : ax - e[1]) - ((t = t.x)[0] < 0 ? t[1] - ax - rx : ax - t[1])
+            function mx(e, t) {
+                return ((e = e.x)[0] < 0 ? e[1] - Tb - Fb : Tb - e[1]) - ((t = t.x)[0] < 0 ? t[1] - Tb - Fb : Tb - t[1])
             }
-            Sw.prototype = {
+            J_.prototype = {
                 _radius: 4.5,
-                _circle: Ew(4.5),
+                _circle: Q_(4.5),
                 pointRadius: function(e) {
                     return (e = +e) !== this._radius && (this._radius = e, this._circle = null), this
                 },
                 polygonStart: function() {
                     this._line = 0
                 },
                 polygonEnd: function() {
@@ -13872,153 +13338,68 @@
                         case 0:
                             this._string.push("M", e, ",", t), this._point = 1;
                             break;
                         case 1:
                             this._string.push("L", e, ",", t);
                             break;
                         default:
-                            null == this._circle && (this._circle = Ew(this._radius)), this._string.push("M", e, ",", t, this._circle)
+                            null == this._circle && (this._circle = Q_(this._radius)), this._string.push("M", e, ",", t, this._circle)
                     }
                 },
                 result: function() {
                     if (this._string.length) {
                         var e = this._string.join("");
                         return this._string = [], e
                     }
                     return null
                 }
             };
-            const Hw = jw((function() {
+            const vx = px((function() {
                 return !0
             }), (function(e) {
                 var t, n = NaN,
                     r = NaN,
                     i = NaN;
                 return {
                     lineStart: function() {
                         e.lineStart(), t = 1
                     },
                     point: function(a, o) {
-                        var u = a > 0 ? ix : -ix,
-                            s = cx(a - n);
-                        cx(s - ix) < rx ? (e.point(n, r = (r + o) / 2 > 0 ? ax : -ax), e.point(i, r), e.lineEnd(), e.lineStart(), e.point(u, r), e.point(a, r), t = 0) : i !== u && s >= ix && (cx(n - i) < rx && (n -= i * rx), cx(a - u) < rx && (a -= u * rx), r = function(e, t, n, r) {
-                            var i, a, o = vx(e - n);
-                            return cx(o) > rx ? fx((vx(t) * (a = hx(r)) * vx(n) - vx(r) * (i = hx(t)) * vx(e)) / (i * a * o)) : (t + r) / 2
+                        var u = a > 0 ? Ob : -Ob,
+                            s = Ib(a - n);
+                        Ib(s - Ob) < Fb ? (e.point(n, r = (r + o) / 2 > 0 ? Tb : -Tb), e.point(i, r), e.lineEnd(), e.lineStart(), e.point(u, r), e.point(a, r), t = 0) : i !== u && s >= Ob && (Ib(n - i) < Fb && (n -= i * Fb), Ib(a - u) < Fb && (a -= u * Fb), r = function(e, t, n, r) {
+                            var i, a, o = Vb(e - n);
+                            return Ib(o) > Fb ? jb((Vb(t) * (a = Ub(r)) * Vb(n) - Vb(r) * (i = Ub(t)) * Vb(e)) / (i * a * o)) : (t + r) / 2
                         }(n, r, a, o), e.point(i, r), e.lineEnd(), e.lineStart(), e.point(u, r), t = 0), e.point(n = a, r = o), i = u
                     },
                     lineEnd: function() {
                         e.lineEnd(), n = r = NaN
                     },
                     clean: function() {
                         return 2 - t
                     }
                 }
             }), (function(e, t, n, r) {
                 var i;
-                if (null == e) i = n * ax, r.point(-ix, i), r.point(0, i), r.point(ix, i), r.point(ix, 0), r.point(ix, -i), r.point(0, -i), r.point(-ix, -i), r.point(-ix, 0), r.point(-ix, i);
-                else if (cx(e[0] - t[0]) > rx) {
-                    var a = e[0] < t[0] ? ix : -ix;
+                if (null == e) i = n * Tb, r.point(-Ob, i), r.point(0, i), r.point(Ob, i), r.point(Ob, 0), r.point(Ob, -i), r.point(0, -i), r.point(-Ob, -i), r.point(-Ob, 0), r.point(-Ob, i);
+                else if (Ib(e[0] - t[0]) > Fb) {
+                    var a = e[0] < t[0] ? Ob : -Ob;
                     i = n * a / 2, r.point(-a, i), r.point(0, i), r.point(a, i)
                 } else r.point(t[0], t[1])
-            }), [-ix, -ax]);
-
-            function Ww(e, t) {
-                (t = Tw(t))[0] -= e, zw(t);
-                var n = xx(-t[1]);
-                return ((-t[2] < 0 ? -n : n) + ux - rx) % ux
-            }
-
-            function Yw(e) {
-                var t = hx(e),
-                    n = 6 * lx,
-                    r = t > 0,
-                    i = cx(t) > rx;
-
-                function a(e, n) {
-                    return hx(e) * hx(n) > t
-                }
-
-                function o(e, n, r) {
-                    var i = [1, 0, 0],
-                        a = Pw(Tw(e), Tw(n)),
-                        o = Ow(a, a),
-                        u = a[0],
-                        s = o - u * u;
-                    if (!s) return !r && e;
-                    var l = t * o / s,
-                        c = -t * u / s,
-                        f = Pw(i, a),
-                        d = Lw(i, l);
-                    Rw(d, Lw(a, c));
-                    var h = f,
-                        p = Ow(d, h),
-                        g = Ow(h, h),
-                        m = p * p - g * (Ow(d, d) - 1);
-                    if (!(m < 0)) {
-                        var v = bx(m),
-                            y = Lw(h, (-p - v) / g);
-                        if (Rw(y, d), y = Nw(y), !r) return y;
-                        var b, _ = e[0],
-                            x = n[0],
-                            w = e[1],
-                            S = n[1];
-                        x < _ && (b = _, _ = x, x = b);
-                        var E = x - _,
-                            A = cx(E - ix) < rx;
-                        if (!A && S < w && (b = w, w = S, S = b), A || E < rx ? A ? w + S > 0 ^ y[1] < (cx(y[0] - _) < rx ? w : S) : w <= y[1] && y[1] <= S : E > ix ^ (_ <= y[0] && y[0] <= x)) {
-                            var k = Lw(h, (-p + v) / g);
-                            return Rw(k, d), [y, Nw(k)]
-                        }
-                    }
-                }
+            }), [-Ob, -Tb]);
 
-                function u(t, n) {
-                    var i = r ? e : ix - e,
-                        a = 0;
-                    return t < -i ? a |= 1 : t > i && (a |= 2), n < -i ? a |= 4 : n > i && (a |= 8), a
-                }
-                return jw(a, (function(e) {
-                    var t, n, s, l, c;
-                    return {
-                        lineStart: function() {
-                            l = s = !1, c = 1
-                        },
-                        point: function(f, d) {
-                            var h, p = [f, d],
-                                g = a(f, d),
-                                m = r ? g ? 0 : u(f, d) : g ? u(f + (f < 0 ? ix : -ix), d) : 0;
-                            if (!t && (l = s = g) && e.lineStart(), g !== s && (!(h = o(t, p)) || Mw(t, h) || Mw(p, h)) && (p[2] = 1), g !== s) c = 0, g ? (e.lineStart(), h = o(p, t), e.point(h[0], h[1])) : (h = o(t, p), e.point(h[0], h[1], 2), e.lineEnd()), t = h;
-                            else if (i && t && r ^ g) {
-                                var v;
-                                m & n || !(v = o(p, t, !0)) || (c = 0, r ? (e.lineStart(), e.point(v[0][0], v[0][1]), e.point(v[1][0], v[1][1]), e.lineEnd()) : (e.point(v[1][0], v[1][1]), e.lineEnd(), e.lineStart(), e.point(v[0][0], v[0][1], 3)))
-                            }!g || t && Mw(t, p) || e.point(p[0], p[1]), t = p, s = g, n = m
-                        },
-                        lineEnd: function() {
-                            s && e.lineEnd(), t = null
-                        },
-                        clean: function() {
-                            return c | (l && s) << 1
-                        }
-                    }
-                }), (function(t, r, i, a) {
-                    ! function(e, t, n, r, i, a) {
-                        if (n) {
-                            var o = hx(t),
-                                u = vx(t),
-                                s = r * n;
-                            null == i ? (i = t + r * ux, a = t - s / 2) : (i = Ww(o, i), a = Ww(o, a), (r > 0 ? i < a : i > a) && (i += r * ux));
-                            for (var l, c = i; r > 0 ? c > a : c < a; c -= s) l = Nw([o, -u * hx(c), -u * vx(c)]), e.point(l[0], l[1])
-                        }
-                    }(a, e, n, i, t, r)
-                }), r ? [0, -e] : [-ix, e - ix])
+            function yx(e, t) {
+                (t = ox(t))[0] -= e, fx(t);
+                var n = $b(-t[1]);
+                return ((-t[2] < 0 ? -n : n) + Rb - Fb) % Rb
             }
-            var Vw = 1e9,
-                Gw = -Vw;
+            var bx = 1e9,
+                _x = -bx;
 
-            function Xw(e, t, n, r) {
+            function xx(e, t, n, r) {
                 function i(i, a) {
                     return e <= i && i <= n && t <= a && a <= r
                 }
 
                 function a(i, a, u, l) {
                     var c = 0,
                         f = 0;
@@ -14026,29 +13407,29 @@
                         do {
                             l.point(0 === c || 3 === c ? e : n, c > 1 ? r : t)
                         } while ((c = (c + u + 4) % 4) !== f);
                     else l.point(a[0], a[1])
                 }
 
                 function o(r, i) {
-                    return cx(r[0] - e) < rx ? i > 0 ? 0 : 3 : cx(r[0] - n) < rx ? i > 0 ? 2 : 1 : cx(r[1] - t) < rx ? i > 0 ? 1 : 0 : i > 0 ? 3 : 2
+                    return Ib(r[0] - e) < Fb ? i > 0 ? 0 : 3 : Ib(r[0] - n) < Fb ? i > 0 ? 2 : 1 : Ib(r[1] - t) < Fb ? i > 0 ? 1 : 0 : i > 0 ? 3 : 2
                 }
 
                 function u(e, t) {
                     return s(e.x, t.x)
                 }
 
                 function s(e, t) {
                     var n = o(e, 1),
                         r = o(t, 1);
                     return n !== r ? n - r : 0 === n ? t[1] - e[1] : 1 === n ? e[0] - t[0] : 2 === n ? e[1] - t[1] : t[0] - e[0]
                 }
                 return function(o) {
                     var s, l, c, f, d, h, p, g, m, v, y, b = o,
-                        _ = kw(),
+                        _ = ex(),
                         x = {
                             point: w,
                             lineStart: function() {
                                 x.point = S, l && l.push(c = []), v = !0, m = !1, p = g = NaN
                             },
                             lineEnd: function() {
                                 s && (S(f, d), h && m && _.rejoin(), s.push(_.result())), x.point = w, m && b.lineEnd()
@@ -14059,30 +13440,30 @@
                             polygonEnd: function() {
                                 var t = function() {
                                         for (var t = 0, n = 0, i = l.length; n < i; ++n)
                                             for (var a, o, u = l[n], s = 1, c = u.length, f = u[0], d = f[0], h = f[1]; s < c; ++s) a = d, o = h, d = (f = u[s])[0], h = f[1], o <= r ? h > r && (d - a) * (r - o) > (h - o) * (e - a) && ++t : h <= r && (d - a) * (r - o) < (h - o) * (e - a) && --t;
                                         return t
                                     }(),
                                     n = y && t,
-                                    i = (s = Uw(s)).length;
-                                (n || i) && (o.polygonStart(), n && (o.lineStart(), a(null, null, 1, o), o.lineEnd()), i && Cw(s, u, t, a, o), o.polygonEnd()), b = o, s = l = c = null
+                                    i = (s = hx(s)).length;
+                                (n || i) && (o.polygonStart(), n && (o.lineStart(), a(null, null, 1, o), o.lineEnd()), i && rx(s, u, t, a, o), o.polygonEnd()), b = o, s = l = c = null
                             }
                         };
 
                     function w(e, t) {
                         i(e, t) && b.point(e, t)
                     }
 
                     function S(a, o) {
                         var u = i(a, o);
                         if (l && c.push([a, o]), v) f = a, d = o, h = u, v = !1, u && (b.lineStart(), b.point(a, o));
                         else if (u && m) b.point(a, o);
                         else {
-                            var s = [p = Math.max(Gw, Math.min(Vw, p)), g = Math.max(Gw, Math.min(Vw, g))],
-                                _ = [a = Math.max(Gw, Math.min(Vw, a)), o = Math.max(Gw, Math.min(Vw, o))];
+                            var s = [p = Math.max(_x, Math.min(bx, p)), g = Math.max(_x, Math.min(bx, g))],
+                                _ = [a = Math.max(_x, Math.min(bx, a)), o = Math.max(_x, Math.min(bx, o))];
                             ! function(e, t, n, r, i, a) {
                                 var o, u = e[0],
                                     s = e[1],
                                     l = 0,
                                     c = 1,
                                     f = t[0] - u,
                                     d = t[1] - s;
@@ -14127,119 +13508,119 @@
                         }
                         p = a, g = o, m = u
                     }
                     return x
                 }
             }
 
-            function $w(e, t) {
+            function wx(e, t) {
                 function n(n, r) {
                     return n = e(n, r), t(n[0], n[1])
                 }
                 return e.invert && t.invert && (n.invert = function(n, r) {
                     return (n = t.invert(n, r)) && e.invert(n[0], n[1])
                 }), n
             }
 
-            function Kw(e, t) {
-                return [cx(e) > ix ? e + Math.round(-e / ux) * ux : e, t]
+            function Sx(e, t) {
+                return [Ib(e) > Ob ? e + Math.round(-e / Rb) * Rb : e, t]
             }
 
-            function Jw(e, t, n) {
-                return (e %= ux) ? t || n ? $w(Zw(e), eS(t, n)) : Zw(e) : t || n ? eS(t, n) : Kw
+            function Ex(e, t, n) {
+                return (e %= Rb) ? t || n ? wx(kx(e), Mx(t, n)) : kx(e) : t || n ? Mx(t, n) : Sx
             }
 
-            function Qw(e) {
+            function Ax(e) {
                 return function(t, n) {
-                    return [(t += e) > ix ? t - ux : t < -ix ? t + ux : t, n]
+                    return [(t += e) > Ob ? t - Rb : t < -Ob ? t + Rb : t, n]
                 }
             }
 
-            function Zw(e) {
-                var t = Qw(e);
-                return t.invert = Qw(-e), t
+            function kx(e) {
+                var t = Ax(e);
+                return t.invert = Ax(-e), t
             }
 
-            function eS(e, t) {
-                var n = hx(e),
-                    r = vx(e),
-                    i = hx(t),
-                    a = vx(t);
+            function Mx(e, t) {
+                var n = Ub(e),
+                    r = Vb(e),
+                    i = Ub(t),
+                    a = Vb(t);
 
                 function o(e, t) {
-                    var o = hx(t),
-                        u = hx(e) * o,
-                        s = vx(e) * o,
-                        l = vx(t),
+                    var o = Ub(t),
+                        u = Ub(e) * o,
+                        s = Vb(e) * o,
+                        l = Vb(t),
                         c = l * n + u * r;
-                    return [dx(s * i - c * a, u * n - l * r), wx(c * i + s * a)]
+                    return [Bb(s * i - c * a, u * n - l * r), Kb(c * i + s * a)]
                 }
                 return o.invert = function(e, t) {
-                    var o = hx(t),
-                        u = hx(e) * o,
-                        s = vx(e) * o,
-                        l = vx(t),
+                    var o = Ub(t),
+                        u = Ub(e) * o,
+                        s = Vb(e) * o,
+                        l = Vb(t),
                         c = l * i - s * a;
-                    return [dx(s * i + l * a, u * n + c * r), wx(c * n - u * r)]
+                    return [Bb(s * i + l * a, u * n + c * r), Kb(c * n - u * r)]
                 }, o
             }
 
-            function tS(e) {
+            function Dx(e) {
                 return function(t) {
-                    var n = new nS;
+                    var n = new Cx;
                     for (var r in e) n[r] = e[r];
                     return n.stream = t, n
                 }
             }
 
-            function nS() {}
+            function Cx() {}
 
-            function rS(e, t, n) {
+            function Fx(e, t, n) {
                 var r = e.clipExtent && e.clipExtent();
-                return e.scale(150).translate([0, 0]), null != r && e.clipExtent(null), tx(n, e.stream(Bx)), t(Bx.result()), null != r && e.clipExtent(r), e
+                return e.scale(150).translate([0, 0]), null != r && e.clipExtent(null), Db(n, e.stream(g_)), t(g_.result()), null != r && e.clipExtent(r), e
             }
 
-            function iS(e, t, n) {
-                return rS(e, (function(n) {
+            function Nx(e, t, n) {
+                return Fx(e, (function(n) {
                     var r = t[1][0] - t[0][0],
                         i = t[1][1] - t[0][1],
                         a = Math.min(r / (n[1][0] - n[0][0]), i / (n[1][1] - n[0][1])),
                         o = +t[0][0] + (r - a * (n[1][0] + n[0][0])) / 2,
                         u = +t[0][1] + (i - a * (n[1][1] + n[0][1])) / 2;
                     e.scale(150 * a).translate([o, u])
                 }), n)
             }
 
-            function aS(e, t, n) {
-                return iS(e, [
+            function Ox(e, t, n) {
+                return Nx(e, [
                     [0, 0], t
                 ], n)
             }
 
-            function oS(e, t, n) {
-                return rS(e, (function(n) {
+            function Tx(e, t, n) {
+                return Fx(e, (function(n) {
                     var r = +t,
                         i = r / (n[1][0] - n[0][0]),
                         a = (r - i * (n[1][0] + n[0][0])) / 2,
                         o = -i * n[0][1];
                     e.scale(150 * i).translate([a, o])
                 }), n)
             }
 
-            function uS(e, t, n) {
-                return rS(e, (function(n) {
+            function Px(e, t, n) {
+                return Fx(e, (function(n) {
                     var r = +t,
                         i = r / (n[1][1] - n[0][1]),
                         a = -i * n[0][0],
                         o = (r - i * (n[1][1] + n[0][1])) / 2;
                     e.scale(150 * i).translate([a, o])
                 }), n)
             }
-            Kw.invert = Kw, nS.prototype = {
-                constructor: nS,
+            Sx.invert = Sx, Cx.prototype = {
+                constructor: Cx,
                 point: function(e, t) {
                     this.stream.point(e, t)
                 },
                 sphere: function() {
                     this.stream.sphere()
                 },
                 lineStart: function() {
@@ -14251,36 +13632,37 @@
                 polygonStart: function() {
                     this.stream.polygonStart()
                 },
                 polygonEnd: function() {
                     this.stream.polygonEnd()
                 }
             };
-            var sS = hx(30 * lx);
+            var Rx = 16,
+                Lx = Ub(30 * zb);
 
-            function lS(e, t) {
+            function zx(e, t) {
                 return +t ? function(e, t) {
                     function n(r, i, a, o, u, s, l, c, f, d, h, p, g, m) {
                         var v = l - r,
                             y = c - i,
                             b = v * v + y * y;
                         if (b > 4 * t && g--) {
                             var _ = o + d,
                                 x = u + h,
                                 w = s + p,
-                                S = bx(_ * _ + x * x + w * w),
-                                E = wx(w /= S),
-                                A = cx(cx(w) - 1) < rx || cx(a - f) < rx ? (a + f) / 2 : dx(x, _),
+                                S = Yb(_ * _ + x * x + w * w),
+                                E = Kb(w /= S),
+                                A = Ib(Ib(w) - 1) < Fb || Ib(a - f) < Fb ? (a + f) / 2 : Bb(x, _),
                                 k = e(A, E),
                                 M = k[0],
                                 D = k[1],
                                 C = M - r,
                                 F = D - i,
                                 N = y * C - v * F;
-                            (N * N / b > t || cx((v * C + y * F) / b - .5) > .3 || o * d + u * h + s * p < sS) && (n(r, i, a, o, u, s, M, D, A, _ /= S, x /= S, w, g, m), m.point(M, D), n(M, D, A, _, x, w, l, c, f, d, h, p, g, m))
+                            (N * N / b > t || Ib((v * C + y * F) / b - .5) > .3 || o * d + u * h + s * p < Lx) && (n(r, i, a, o, u, s, M, D, A, _ /= S, x /= S, w, g, m), m.point(M, D), n(M, D, A, _, x, w, l, c, f, d, h, p, g, m))
                         }
                     }
                     return function(t) {
                         var r, i, a, o, u, s, l, c, f, d, h, p, g = {
                             point: m,
                             lineStart: v,
                             lineEnd: b,
@@ -14297,17 +13679,17 @@
                         }
 
                         function v() {
                             c = NaN, g.point = y, t.lineStart()
                         }
 
                         function y(r, i) {
-                            var a = Tw([r, i]),
+                            var a = ox([r, i]),
                                 o = e(r, i);
-                            n(c, f, l, d, h, p, c = o[0], f = o[1], l = r, d = a[0], h = a[1], p = a[2], 16, t), t.point(c, f)
+                            n(c, f, l, d, h, p, c = o[0], f = o[1], l = r, d = a[0], h = a[1], p = a[2], Rx, t), t.point(c, f)
                         }
 
                         function b() {
                             g.point = m, t.lineEnd()
                         }
 
                         function _() {
@@ -14315,43 +13697,43 @@
                         }
 
                         function x(e, t) {
                             y(r = e, t), i = c, a = f, o = d, u = h, s = p, g.point = y
                         }
 
                         function w() {
-                            n(c, f, l, d, h, p, i, a, r, o, u, s, 16, t), g.lineEnd = b, b()
+                            n(c, f, l, d, h, p, i, a, r, o, u, s, Rx, t), g.lineEnd = b, b()
                         }
                         return g
                     }
                 }(e, t) : function(e) {
-                    return tS({
+                    return Dx({
                         point: function(t, n) {
                             t = e(t, n), this.stream.point(t[0], t[1])
                         }
                     })
                 }(e)
             }
-            var cS = tS({
+            var Ix = Dx({
                 point: function(e, t) {
-                    this.stream.point(e * lx, t * lx)
+                    this.stream.point(e * zb, t * zb)
                 }
             });
 
-            function fS(e, t, n, r, i, a) {
+            function jx(e, t, n, r, i, a) {
                 if (!a) return function(e, t, n, r, i) {
                     function a(a, o) {
                         return [t + e * (a *= r), n - e * (o *= i)]
                     }
                     return a.invert = function(a, o) {
                         return [(a - t) / e * r, (n - o) / e * i]
                     }, a
                 }(e, t, n, r, i);
-                var o = hx(a),
-                    u = vx(a),
+                var o = Ub(a),
+                    u = Vb(a),
                     s = o * e,
                     l = u * e,
                     c = o / e,
                     f = u / e,
                     d = (u * n - o * t) / e,
                     h = (u * t + o * n) / e;
 
@@ -14359,204 +13741,287 @@
                     return [s * (e *= r) - l * (a *= i) + t, n - l * e - s * a]
                 }
                 return p.invert = function(e, t) {
                     return [r * (c * e - f * t + d), i * (h - f * e - c * t)]
                 }, p
             }
 
-            function dS(e) {
-                return hS((function() {
+            function Bx(e) {
+                return Ux((function() {
                     return e
                 }))()
             }
 
-            function hS(e) {
+            function Ux(e) {
                 var t, n, r, i, a, o, u, s, l, c, f = 150,
                     d = 480,
                     h = 250,
                     p = 0,
                     g = 0,
                     m = 0,
                     v = 0,
                     y = 0,
                     b = 0,
                     _ = 1,
                     x = 1,
                     w = null,
-                    S = Hw,
+                    S = vx,
                     E = null,
-                    A = $_,
+                    A = wb,
                     k = .5;
 
                 function M(e) {
-                    return s(e[0] * lx, e[1] * lx)
+                    return s(e[0] * zb, e[1] * zb)
                 }
 
                 function D(e) {
-                    return (e = s.invert(e[0], e[1])) && [e[0] * sx, e[1] * sx]
+                    return (e = s.invert(e[0], e[1])) && [e[0] * Lb, e[1] * Lb]
                 }
 
                 function C() {
-                    var e = fS(f, 0, 0, _, x, b).apply(null, t(p, g)),
-                        r = fS(f, d - e[0], h - e[1], _, x, b);
-                    return n = Jw(m, v, y), u = $w(t, r), s = $w(n, u), o = lS(u, k), F()
+                    var e = jx(f, 0, 0, _, x, b).apply(null, t(p, g)),
+                        r = jx(f, d - e[0], h - e[1], _, x, b);
+                    return n = Ex(m, v, y), u = wx(t, r), s = wx(n, u), o = zx(u, k), F()
                 }
 
                 function F() {
                     return l = c = null, M
                 }
                 return M.stream = function(e) {
-                        return l && c === e ? l : l = cS(function(e) {
-                            return tS({
+                        return l && c === e ? l : l = Ix(function(e) {
+                            return Dx({
                                 point: function(t, n) {
                                     var r = e(t, n);
                                     return this.stream.point(r[0], r[1])
                                 }
                             })
                         }(n)(S(o(A(c = e)))))
                     }, M.preclip = function(e) {
                         return arguments.length ? (S = e, w = void 0, F()) : S
                     }, M.postclip = function(e) {
                         return arguments.length ? (A = e, E = r = i = a = null, F()) : A
                     }, M.clipAngle = function(e) {
-                        return arguments.length ? (S = +e ? Yw(w = e * lx) : (w = null, Hw), F()) : w * sx
+                        return arguments.length ? (S = +e ? function(e) {
+                            var t = Ub(e),
+                                n = 6 * zb,
+                                r = t > 0,
+                                i = Ib(t) > Fb;
+
+                            function a(e, n) {
+                                return Ub(e) * Ub(n) > t
+                            }
+
+                            function o(e, n, r) {
+                                var i = [1, 0, 0],
+                                    a = sx(ox(e), ox(n)),
+                                    o = ux(a, a),
+                                    u = a[0],
+                                    s = o - u * u;
+                                if (!s) return !r && e;
+                                var l = t * o / s,
+                                    c = -t * u / s,
+                                    f = sx(i, a),
+                                    d = cx(i, l);
+                                lx(d, cx(a, c));
+                                var h = f,
+                                    p = ux(d, h),
+                                    g = ux(h, h),
+                                    m = p * p - g * (ux(d, d) - 1);
+                                if (!(m < 0)) {
+                                    var v = Yb(m),
+                                        y = cx(h, (-p - v) / g);
+                                    if (lx(y, d), y = ax(y), !r) return y;
+                                    var b, _ = e[0],
+                                        x = n[0],
+                                        w = e[1],
+                                        S = n[1];
+                                    x < _ && (b = _, _ = x, x = b);
+                                    var E = x - _,
+                                        A = Ib(E - Ob) < Fb;
+                                    if (!A && S < w && (b = w, w = S, S = b), A || E < Fb ? A ? w + S > 0 ^ y[1] < (Ib(y[0] - _) < Fb ? w : S) : w <= y[1] && y[1] <= S : E > Ob ^ (_ <= y[0] && y[0] <= x)) {
+                                        var k = cx(h, (-p + v) / g);
+                                        return lx(k, d), [y, ax(k)]
+                                    }
+                                }
+                            }
+
+                            function u(t, n) {
+                                var i = r ? e : Ob - e,
+                                    a = 0;
+                                return t < -i ? a |= 1 : t > i && (a |= 2), n < -i ? a |= 4 : n > i && (a |= 8), a
+                            }
+                            return px(a, (function(e) {
+                                var t, n, s, l, c;
+                                return {
+                                    lineStart: function() {
+                                        l = s = !1, c = 1
+                                    },
+                                    point: function(f, d) {
+                                        var h, p = [f, d],
+                                            g = a(f, d),
+                                            m = r ? g ? 0 : u(f, d) : g ? u(f + (f < 0 ? Ob : -Ob), d) : 0;
+                                        if (!t && (l = s = g) && e.lineStart(), g !== s && (!(h = o(t, p)) || tx(t, h) || tx(p, h)) && (p[2] = 1), g !== s) c = 0, g ? (e.lineStart(), h = o(p, t), e.point(h[0], h[1])) : (h = o(t, p), e.point(h[0], h[1], 2), e.lineEnd()), t = h;
+                                        else if (i && t && r ^ g) {
+                                            var v;
+                                            m & n || !(v = o(p, t, !0)) || (c = 0, r ? (e.lineStart(), e.point(v[0][0], v[0][1]), e.point(v[1][0], v[1][1]), e.lineEnd()) : (e.point(v[1][0], v[1][1]), e.lineEnd(), e.lineStart(), e.point(v[0][0], v[0][1], 3)))
+                                        }!g || t && tx(t, p) || e.point(p[0], p[1]), t = p, s = g, n = m
+                                    },
+                                    lineEnd: function() {
+                                        s && e.lineEnd(), t = null
+                                    },
+                                    clean: function() {
+                                        return c | (l && s) << 1
+                                    }
+                                }
+                            }), (function(t, r, i, a) {
+                                ! function(e, t, n, r, i, a) {
+                                    if (n) {
+                                        var o = Ub(t),
+                                            u = Vb(t),
+                                            s = r * n;
+                                        null == i ? (i = t + r * Rb, a = t - s / 2) : (i = yx(o, i), a = yx(o, a), (r > 0 ? i < a : i > a) && (i += r * Rb));
+                                        for (var l, c = i; r > 0 ? c > a : c < a; c -= s) l = ax([o, -u * Ub(c), -u * Vb(c)]), e.point(l[0], l[1])
+                                    }
+                                }(a, e, n, i, t, r)
+                            }), r ? [0, -e] : [-Ob, e - Ob])
+                        }(w = e * zb) : (w = null, vx), F()) : w * Lb
                     }, M.clipExtent = function(e) {
-                        return arguments.length ? (A = null == e ? (E = r = i = a = null, $_) : Xw(E = +e[0][0], r = +e[0][1], i = +e[1][0], a = +e[1][1]), F()) : null == E ? null : [
+                        return arguments.length ? (A = null == e ? (E = r = i = a = null, wb) : xx(E = +e[0][0], r = +e[0][1], i = +e[1][0], a = +e[1][1]), F()) : null == E ? null : [
                             [E, r],
                             [i, a]
                         ]
                     }, M.scale = function(e) {
                         return arguments.length ? (f = +e, C()) : f
                     }, M.translate = function(e) {
                         return arguments.length ? (d = +e[0], h = +e[1], C()) : [d, h]
                     }, M.center = function(e) {
-                        return arguments.length ? (p = e[0] % 360 * lx, g = e[1] % 360 * lx, C()) : [p * sx, g * sx]
+                        return arguments.length ? (p = e[0] % 360 * zb, g = e[1] % 360 * zb, C()) : [p * Lb, g * Lb]
                     }, M.rotate = function(e) {
-                        return arguments.length ? (m = e[0] % 360 * lx, v = e[1] % 360 * lx, y = e.length > 2 ? e[2] % 360 * lx : 0, C()) : [m * sx, v * sx, y * sx]
+                        return arguments.length ? (m = e[0] % 360 * zb, v = e[1] % 360 * zb, y = e.length > 2 ? e[2] % 360 * zb : 0, C()) : [m * Lb, v * Lb, y * Lb]
                     }, M.angle = function(e) {
-                        return arguments.length ? (b = e % 360 * lx, C()) : b * sx
+                        return arguments.length ? (b = e % 360 * zb, C()) : b * Lb
                     }, M.reflectX = function(e) {
                         return arguments.length ? (_ = e ? -1 : 1, C()) : _ < 0
                     }, M.reflectY = function(e) {
                         return arguments.length ? (x = e ? -1 : 1, C()) : x < 0
                     }, M.precision = function(e) {
-                        return arguments.length ? (o = lS(u, k = e * e), F()) : bx(k)
+                        return arguments.length ? (o = zx(u, k = e * e), F()) : Yb(k)
                     }, M.fitExtent = function(e, t) {
-                        return iS(M, e, t)
+                        return Nx(M, e, t)
                     }, M.fitSize = function(e, t) {
-                        return aS(M, e, t)
+                        return Ox(M, e, t)
                     }, M.fitWidth = function(e, t) {
-                        return oS(M, e, t)
+                        return Tx(M, e, t)
                     }, M.fitHeight = function(e, t) {
-                        return uS(M, e, t)
+                        return Px(M, e, t)
                     },
                     function() {
                         return t = e.apply(this, arguments), M.invert = t.invert && D, C()
                     }
             }
 
-            function pS(e) {
+            function qx(e) {
                 var t = 0,
-                    n = ix / 3,
-                    r = hS(e),
+                    n = Ob / 3,
+                    r = Ux(e),
                     i = r(t, n);
                 return i.parallels = function(e) {
-                    return arguments.length ? r(t = e[0] * lx, n = e[1] * lx) : [t * sx, n * sx]
+                    return arguments.length ? r(t = e[0] * zb, n = e[1] * zb) : [t * Lb, n * Lb]
                 }, i
             }
 
-            function gS(e, t) {
-                var n = vx(e),
-                    r = (n + vx(t)) / 2;
-                if (cx(r) < rx) return function(e) {
-                    var t = hx(e);
+            function Hx(e, t) {
+                var n = Vb(e),
+                    r = (n + Vb(t)) / 2;
+                if (Ib(r) < Fb) return function(e) {
+                    var t = Ub(e);
 
                     function n(e, n) {
-                        return [e * t, vx(n) / t]
+                        return [e * t, Vb(n) / t]
                     }
                     return n.invert = function(e, n) {
-                        return [e / t, wx(n * t)]
+                        return [e / t, Kb(n * t)]
                     }, n
                 }(e);
                 var i = 1 + n * (2 * r - n),
-                    a = bx(i) / r;
+                    a = Yb(i) / r;
 
                 function o(e, t) {
-                    var n = bx(i - 2 * r * vx(t)) / r;
-                    return [n * vx(e *= r), a - n * hx(e)]
+                    var n = Yb(i - 2 * r * Vb(t)) / r;
+                    return [n * Vb(e *= r), a - n * Ub(e)]
                 }
                 return o.invert = function(e, t) {
                     var n = a - t,
-                        o = dx(e, cx(n)) * yx(n);
-                    return n * r < 0 && (o -= ix * yx(e) * yx(n)), [o / r, wx((i - (e * e + n * n) * r * r) / (2 * r))]
+                        o = Bb(e, Ib(n)) * Gb(n);
+                    return n * r < 0 && (o -= Ob * Gb(e) * Gb(n)), [o / r, Kb((i - (e * e + n * n) * r * r) / (2 * r))]
                 }, o
             }
 
-            function mS() {
-                return pS(gS).scale(155.424).center([0, 33.6442])
+            function Wx() {
+                return qx(Hx).scale(155.424).center([0, 33.6442])
             }
 
-            function vS() {
-                return mS().parallels([29.5, 45.5]).scale(1070).translate([480, 250]).rotate([96, 0]).center([-.6, 38.7])
+            function Vx() {
+                return Wx().parallels([29.5, 45.5]).scale(1070).translate([480, 250]).rotate([96, 0]).center([-.6, 38.7])
             }
 
-            function yS(e) {
+            function Gx(e) {
                 return function(t, n) {
-                    var r = hx(t),
-                        i = hx(n),
+                    var r = Ub(t),
+                        i = Ub(n),
                         a = e(r * i);
-                    return a === 1 / 0 ? [2, 0] : [a * i * vx(t), a * vx(n)]
+                    return a === 1 / 0 ? [2, 0] : [a * i * Vb(t), a * Vb(n)]
                 }
             }
 
-            function bS(e) {
+            function Yx(e) {
                 return function(t, n) {
-                    var r = bx(t * t + n * n),
+                    var r = Yb(t * t + n * n),
                         i = e(r),
-                        a = vx(i),
-                        o = hx(i);
-                    return [dx(t * a, r * o), wx(r && n * a / r)]
+                        a = Vb(i),
+                        o = Ub(i);
+                    return [Bb(t * a, r * o), Kb(r && n * a / r)]
                 }
             }
-            var _S = yS((function(e) {
-                return bx(2 / (1 + e))
+            var Xx = Gx((function(e) {
+                return Yb(2 / (1 + e))
             }));
-            _S.invert = bS((function(e) {
-                return 2 * wx(e / 2)
+            Xx.invert = Yx((function(e) {
+                return 2 * Kb(e / 2)
             }));
-            var xS = yS((function(e) {
-                return (e = xx(e)) && e / vx(e)
+            var $x = Gx((function(e) {
+                return (e = $b(e)) && e / Vb(e)
             }));
 
-            function wS(e, t) {
-                return [e, gx(_x((ax + t) / 2))]
+            function Kx(e, t) {
+                return [e, Hb(Xb((Tb + t) / 2))]
             }
 
-            function SS(e) {
-                var t, n, r, i = dS(e),
+            function Jx(e) {
+                var t, n, r, i = Bx(e),
                     a = i.center,
                     o = i.scale,
                     u = i.translate,
                     s = i.clipExtent,
                     l = null;
 
                 function c() {
-                    var a = ix * o(),
+                    var a = Ob * o(),
                         u = i(function(e) {
                             function t(t) {
-                                return (t = e(t[0] * lx, t[1] * lx))[0] *= sx, t[1] *= sx, t
+                                return (t = e(t[0] * zb, t[1] * zb))[0] *= Lb, t[1] *= Lb, t
                             }
-                            return e = Jw(e[0] * lx, e[1] * lx, e.length > 2 ? e[2] * lx : 0), t.invert = function(t) {
-                                return (t = e.invert(t[0] * lx, t[1] * lx))[0] *= sx, t[1] *= sx, t
+                            return e = Ex(e[0] * zb, e[1] * zb, e.length > 2 ? e[2] * zb : 0), t.invert = function(t) {
+                                return (t = e.invert(t[0] * zb, t[1] * zb))[0] *= Lb, t[1] *= Lb, t
                             }, t
                         }(i.rotate()).invert([0, 0]));
                     return s(null == l ? [
                         [u[0] - a, u[1] - a],
                         [u[0] + a, u[1] + a]
-                    ] : e === wS ? [
+                    ] : e === Kx ? [
                         [Math.max(u[0] - a, l), t],
                         [Math.min(u[0] + a, n), r]
                     ] : [
                         [l, Math.max(u[1] - a, t)],
                         [n, Math.min(u[1] + a, r)]
                     ])
                 }
@@ -14570,179 +14035,1082 @@
                     return arguments.length ? (null == e ? l = t = n = r = null : (l = +e[0][0], t = +e[0][1], n = +e[1][0], r = +e[1][1]), c()) : null == l ? null : [
                         [l, t],
                         [n, r]
                     ]
                 }, c()
             }
 
-            function ES(e) {
-                return _x((ax + e) / 2)
+            function Qx(e) {
+                return Xb((Tb + e) / 2)
             }
 
-            function AS(e, t) {
-                var n = hx(e),
-                    r = e === t ? vx(e) : gx(n / hx(t)) / gx(ES(t) / ES(e)),
-                    i = n * mx(ES(e), r) / r;
-                if (!r) return wS;
+            function Zx(e, t) {
+                var n = Ub(e),
+                    r = e === t ? Vb(e) : Hb(n / Ub(t)) / Hb(Qx(t) / Qx(e)),
+                    i = n * Wb(Qx(e), r) / r;
+                if (!r) return Kx;
 
                 function a(e, t) {
-                    i > 0 ? t < -ax + rx && (t = -ax + rx) : t > ax - rx && (t = ax - rx);
-                    var n = i / mx(ES(t), r);
-                    return [n * vx(r * e), i - n * hx(r * e)]
+                    i > 0 ? t < -Tb + Fb && (t = -Tb + Fb) : t > Tb - Fb && (t = Tb - Fb);
+                    var n = i / Wb(Qx(t), r);
+                    return [n * Vb(r * e), i - n * Ub(r * e)]
                 }
                 return a.invert = function(e, t) {
                     var n = i - t,
-                        a = yx(r) * bx(e * e + n * n),
-                        o = dx(e, cx(n)) * yx(n);
-                    return n * r < 0 && (o -= ix * yx(e) * yx(n)), [o / r, 2 * fx(mx(i / a, 1 / r)) - ax]
+                        a = Gb(r) * Yb(e * e + n * n),
+                        o = Bb(e, Ib(n)) * Gb(n);
+                    return n * r < 0 && (o -= Ob * Gb(e) * Gb(n)), [o / r, 2 * jb(Wb(i / a, 1 / r)) - Tb]
                 }, a
             }
 
-            function kS(e, t) {
+            function ew(e, t) {
                 return [e, t]
             }
 
-            function MS(e, t) {
-                var n = hx(e),
-                    r = e === t ? vx(e) : (n - hx(t)) / (t - e),
+            function tw(e, t) {
+                var n = Ub(e),
+                    r = e === t ? Vb(e) : (n - Ub(t)) / (t - e),
                     i = n / r + e;
-                if (cx(r) < rx) return kS;
+                if (Ib(r) < Fb) return ew;
 
                 function a(e, t) {
                     var n = i - t,
                         a = r * e;
-                    return [n * vx(a), i - n * hx(a)]
+                    return [n * Vb(a), i - n * Ub(a)]
                 }
                 return a.invert = function(e, t) {
                     var n = i - t,
-                        a = dx(e, cx(n)) * yx(n);
-                    return n * r < 0 && (a -= ix * yx(e) * yx(n)), [a / r, i - yx(r) * bx(e * e + n * n)]
+                        a = Bb(e, Ib(n)) * Gb(n);
+                    return n * r < 0 && (a -= Ob * Gb(e) * Gb(n)), [a / r, i - Gb(r) * Yb(e * e + n * n)]
                 }, a
             }
-            xS.invert = bS((function(e) {
+            $x.invert = Yx((function(e) {
                 return e
-            })), wS.invert = function(e, t) {
-                return [e, 2 * fx(px(t)) - ax]
-            }, kS.invert = kS;
-            var DS = 1.340264,
-                CS = -.081106,
-                FS = 893e-6,
-                NS = .003796,
-                TS = bx(3) / 2;
+            })), Kx.invert = function(e, t) {
+                return [e, 2 * jb(qb(t)) - Tb]
+            }, ew.invert = ew;
+            var nw = 1.340264,
+                rw = -.081106,
+                iw = 893e-6,
+                aw = .003796,
+                ow = Yb(3) / 2;
 
-            function OS(e, t) {
-                var n = wx(TS * vx(t)),
+            function uw(e, t) {
+                var n = Kb(ow * Vb(t)),
                     r = n * n,
                     i = r * r * r;
-                return [e * hx(n) / (TS * (DS + 3 * CS * r + i * (7 * FS + 9 * NS * r))), n * (DS + CS * r + i * (FS + NS * r))]
+                return [e * Ub(n) / (ow * (nw + 3 * rw * r + i * (7 * iw + 9 * aw * r))), n * (nw + rw * r + i * (iw + aw * r))]
             }
 
-            function PS(e, t) {
-                var n = hx(t),
-                    r = hx(e) * n;
-                return [n * vx(e) / r, vx(t) / r]
+            function sw(e, t) {
+                var n = Ub(t),
+                    r = Ub(e) * n;
+                return [n * Vb(e) / r, Vb(t) / r]
             }
 
-            function RS(e, t) {
+            function lw(e, t) {
                 var n = t * t,
                     r = n * n;
                 return [e * (.8707 - .131979 * n + r * (r * (.003971 * n - .001529 * r) - .013791)), t * (1.007226 + n * (.015085 + r * (.028874 * n - .044475 - .005916 * r)))]
             }
 
-            function LS(e, t) {
-                return [hx(t) * vx(e), vx(t)]
+            function cw(e, t) {
+                return [Ub(t) * Vb(e), Vb(t)]
+            }
+
+            function fw(e, t) {
+                var n = Ub(t),
+                    r = 1 + Ub(e) * n;
+                return [n * Vb(e) / r, Vb(t) / r]
             }
 
-            function zS(e, t) {
-                var n = hx(t),
-                    r = 1 + hx(e) * n;
-                return [n * vx(e) / r, vx(t) / r]
+            function dw(e, t) {
+                return [Hb(Xb((Tb + t) / 2)), -e]
             }
 
-            function IS(e, t) {
-                return [gx(_x((ax + t) / 2)), -e]
+            function hw() {}
+
+            function pw() {
+                var e, t = [];
+                return {
+                    point: function(t, n, r) {
+                        e.push([t, n, r])
+                    },
+                    lineStart: function() {
+                        t.push(e = [])
+                    },
+                    lineEnd: hw,
+                    rejoin: function() {
+                        t.length > 1 && t.push(t.pop().concat(t.shift()))
+                    },
+                    result: function() {
+                        var n = t;
+                        return t = [], e = null, n
+                    }
+                }
             }
-            OS.invert = function(e, t) {
-                for (var n, r = t, i = r * r, a = i * i * i, o = 0; o < 12 && (a = (i = (r -= n = (r * (DS + CS * i + a * (FS + NS * i)) - t) / (DS + 3 * CS * i + a * (7 * FS + 9 * NS * i))) * r) * i * i, !(cx(n) < 1e-12)); ++o);
-                return [TS * e * (DS + 3 * CS * i + a * (7 * FS + 9 * NS * i)) / hx(r), wx(vx(r) / TS)]
-            }, PS.invert = bS(fx), RS.invert = function(e, t) {
+            uw.invert = function(e, t) {
+                for (var n, r = t, i = r * r, a = i * i * i, o = 0; o < 12 && (a = (i = (r -= n = (r * (nw + rw * i + a * (iw + aw * i)) - t) / (nw + 3 * rw * i + a * (7 * iw + 9 * aw * i))) * r) * i * i, !(Ib(n) < Nb)); ++o);
+                return [ow * e * (nw + 3 * rw * i + a * (7 * iw + 9 * aw * i)) / Ub(r), Kb(Vb(r) / ow)]
+            }, sw.invert = Yx(jb), lw.invert = function(e, t) {
                 var n, r = t,
                     i = 25;
                 do {
                     var a = r * r,
                         o = a * a;
                     r -= n = (r * (1.007226 + a * (.015085 + o * (.028874 * a - .044475 - .005916 * o))) - t) / (1.007226 + a * (.045255 + o * (.259866 * a - .311325 - .005916 * 11 * o)))
-                } while (cx(n) > rx && --i > 0);
+                } while (Ib(n) > Fb && --i > 0);
                 return [e / (.8707 + (a = r * r) * (a * (a * a * a * (.003971 - .001529 * a) - .013791) - .131979)), r]
-            }, LS.invert = bS(wx), zS.invert = bS((function(e) {
-                return 2 * fx(e)
-            })), IS.invert = function(e, t) {
-                return [-t, 2 * fx(px(e)) - ax]
-            };
-            var US = Math.abs,
-                jS = (Math.atan, Math.atan2, Math.ceil, Math.cos),
-                BS = (Math.exp, Math.floor, Math.log, Math.max, Math.min, Math.pow, Math.round, Math.sign, Math.sin),
-                qS = (Math.tan, Math.PI),
-                HS = qS / 2,
-                WS = (Math.SQRT1_2, VS(2));
+            }, cw.invert = Yx(Kb), fw.invert = Yx((function(e) {
+                return 2 * jb(e)
+            })), dw.invert = function(e, t) {
+                return [-t, 2 * jb(qb(e)) - Tb]
+            };
+            var gw = 1e-6,
+                mw = 1e-12,
+                vw = Math.PI,
+                yw = vw / 2,
+                bw = vw / 4,
+                _w = 2 * vw,
+                xw = 180 / vw,
+                ww = vw / 180,
+                Sw = Math.abs,
+                Ew = Math.atan,
+                Aw = Math.atan2,
+                kw = Math.cos,
+                Mw = (Math.ceil, Math.exp, Math.floor, Math.hypot, Math.log, Math.pow, Math.sin),
+                Dw = Math.sign || function(e) {
+                    return e > 0 ? 1 : e < 0 ? -1 : 0
+                },
+                Cw = Math.sqrt;
+
+            function Fw(e) {
+                return e > 1 ? yw : e < -1 ? -yw : Math.asin(e)
+            }
+
+            function Nw(e, t) {
+                return Sw(e[0] - t[0]) < gw && Sw(e[1] - t[1]) < gw
+            }
+
+            function Ow(e, t, n, r) {
+                this.x = e, this.z = t, this.o = n, this.e = r, this.v = !1, this.n = this.p = null
+            }
+
+            function Tw(e, t, n, r, i) {
+                var a, o, u = [],
+                    s = [];
+                if (e.forEach((function(e) {
+                        if (!((t = e.length - 1) <= 0)) {
+                            var t, n, r = e[0],
+                                o = e[t];
+                            if (Nw(r, o)) {
+                                if (!r[2] && !o[2]) {
+                                    for (i.lineStart(), a = 0; a < t; ++a) i.point((r = e[a])[0], r[1]);
+                                    return void i.lineEnd()
+                                }
+                                o[0] += 2 * gw
+                            }
+                            u.push(n = new Ow(r, e, null, !0)), s.push(n.o = new Ow(r, null, n, !1)), u.push(n = new Ow(o, e, null, !1)), s.push(n.o = new Ow(o, null, n, !0))
+                        }
+                    })), u.length) {
+                    for (s.sort(t), Pw(u), Pw(s), a = 0, o = s.length; a < o; ++a) s[a].e = n = !n;
+                    for (var l, c, f = u[0];;) {
+                        for (var d = f, h = !0; d.v;)
+                            if ((d = d.n) === f) return;
+                        l = d.z, i.lineStart();
+                        do {
+                            if (d.v = d.o.v = !0, d.e) {
+                                if (h)
+                                    for (a = 0, o = l.length; a < o; ++a) i.point((c = l[a])[0], c[1]);
+                                else r(d.x, d.n.x, 1, i);
+                                d = d.n
+                            } else {
+                                if (h)
+                                    for (l = d.p.z, a = l.length - 1; a >= 0; --a) i.point((c = l[a])[0], c[1]);
+                                else r(d.x, d.p.x, -1, i);
+                                d = d.p
+                            }
+                            l = (d = d.o).z, h = !h
+                        } while (!d.v);
+                        i.lineEnd()
+                    }
+                }
+            }
 
-            function YS(e) {
-                return e > 1 ? HS : e < -1 ? -HS : Math.asin(e)
+            function Pw(e) {
+                if (t = e.length) {
+                    for (var t, n, r = 0, i = e[0]; ++r < t;) i.n = n = e[r], n.p = i, i = n;
+                    i.n = n = e[0], n.p = i
+                }
+            }
+            Math.tan;
+            class Rw {
+                constructor() {
+                    this._partials = new Float64Array(32), this._n = 0
+                }
+                add(e) {
+                    const t = this._partials;
+                    let n = 0;
+                    for (let r = 0; r < this._n && r < 32; r++) {
+                        const i = t[r],
+                            a = e + i,
+                            o = Math.abs(e) < Math.abs(i) ? e - (a - i) : i - (a - e);
+                        o && (t[n++] = o), e = a
+                    }
+                    return t[n] = e, this._n = n + 1, this
+                }
+                valueOf() {
+                    const e = this._partials;
+                    let t, n, r, i = this._n,
+                        a = 0;
+                    if (i > 0) {
+                        for (a = e[--i]; i > 0 && (t = a, n = e[--i], a = t + n, r = n - (a - t), !r););
+                        i > 0 && (r < 0 && e[i - 1] < 0 || r > 0 && e[i - 1] > 0) && (n = 2 * r, t = a + n, n == t - a && (a = t))
+                    }
+                    return a
+                }
             }
 
-            function VS(e) {
+            function Lw(e) {
+                return [Aw(e[1], e[0]), Fw(e[2])]
+            }
+
+            function zw(e) {
+                var t = e[0],
+                    n = e[1],
+                    r = kw(n);
+                return [r * kw(t), r * Mw(t), Mw(n)]
+            }
+
+            function Iw(e, t) {
+                return e[0] * t[0] + e[1] * t[1] + e[2] * t[2]
+            }
+
+            function jw(e, t) {
+                return [e[1] * t[2] - e[2] * t[1], e[2] * t[0] - e[0] * t[2], e[0] * t[1] - e[1] * t[0]]
+            }
+
+            function Bw(e, t) {
+                e[0] += t[0], e[1] += t[1], e[2] += t[2]
+            }
+
+            function Uw(e, t) {
+                return [e[0] * t, e[1] * t, e[2] * t]
+            }
+
+            function qw(e) {
+                var t = Cw(e[0] * e[0] + e[1] * e[1] + e[2] * e[2]);
+                e[0] /= t, e[1] /= t, e[2] /= t
+            }
+
+            function Hw(e) {
+                return Sw(e[0]) <= vw ? e[0] : Dw(e[0]) * ((Sw(e[0]) + vw) % _w - vw)
+            }
+
+            function Ww(e) {
+                return Array.from(function*(e) {
+                    for (const t of e) yield* t
+                }(e))
+            }
+
+            function Vw(e, t, n, r) {
+                return function(i) {
+                    var a, o, u, s = t(i),
+                        l = pw(),
+                        c = t(l),
+                        f = !1,
+                        d = {
+                            point: h,
+                            lineStart: g,
+                            lineEnd: m,
+                            polygonStart: function() {
+                                d.point = v, d.lineStart = y, d.lineEnd = b, o = [], a = []
+                            },
+                            polygonEnd: function() {
+                                d.point = h, d.lineStart = g, d.lineEnd = m, o = Ww(o);
+                                var e = function(e, t) {
+                                    var n = Hw(t),
+                                        r = t[1],
+                                        i = Mw(r),
+                                        a = [Mw(n), -kw(n), 0],
+                                        o = 0,
+                                        u = 0,
+                                        s = new Rw;
+                                    1 === i ? r = yw + gw : -1 === i && (r = -yw - gw);
+                                    for (var l = 0, c = e.length; l < c; ++l)
+                                        if (d = (f = e[l]).length)
+                                            for (var f, d, h = f[d - 1], p = Hw(h), g = h[1] / 2 + bw, m = Mw(g), v = kw(g), y = 0; y < d; ++y, p = _, m = w, v = S, h = b) {
+                                                var b = f[y],
+                                                    _ = Hw(b),
+                                                    x = b[1] / 2 + bw,
+                                                    w = Mw(x),
+                                                    S = kw(x),
+                                                    E = _ - p,
+                                                    A = E >= 0 ? 1 : -1,
+                                                    k = A * E,
+                                                    M = k > vw,
+                                                    D = m * w;
+                                                if (s.add(Aw(D * A * Mw(k), v * S + D * kw(k))), o += M ? E + A * _w : E, M ^ p >= n ^ _ >= n) {
+                                                    var C = jw(zw(h), zw(b));
+                                                    qw(C);
+                                                    var F = jw(a, C);
+                                                    qw(F);
+                                                    var N = (M ^ E >= 0 ? -1 : 1) * Fw(F[2]);
+                                                    (r > N || r === N && (C[0] || C[1])) && (u += M ^ E >= 0 ? 1 : -1)
+                                                }
+                                            }
+                                    return (o < -gw || o < gw && s < -mw) ^ 1 & u
+                                }(a, r);
+                                o.length ? (f || (i.polygonStart(), f = !0), Tw(o, Yw, e, n, i)) : e && (f || (i.polygonStart(), f = !0), i.lineStart(), n(null, null, 1, i), i.lineEnd()), f && (i.polygonEnd(), f = !1), o = a = null
+                            },
+                            sphere: function() {
+                                i.polygonStart(), i.lineStart(), n(null, null, 1, i), i.lineEnd(), i.polygonEnd()
+                            }
+                        };
+
+                    function h(t, n) {
+                        e(t, n) && i.point(t, n)
+                    }
+
+                    function p(e, t) {
+                        s.point(e, t)
+                    }
+
+                    function g() {
+                        d.point = p, s.lineStart()
+                    }
+
+                    function m() {
+                        d.point = h, s.lineEnd()
+                    }
+
+                    function v(e, t) {
+                        u.push([e, t]), c.point(e, t)
+                    }
+
+                    function y() {
+                        c.lineStart(), u = []
+                    }
+
+                    function b() {
+                        v(u[0][0], u[0][1]), c.lineEnd();
+                        var e, t, n, r, s = c.clean(),
+                            d = l.result(),
+                            h = d.length;
+                        if (u.pop(), a.push(u), u = null, h)
+                            if (1 & s) {
+                                if ((t = (n = d[0]).length - 1) > 0) {
+                                    for (f || (i.polygonStart(), f = !0), i.lineStart(), e = 0; e < t; ++e) i.point((r = n[e])[0], r[1]);
+                                    i.lineEnd()
+                                }
+                            } else h > 1 && 2 & s && d.push(d.pop().concat(d.shift())), o.push(d.filter(Gw))
+                    }
+                    return d
+                }
+            }
+
+            function Gw(e) {
+                return e.length > 1
+            }
+
+            function Yw(e, t) {
+                return ((e = e.x)[0] < 0 ? e[1] - yw - gw : yw - e[1]) - ((t = t.x)[0] < 0 ? t[1] - yw - gw : yw - t[1])
+            }
+            const Xw = Vw((function() {
+                return !0
+            }), (function(e) {
+                var t, n = NaN,
+                    r = NaN,
+                    i = NaN;
+                return {
+                    lineStart: function() {
+                        e.lineStart(), t = 1
+                    },
+                    point: function(a, o) {
+                        var u = a > 0 ? vw : -vw,
+                            s = Sw(a - n);
+                        Sw(s - vw) < gw ? (e.point(n, r = (r + o) / 2 > 0 ? yw : -yw), e.point(i, r), e.lineEnd(), e.lineStart(), e.point(u, r), e.point(a, r), t = 0) : i !== u && s >= vw && (Sw(n - i) < gw && (n -= i * gw), Sw(a - u) < gw && (a -= u * gw), r = function(e, t, n, r) {
+                            var i, a, o = Mw(e - n);
+                            return Sw(o) > gw ? Ew((Mw(t) * (a = kw(r)) * Mw(n) - Mw(r) * (i = kw(t)) * Mw(e)) / (i * a * o)) : (t + r) / 2
+                        }(n, r, a, o), e.point(i, r), e.lineEnd(), e.lineStart(), e.point(u, r), t = 0), e.point(n = a, r = o), i = u
+                    },
+                    lineEnd: function() {
+                        e.lineEnd(), n = r = NaN
+                    },
+                    clean: function() {
+                        return 2 - t
+                    }
+                }
+            }), (function(e, t, n, r) {
+                var i;
+                if (null == e) i = n * yw, r.point(-vw, i), r.point(0, i), r.point(vw, i), r.point(vw, 0), r.point(vw, -i), r.point(0, -i), r.point(-vw, -i), r.point(-vw, 0), r.point(-vw, i);
+                else if (Sw(e[0] - t[0]) > gw) {
+                    var a = e[0] < t[0] ? vw : -vw;
+                    i = n * a / 2, r.point(-a, i), r.point(0, i), r.point(a, i)
+                } else r.point(t[0], t[1])
+            }), [-vw, -yw]);
+
+            function $w(e, t) {
+                (t = zw(t))[0] -= e, qw(t);
+                var n = function(e) {
+                    return e > 1 ? 0 : e < -1 ? vw : Math.acos(e)
+                }(-t[1]);
+                return ((-t[2] < 0 ? -n : n) + _w - gw) % _w
+            }
+            var Kw = 1e9,
+                Jw = -Kw;
+
+            function Qw(e, t) {
+                function n(n, r) {
+                    return n = e(n, r), t(n[0], n[1])
+                }
+                return e.invert && t.invert && (n.invert = function(n, r) {
+                    return (n = t.invert(n, r)) && e.invert(n[0], n[1])
+                }), n
+            }
+            const Zw = e => e;
+
+            function eS(e, t) {
+                return [Sw(e) > vw ? e + Math.round(-e / _w) * _w : e, t]
+            }
+
+            function tS(e) {
+                return function(t, n) {
+                    return [(t += e) > vw ? t - _w : t < -vw ? t + _w : t, n]
+                }
+            }
+
+            function nS(e) {
+                var t = tS(e);
+                return t.invert = tS(-e), t
+            }
+
+            function rS(e, t) {
+                var n = kw(e),
+                    r = Mw(e),
+                    i = kw(t),
+                    a = Mw(t);
+
+                function o(e, t) {
+                    var o = kw(t),
+                        u = kw(e) * o,
+                        s = Mw(e) * o,
+                        l = Mw(t),
+                        c = l * n + u * r;
+                    return [Aw(s * i - c * a, u * n - l * r), Fw(c * i + s * a)]
+                }
+                return o.invert = function(e, t) {
+                    var o = kw(t),
+                        u = kw(e) * o,
+                        s = Mw(e) * o,
+                        l = Mw(t),
+                        c = l * i - s * a;
+                    return [Aw(s * i + l * a, u * n + c * r), Fw(c * n - u * r)]
+                }, o
+            }
+
+            function iS(e) {
+                return function(t) {
+                    var n = new aS;
+                    for (var r in e) n[r] = e[r];
+                    return n.stream = t, n
+                }
+            }
+
+            function aS() {}
+
+            function oS(e, t) {
+                e && sS.hasOwnProperty(e.type) && sS[e.type](e, t)
+            }
+            eS.invert = eS, aS.prototype = {
+                constructor: aS,
+                point: function(e, t) {
+                    this.stream.point(e, t)
+                },
+                sphere: function() {
+                    this.stream.sphere()
+                },
+                lineStart: function() {
+                    this.stream.lineStart()
+                },
+                lineEnd: function() {
+                    this.stream.lineEnd()
+                },
+                polygonStart: function() {
+                    this.stream.polygonStart()
+                },
+                polygonEnd: function() {
+                    this.stream.polygonEnd()
+                }
+            };
+            var uS = {
+                    Feature: function(e, t) {
+                        oS(e.geometry, t)
+                    },
+                    FeatureCollection: function(e, t) {
+                        for (var n = e.features, r = -1, i = n.length; ++r < i;) oS(n[r].geometry, t)
+                    }
+                },
+                sS = {
+                    Sphere: function(e, t) {
+                        t.sphere()
+                    },
+                    Point: function(e, t) {
+                        e = e.coordinates, t.point(e[0], e[1], e[2])
+                    },
+                    MultiPoint: function(e, t) {
+                        for (var n = e.coordinates, r = -1, i = n.length; ++r < i;) e = n[r], t.point(e[0], e[1], e[2])
+                    },
+                    LineString: function(e, t) {
+                        lS(e.coordinates, t, 0)
+                    },
+                    MultiLineString: function(e, t) {
+                        for (var n = e.coordinates, r = -1, i = n.length; ++r < i;) lS(n[r], t, 0)
+                    },
+                    Polygon: function(e, t) {
+                        cS(e.coordinates, t)
+                    },
+                    MultiPolygon: function(e, t) {
+                        for (var n = e.coordinates, r = -1, i = n.length; ++r < i;) cS(n[r], t)
+                    },
+                    GeometryCollection: function(e, t) {
+                        for (var n = e.geometries, r = -1, i = n.length; ++r < i;) oS(n[r], t)
+                    }
+                };
+
+            function lS(e, t, n) {
+                var r, i = -1,
+                    a = e.length - n;
+                for (t.lineStart(); ++i < a;) r = e[i], t.point(r[0], r[1], r[2]);
+                t.lineEnd()
+            }
+
+            function cS(e, t) {
+                var n = -1,
+                    r = e.length;
+                for (t.polygonStart(); ++n < r;) lS(e[n], t, 1);
+                t.polygonEnd()
+            }
+            var fS = 1 / 0,
+                dS = fS,
+                hS = -fS,
+                pS = hS,
+                gS = {
+                    point: function(e, t) {
+                        e < fS && (fS = e), e > hS && (hS = e), t < dS && (dS = t), t > pS && (pS = t)
+                    },
+                    lineStart: hw,
+                    lineEnd: hw,
+                    polygonStart: hw,
+                    polygonEnd: hw,
+                    result: function() {
+                        var e = [
+                            [fS, dS],
+                            [hS, pS]
+                        ];
+                        return hS = pS = -(dS = fS = 1 / 0), e
+                    }
+                };
+            const mS = gS;
+
+            function vS(e, t, n) {
+                var r = e.clipExtent && e.clipExtent();
+                return e.scale(150).translate([0, 0]), null != r && e.clipExtent(null),
+                    function(e, t) {
+                        e && uS.hasOwnProperty(e.type) ? uS[e.type](e, t) : oS(e, t)
+                    }(n, e.stream(mS)), t(mS.result()), null != r && e.clipExtent(r), e
+            }
+
+            function yS(e, t, n) {
+                return vS(e, (function(n) {
+                    var r = t[1][0] - t[0][0],
+                        i = t[1][1] - t[0][1],
+                        a = Math.min(r / (n[1][0] - n[0][0]), i / (n[1][1] - n[0][1])),
+                        o = +t[0][0] + (r - a * (n[1][0] + n[0][0])) / 2,
+                        u = +t[0][1] + (i - a * (n[1][1] + n[0][1])) / 2;
+                    e.scale(150 * a).translate([o, u])
+                }), n)
+            }
+            var bS = 16,
+                _S = kw(30 * ww);
+
+            function xS(e, t) {
+                return +t ? function(e, t) {
+                    function n(r, i, a, o, u, s, l, c, f, d, h, p, g, m) {
+                        var v = l - r,
+                            y = c - i,
+                            b = v * v + y * y;
+                        if (b > 4 * t && g--) {
+                            var _ = o + d,
+                                x = u + h,
+                                w = s + p,
+                                S = Cw(_ * _ + x * x + w * w),
+                                E = Fw(w /= S),
+                                A = Sw(Sw(w) - 1) < gw || Sw(a - f) < gw ? (a + f) / 2 : Aw(x, _),
+                                k = e(A, E),
+                                M = k[0],
+                                D = k[1],
+                                C = M - r,
+                                F = D - i,
+                                N = y * C - v * F;
+                            (N * N / b > t || Sw((v * C + y * F) / b - .5) > .3 || o * d + u * h + s * p < _S) && (n(r, i, a, o, u, s, M, D, A, _ /= S, x /= S, w, g, m), m.point(M, D), n(M, D, A, _, x, w, l, c, f, d, h, p, g, m))
+                        }
+                    }
+                    return function(t) {
+                        var r, i, a, o, u, s, l, c, f, d, h, p, g = {
+                            point: m,
+                            lineStart: v,
+                            lineEnd: b,
+                            polygonStart: function() {
+                                t.polygonStart(), g.lineStart = _
+                            },
+                            polygonEnd: function() {
+                                t.polygonEnd(), g.lineStart = v
+                            }
+                        };
+
+                        function m(n, r) {
+                            n = e(n, r), t.point(n[0], n[1])
+                        }
+
+                        function v() {
+                            c = NaN, g.point = y, t.lineStart()
+                        }
+
+                        function y(r, i) {
+                            var a = zw([r, i]),
+                                o = e(r, i);
+                            n(c, f, l, d, h, p, c = o[0], f = o[1], l = r, d = a[0], h = a[1], p = a[2], bS, t), t.point(c, f)
+                        }
+
+                        function b() {
+                            g.point = m, t.lineEnd()
+                        }
+
+                        function _() {
+                            v(), g.point = x, g.lineEnd = w
+                        }
+
+                        function x(e, t) {
+                            y(r = e, t), i = c, a = f, o = d, u = h, s = p, g.point = y
+                        }
+
+                        function w() {
+                            n(c, f, l, d, h, p, i, a, r, o, u, s, bS, t), g.lineEnd = b, b()
+                        }
+                        return g
+                    }
+                }(e, t) : function(e) {
+                    return iS({
+                        point: function(t, n) {
+                            t = e(t, n), this.stream.point(t[0], t[1])
+                        }
+                    })
+                }(e)
+            }
+            var wS = iS({
+                point: function(e, t) {
+                    this.stream.point(e * ww, t * ww)
+                }
+            });
+
+            function SS(e, t, n, r, i, a) {
+                if (!a) return function(e, t, n, r, i) {
+                    function a(a, o) {
+                        return [t + e * (a *= r), n - e * (o *= i)]
+                    }
+                    return a.invert = function(a, o) {
+                        return [(a - t) / e * r, (n - o) / e * i]
+                    }, a
+                }(e, t, n, r, i);
+                var o = kw(a),
+                    u = Mw(a),
+                    s = o * e,
+                    l = u * e,
+                    c = o / e,
+                    f = u / e,
+                    d = (u * n - o * t) / e,
+                    h = (u * t + o * n) / e;
+
+                function p(e, a) {
+                    return [s * (e *= r) - l * (a *= i) + t, n - l * e - s * a]
+                }
+                return p.invert = function(e, t) {
+                    return [r * (c * e - f * t + d), i * (h - f * e - c * t)]
+                }, p
+            }
+
+            function ES(e) {
+                return function(e) {
+                    var t, n, r, i, a, o, u, s, l, c, f = 150,
+                        d = 480,
+                        h = 250,
+                        p = 0,
+                        g = 0,
+                        m = 0,
+                        v = 0,
+                        y = 0,
+                        b = 0,
+                        _ = 1,
+                        x = 1,
+                        w = null,
+                        S = Xw,
+                        E = null,
+                        A = Zw,
+                        k = .5;
+
+                    function M(e) {
+                        return s(e[0] * ww, e[1] * ww)
+                    }
+
+                    function D(e) {
+                        return (e = s.invert(e[0], e[1])) && [e[0] * xw, e[1] * xw]
+                    }
+
+                    function C() {
+                        var e = SS(f, 0, 0, _, x, b).apply(null, t(p, g)),
+                            r = SS(f, d - e[0], h - e[1], _, x, b);
+                        return n = function(e, t, n) {
+                            return (e %= _w) ? t || n ? Qw(nS(e), rS(t, n)) : nS(e) : t || n ? rS(t, n) : eS
+                        }(m, v, y), u = Qw(t, r), s = Qw(n, u), o = xS(u, k), F()
+                    }
+
+                    function F() {
+                        return l = c = null, M
+                    }
+                    return M.stream = function(e) {
+                            return l && c === e ? l : l = wS(function(e) {
+                                return iS({
+                                    point: function(t, n) {
+                                        var r = e(t, n);
+                                        return this.stream.point(r[0], r[1])
+                                    }
+                                })
+                            }(n)(S(o(A(c = e)))))
+                        }, M.preclip = function(e) {
+                            return arguments.length ? (S = e, w = void 0, F()) : S
+                        }, M.postclip = function(e) {
+                            return arguments.length ? (A = e, E = r = i = a = null, F()) : A
+                        }, M.clipAngle = function(e) {
+                            return arguments.length ? (S = +e ? function(e) {
+                                var t = kw(e),
+                                    n = 6 * ww,
+                                    r = t > 0,
+                                    i = Sw(t) > gw;
+
+                                function a(e, n) {
+                                    return kw(e) * kw(n) > t
+                                }
+
+                                function o(e, n, r) {
+                                    var i = [1, 0, 0],
+                                        a = jw(zw(e), zw(n)),
+                                        o = Iw(a, a),
+                                        u = a[0],
+                                        s = o - u * u;
+                                    if (!s) return !r && e;
+                                    var l = t * o / s,
+                                        c = -t * u / s,
+                                        f = jw(i, a),
+                                        d = Uw(i, l);
+                                    Bw(d, Uw(a, c));
+                                    var h = f,
+                                        p = Iw(d, h),
+                                        g = Iw(h, h),
+                                        m = p * p - g * (Iw(d, d) - 1);
+                                    if (!(m < 0)) {
+                                        var v = Cw(m),
+                                            y = Uw(h, (-p - v) / g);
+                                        if (Bw(y, d), y = Lw(y), !r) return y;
+                                        var b, _ = e[0],
+                                            x = n[0],
+                                            w = e[1],
+                                            S = n[1];
+                                        x < _ && (b = _, _ = x, x = b);
+                                        var E = x - _,
+                                            A = Sw(E - vw) < gw;
+                                        if (!A && S < w && (b = w, w = S, S = b), A || E < gw ? A ? w + S > 0 ^ y[1] < (Sw(y[0] - _) < gw ? w : S) : w <= y[1] && y[1] <= S : E > vw ^ (_ <= y[0] && y[0] <= x)) {
+                                            var k = Uw(h, (-p + v) / g);
+                                            return Bw(k, d), [y, Lw(k)]
+                                        }
+                                    }
+                                }
+
+                                function u(t, n) {
+                                    var i = r ? e : vw - e,
+                                        a = 0;
+                                    return t < -i ? a |= 1 : t > i && (a |= 2), n < -i ? a |= 4 : n > i && (a |= 8), a
+                                }
+                                return Vw(a, (function(e) {
+                                    var t, n, s, l, c;
+                                    return {
+                                        lineStart: function() {
+                                            l = s = !1, c = 1
+                                        },
+                                        point: function(f, d) {
+                                            var h, p = [f, d],
+                                                g = a(f, d),
+                                                m = r ? g ? 0 : u(f, d) : g ? u(f + (f < 0 ? vw : -vw), d) : 0;
+                                            if (!t && (l = s = g) && e.lineStart(), g !== s && (!(h = o(t, p)) || Nw(t, h) || Nw(p, h)) && (p[2] = 1), g !== s) c = 0, g ? (e.lineStart(), h = o(p, t), e.point(h[0], h[1])) : (h = o(t, p), e.point(h[0], h[1], 2), e.lineEnd()), t = h;
+                                            else if (i && t && r ^ g) {
+                                                var v;
+                                                m & n || !(v = o(p, t, !0)) || (c = 0, r ? (e.lineStart(), e.point(v[0][0], v[0][1]), e.point(v[1][0], v[1][1]), e.lineEnd()) : (e.point(v[1][0], v[1][1]), e.lineEnd(), e.lineStart(), e.point(v[0][0], v[0][1], 3)))
+                                            }!g || t && Nw(t, p) || e.point(p[0], p[1]), t = p, s = g, n = m
+                                        },
+                                        lineEnd: function() {
+                                            s && e.lineEnd(), t = null
+                                        },
+                                        clean: function() {
+                                            return c | (l && s) << 1
+                                        }
+                                    }
+                                }), (function(t, r, i, a) {
+                                    ! function(e, t, n, r, i, a) {
+                                        if (n) {
+                                            var o = kw(t),
+                                                u = Mw(t),
+                                                s = r * n;
+                                            null == i ? (i = t + r * _w, a = t - s / 2) : (i = $w(o, i), a = $w(o, a), (r > 0 ? i < a : i > a) && (i += r * _w));
+                                            for (var l, c = i; r > 0 ? c > a : c < a; c -= s) l = Lw([o, -u * kw(c), -u * Mw(c)]), e.point(l[0], l[1])
+                                        }
+                                    }(a, e, n, i, t, r)
+                                }), r ? [0, -e] : [-vw, e - vw])
+                            }(w = e * ww) : (w = null, Xw), F()) : w * xw
+                        }, M.clipExtent = function(e) {
+                            return arguments.length ? (A = null == e ? (E = r = i = a = null, Zw) : function(e, t, n, r) {
+                                function i(i, a) {
+                                    return e <= i && i <= n && t <= a && a <= r
+                                }
+
+                                function a(i, a, u, l) {
+                                    var c = 0,
+                                        f = 0;
+                                    if (null == i || (c = o(i, u)) !== (f = o(a, u)) || s(i, a) < 0 ^ u > 0)
+                                        do {
+                                            l.point(0 === c || 3 === c ? e : n, c > 1 ? r : t)
+                                        } while ((c = (c + u + 4) % 4) !== f);
+                                    else l.point(a[0], a[1])
+                                }
+
+                                function o(r, i) {
+                                    return Sw(r[0] - e) < gw ? i > 0 ? 0 : 3 : Sw(r[0] - n) < gw ? i > 0 ? 2 : 1 : Sw(r[1] - t) < gw ? i > 0 ? 1 : 0 : i > 0 ? 3 : 2
+                                }
+
+                                function u(e, t) {
+                                    return s(e.x, t.x)
+                                }
+
+                                function s(e, t) {
+                                    var n = o(e, 1),
+                                        r = o(t, 1);
+                                    return n !== r ? n - r : 0 === n ? t[1] - e[1] : 1 === n ? e[0] - t[0] : 2 === n ? e[1] - t[1] : t[0] - e[0]
+                                }
+                                return function(o) {
+                                    var s, l, c, f, d, h, p, g, m, v, y, b = o,
+                                        _ = pw(),
+                                        x = {
+                                            point: w,
+                                            lineStart: function() {
+                                                x.point = S, l && l.push(c = []), v = !0, m = !1, p = g = NaN
+                                            },
+                                            lineEnd: function() {
+                                                s && (S(f, d), h && m && _.rejoin(), s.push(_.result())), x.point = w, m && b.lineEnd()
+                                            },
+                                            polygonStart: function() {
+                                                b = _, s = [], l = [], y = !0
+                                            },
+                                            polygonEnd: function() {
+                                                var t = function() {
+                                                        for (var t = 0, n = 0, i = l.length; n < i; ++n)
+                                                            for (var a, o, u = l[n], s = 1, c = u.length, f = u[0], d = f[0], h = f[1]; s < c; ++s) a = d, o = h, d = (f = u[s])[0], h = f[1], o <= r ? h > r && (d - a) * (r - o) > (h - o) * (e - a) && ++t : h <= r && (d - a) * (r - o) < (h - o) * (e - a) && --t;
+                                                        return t
+                                                    }(),
+                                                    n = y && t,
+                                                    i = (s = Ww(s)).length;
+                                                (n || i) && (o.polygonStart(), n && (o.lineStart(), a(null, null, 1, o), o.lineEnd()), i && Tw(s, u, t, a, o), o.polygonEnd()), b = o, s = l = c = null
+                                            }
+                                        };
+
+                                    function w(e, t) {
+                                        i(e, t) && b.point(e, t)
+                                    }
+
+                                    function S(a, o) {
+                                        var u = i(a, o);
+                                        if (l && c.push([a, o]), v) f = a, d = o, h = u, v = !1, u && (b.lineStart(), b.point(a, o));
+                                        else if (u && m) b.point(a, o);
+                                        else {
+                                            var s = [p = Math.max(Jw, Math.min(Kw, p)), g = Math.max(Jw, Math.min(Kw, g))],
+                                                _ = [a = Math.max(Jw, Math.min(Kw, a)), o = Math.max(Jw, Math.min(Kw, o))];
+                                            ! function(e, t, n, r, i, a) {
+                                                var o, u = e[0],
+                                                    s = e[1],
+                                                    l = 0,
+                                                    c = 1,
+                                                    f = t[0] - u,
+                                                    d = t[1] - s;
+                                                if (o = n - u, f || !(o > 0)) {
+                                                    if (o /= f, f < 0) {
+                                                        if (o < l) return;
+                                                        o < c && (c = o)
+                                                    } else if (f > 0) {
+                                                        if (o > c) return;
+                                                        o > l && (l = o)
+                                                    }
+                                                    if (o = i - u, f || !(o < 0)) {
+                                                        if (o /= f, f < 0) {
+                                                            if (o > c) return;
+                                                            o > l && (l = o)
+                                                        } else if (f > 0) {
+                                                            if (o < l) return;
+                                                            o < c && (c = o)
+                                                        }
+                                                        if (o = r - s, d || !(o > 0)) {
+                                                            if (o /= d, d < 0) {
+                                                                if (o < l) return;
+                                                                o < c && (c = o)
+                                                            } else if (d > 0) {
+                                                                if (o > c) return;
+                                                                o > l && (l = o)
+                                                            }
+                                                            if (o = a - s, d || !(o < 0)) {
+                                                                if (o /= d, d < 0) {
+                                                                    if (o > c) return;
+                                                                    o > l && (l = o)
+                                                                } else if (d > 0) {
+                                                                    if (o < l) return;
+                                                                    o < c && (c = o)
+                                                                }
+                                                                return l > 0 && (e[0] = u + l * f, e[1] = s + l * d), c < 1 && (t[0] = u + c * f, t[1] = s + c * d), !0
+                                                            }
+                                                        }
+                                                    }
+                                                }
+                                            }(s, _, e, t, n, r) ? u && (b.lineStart(), b.point(a, o), y = !1): (m || (b.lineStart(), b.point(s[0], s[1])), b.point(_[0], _[1]), u || b.lineEnd(), y = !1)
+                                        }
+                                        p = a, g = o, m = u
+                                    }
+                                    return x
+                                }
+                            }(E = +e[0][0], r = +e[0][1], i = +e[1][0], a = +e[1][1]), F()) : null == E ? null : [
+                                [E, r],
+                                [i, a]
+                            ]
+                        }, M.scale = function(e) {
+                            return arguments.length ? (f = +e, C()) : f
+                        }, M.translate = function(e) {
+                            return arguments.length ? (d = +e[0], h = +e[1], C()) : [d, h]
+                        }, M.center = function(e) {
+                            return arguments.length ? (p = e[0] % 360 * ww, g = e[1] % 360 * ww, C()) : [p * xw, g * xw]
+                        }, M.rotate = function(e) {
+                            return arguments.length ? (m = e[0] % 360 * ww, v = e[1] % 360 * ww, y = e.length > 2 ? e[2] % 360 * ww : 0, C()) : [m * xw, v * xw, y * xw]
+                        }, M.angle = function(e) {
+                            return arguments.length ? (b = e % 360 * ww, C()) : b * xw
+                        }, M.reflectX = function(e) {
+                            return arguments.length ? (_ = e ? -1 : 1, C()) : _ < 0
+                        }, M.reflectY = function(e) {
+                            return arguments.length ? (x = e ? -1 : 1, C()) : x < 0
+                        }, M.precision = function(e) {
+                            return arguments.length ? (o = xS(u, k = e * e), F()) : Cw(k)
+                        }, M.fitExtent = function(e, t) {
+                            return yS(M, e, t)
+                        }, M.fitSize = function(e, t) {
+                            return function(e, t, n) {
+                                return yS(e, [
+                                    [0, 0], t
+                                ], n)
+                            }(M, e, t)
+                        }, M.fitWidth = function(e, t) {
+                            return function(e, t, n) {
+                                return vS(e, (function(n) {
+                                    var r = +t,
+                                        i = r / (n[1][0] - n[0][0]),
+                                        a = (r - i * (n[1][0] + n[0][0])) / 2,
+                                        o = -i * n[0][1];
+                                    e.scale(150 * i).translate([a, o])
+                                }), n)
+                            }(M, e, t)
+                        }, M.fitHeight = function(e, t) {
+                            return function(e, t, n) {
+                                return vS(e, (function(n) {
+                                    var r = +t,
+                                        i = r / (n[1][1] - n[0][1]),
+                                        a = -i * n[0][0],
+                                        o = (r - i * (n[1][1] + n[0][1])) / 2;
+                                    e.scale(150 * i).translate([a, o])
+                                }), n)
+                            }(M, e, t)
+                        },
+                        function() {
+                            return t = e.apply(this, arguments), M.invert = t.invert && D, C()
+                        }
+                }((function() {
+                    return e
+                }))()
+            }
+            var AS = Math.abs,
+                kS = (Math.atan, Math.atan2, Math.ceil, Math.cos),
+                MS = (Math.exp, Math.floor, Math.log, Math.max, Math.min, Math.pow, Math.round, Math.sign, Math.sin),
+                DS = (Math.tan, 1e-6),
+                CS = Math.PI,
+                FS = CS / 2,
+                NS = (Math.SQRT1_2, TS(2));
+
+            function OS(e) {
+                return e > 1 ? FS : e < -1 ? -FS : Math.asin(e)
+            }
+
+            function TS(e) {
                 return e > 0 ? Math.sqrt(e) : 0
             }
 
-            function GS(e, t) {
-                var n, r = e * BS(t),
+            function PS(e, t) {
+                var n, r = e * MS(t),
                     i = 30;
                 do {
-                    t -= n = (t + BS(t) - r) / (1 + jS(t))
-                } while (US(n) > 1e-6 && --i > 0);
+                    t -= n = (t + MS(t) - r) / (1 + kS(t))
+                } while (AS(n) > DS && --i > 0);
                 return t / 2
             }
-            VS(qS);
-            var XS = function(e, t, n) {
+            TS(CS);
+            var RS = function(e, t, n) {
                 function r(r, i) {
-                    return [e * r * jS(i = GS(n, i)), t * BS(i)]
+                    return [e * r * kS(i = PS(n, i)), t * MS(i)]
                 }
                 return r.invert = function(r, i) {
-                    return i = YS(i / t), [r / (e * jS(i)), YS((2 * i + BS(2 * i)) / n)]
+                    return i = OS(i / t), [r / (e * kS(i)), OS((2 * i + MS(2 * i)) / n)]
                 }, r
-            }(WS / HS, WS, qS);
-            const $S = Aw(),
-                KS = ["clipAngle", "clipExtent", "scale", "translate", "center", "rotate", "parallels", "precision", "reflectX", "reflectY", "coefficient", "distance", "fraction", "lobes", "parallel", "radius", "ratio", "spacing", "tilt"];
-
-            function JS(e, t) {
-                return function n() {
-                    const r = t();
-                    return r.type = e, r.path = Aw().projection(r), r.copy = r.copy || function() {
-                        const e = n();
-                        return KS.forEach((t => {
-                            r[t] && e[t](r[t]())
-                        })), e.path.pointRadius(r.path.pointRadius()), e
-                    }, r
-                }
-            }
+            }(NS / FS, NS, CS);
+            const LS = Z_(),
+                zS = ["clipAngle", "clipExtent", "scale", "translate", "center", "rotate", "parallels", "precision", "reflectX", "reflectY", "coefficient", "distance", "fraction", "lobes", "parallel", "radius", "ratio", "spacing", "tilt"];
 
-            function QS(e, t) {
+            function IS(e, t) {
                 if (!e || "string" != typeof e) throw new Error("Projection type must be a name string.");
-                return e = e.toLowerCase(), arguments.length > 1 ? (eE[e] = JS(e, t), this) : eE[e] || null
+                return e = e.toLowerCase(), arguments.length > 1 ? (BS[e] = function(e, t) {
+                    return function n() {
+                        const r = t();
+                        return r.type = e, r.path = Z_().projection(r), r.copy = r.copy || function() {
+                            const e = n();
+                            return zS.forEach((t => {
+                                r[t] && e[t](r[t]())
+                            })), e.path.pointRadius(r.path.pointRadius()), e
+                        }, r
+                    }
+                }(e, t), this) : BS[e] || null
             }
 
-            function ZS(e) {
-                return e && e.path || $S
+            function jS(e) {
+                return e && e.path || LS
             }
-            const eE = {
-                albers: vS,
+            const BS = {
+                albers: Vx,
                 albersusa: function() {
-                    var e, t, n, r, i, a, o = vS(),
-                        u = mS().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]),
-                        s = mS().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]),
+                    var e, t, n, r, i, a, o = Vx(),
+                        u = Wx().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]),
+                        s = Wx().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]),
                         l = {
                             point: function(e, t) {
                                 a = [e, t]
                             }
                         };
 
                     function c(e) {
@@ -14791,69 +15159,69 @@
                         var t = o.scale(),
                             a = +e[0],
                             c = +e[1];
                         return n = o.translate(e).clipExtent([
                             [a - .455 * t, c - .238 * t],
                             [a + .455 * t, c + .238 * t]
                         ]).stream(l), r = u.translate([a - .307 * t, c + .201 * t]).clipExtent([
-                            [a - .425 * t + rx, c + .12 * t + rx],
-                            [a - .214 * t - rx, c + .234 * t - rx]
+                            [a - .425 * t + Fb, c + .12 * t + Fb],
+                            [a - .214 * t - Fb, c + .234 * t - Fb]
                         ]).stream(l), i = s.translate([a - .205 * t, c + .212 * t]).clipExtent([
-                            [a - .214 * t + rx, c + .166 * t + rx],
-                            [a - .115 * t - rx, c + .234 * t - rx]
+                            [a - .214 * t + Fb, c + .166 * t + Fb],
+                            [a - .115 * t - Fb, c + .234 * t - Fb]
                         ]).stream(l), f()
                     }, c.fitExtent = function(e, t) {
-                        return iS(c, e, t)
+                        return Nx(c, e, t)
                     }, c.fitSize = function(e, t) {
-                        return aS(c, e, t)
+                        return Ox(c, e, t)
                     }, c.fitWidth = function(e, t) {
-                        return oS(c, e, t)
+                        return Tx(c, e, t)
                     }, c.fitHeight = function(e, t) {
-                        return uS(c, e, t)
+                        return Px(c, e, t)
                     }, c.scale(1070)
                 },
                 azimuthalequalarea: function() {
-                    return dS(_S).scale(124.75).clipAngle(179.999)
+                    return Bx(Xx).scale(124.75).clipAngle(179.999)
                 },
                 azimuthalequidistant: function() {
-                    return dS(xS).scale(79.4188).clipAngle(179.999)
+                    return Bx($x).scale(79.4188).clipAngle(179.999)
                 },
                 conicconformal: function() {
-                    return pS(AS).scale(109.5).parallels([30, 30])
+                    return qx(Zx).scale(109.5).parallels([30, 30])
                 },
-                conicequalarea: mS,
+                conicequalarea: Wx,
                 conicequidistant: function() {
-                    return pS(MS).scale(131.154).center([0, 13.9389])
+                    return qx(tw).scale(131.154).center([0, 13.9389])
                 },
                 equalEarth: function() {
-                    return dS(OS).scale(177.158)
+                    return Bx(uw).scale(177.158)
                 },
                 equirectangular: function() {
-                    return dS(kS).scale(152.63)
+                    return Bx(ew).scale(152.63)
                 },
                 gnomonic: function() {
-                    return dS(PS).scale(144.049).clipAngle(60)
+                    return Bx(sw).scale(144.049).clipAngle(60)
                 },
                 identity: function() {
                     var e, t, n, r, i, a, o, u = 1,
                         s = 0,
                         l = 0,
                         c = 1,
                         f = 1,
                         d = 0,
                         h = null,
                         p = 1,
                         g = 1,
-                        m = tS({
+                        m = Dx({
                             point: function(e, t) {
                                 var n = b([e, t]);
                                 this.stream.point(n[0], n[1])
                             }
                         }),
-                        v = $_;
+                        v = wb;
 
                     function y() {
                         return p = u * c, g = u * f, a = o = null, b
                     }
 
                     function b(n) {
                         var r = n[0] * p,
@@ -14873,82 +15241,78 @@
                         }
                         return [r / p, i / g]
                     }, b.stream = function(e) {
                         return a && o === e ? a : a = m(v(o = e))
                     }, b.postclip = function(e) {
                         return arguments.length ? (v = e, h = n = r = i = null, y()) : v
                     }, b.clipExtent = function(e) {
-                        return arguments.length ? (v = null == e ? (h = n = r = i = null, $_) : Xw(h = +e[0][0], n = +e[0][1], r = +e[1][0], i = +e[1][1]), y()) : null == h ? null : [
+                        return arguments.length ? (v = null == e ? (h = n = r = i = null, wb) : xx(h = +e[0][0], n = +e[0][1], r = +e[1][0], i = +e[1][1]), y()) : null == h ? null : [
                             [h, n],
                             [r, i]
                         ]
                     }, b.scale = function(e) {
                         return arguments.length ? (u = +e, y()) : u
                     }, b.translate = function(e) {
                         return arguments.length ? (s = +e[0], l = +e[1], y()) : [s, l]
                     }, b.angle = function(n) {
-                        return arguments.length ? (t = vx(d = n % 360 * lx), e = hx(d), y()) : d * sx
+                        return arguments.length ? (t = Vb(d = n % 360 * zb), e = Ub(d), y()) : d * Lb
                     }, b.reflectX = function(e) {
                         return arguments.length ? (c = e ? -1 : 1, y()) : c < 0
                     }, b.reflectY = function(e) {
                         return arguments.length ? (f = e ? -1 : 1, y()) : f < 0
                     }, b.fitExtent = function(e, t) {
-                        return iS(b, e, t)
+                        return Nx(b, e, t)
                     }, b.fitSize = function(e, t) {
-                        return aS(b, e, t)
+                        return Ox(b, e, t)
                     }, b.fitWidth = function(e, t) {
-                        return oS(b, e, t)
+                        return Tx(b, e, t)
                     }, b.fitHeight = function(e, t) {
-                        return uS(b, e, t)
+                        return Px(b, e, t)
                     }, b
                 },
                 mercator: function() {
-                    return SS(wS).scale(961 / ux)
+                    return Jx(Kx).scale(961 / Rb)
                 },
                 mollweide: function() {
-                    return dS(XS).scale(169.529)
+                    return ES(RS).scale(169.529)
                 },
                 naturalEarth1: function() {
-                    return dS(RS).scale(175.295)
+                    return Bx(lw).scale(175.295)
                 },
                 orthographic: function() {
-                    return dS(LS).scale(249.5).clipAngle(90.000001)
+                    return Bx(cw).scale(249.5).clipAngle(90 + Fb)
                 },
                 stereographic: function() {
-                    return dS(zS).scale(250).clipAngle(142)
+                    return Bx(fw).scale(250).clipAngle(142)
                 },
                 transversemercator: function() {
-                    var e = SS(IS),
+                    var e = Jx(dw),
                         t = e.center,
                         n = e.rotate;
                     return e.center = function(e) {
                         return arguments.length ? t([-e[1], e[0]]) : [(e = t())[1], -e[0]]
                     }, e.rotate = function(e) {
                         return arguments.length ? n([e[0], e[1], e.length > 2 ? e[2] + 90 : 90]) : [(e = n())[0], e[1], e[2] - 90]
                     }, n([0, 0, 90]).scale(159.155)
                 }
             };
-            for (const e in eE) QS(e, eE[e]);
+            for (const e in BS) IS(e, BS[e]);
 
-            function tE(e) {
-                Di.call(this, null, e)
+            function US(e) {
+                Ci.call(this, null, e)
             }
 
-            function nE(e) {
-                Di.call(this, null, e)
+            function qS(e) {
+                Ci.call(this, null, e)
             }
 
-            function rE(e) {
-                Di.call(this, null, e)
+            function HS(e) {
+                Ci.call(this, null, e)
             }
-
-            function iE(e, t) {
-                return e < t ? -1 : e > t ? 1 : e >= t ? 0 : NaN
-            }
-            tE.Definition = {
+            US.Definition = {
                 type: "GeoPath",
                 metadata: {
                     modifies: !0
                 },
                 params: [{
                     name: "projection",
                     type: "projection"
@@ -14960,29 +15324,29 @@
                     type: "number",
                     expr: !0
                 }, {
                     name: "as",
                     type: "string",
                     default: "path"
                 }]
-            }, (0, ke.inherits)(tE, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(US, Ci).transform = function(e, t) {
                 var n = t.fork(t.ALL),
                     r = this.value,
-                    i = e.field || ke.identity,
+                    i = e.field || Ee.identity,
                     a = e.as || "path",
                     o = n.SOURCE;
-                !r || e.modified() ? (this.value = r = ZS(e.projection), n.materialize().reflow()) : o = i === ke.identity || t.modified(i.fields) ? n.ADD_MOD : n.ADD;
+                !r || e.modified() ? (this.value = r = jS(e.projection), n.materialize().reflow()) : o = i === Ee.identity || t.modified(i.fields) ? n.ADD_MOD : n.ADD;
                 var u = function(e, t) {
                     var n = e.pointRadius();
                     return e.context(null), null != t && e.pointRadius(t), n
                 }(r, e.pointRadius);
                 return n.visit(o, (function(e) {
                     e[a] = r(i(e))
                 })), r.pointRadius(u), n.modifies(a)
-            }, nE.Definition = {
+            }, qS.Definition = {
                 type: "GeoPoint",
                 metadata: {
                     modifies: !0
                 },
                 params: [{
                     name: "projection",
                     type: "projection",
@@ -14996,28 +15360,28 @@
                 }, {
                     name: "as",
                     type: "string",
                     array: !0,
                     length: 2,
                     default: ["x", "y"]
                 }]
-            }, (0, ke.inherits)(nE, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(qS, Ci).transform = function(e, t) {
                 var n, r = e.projection,
                     i = e.fields[0],
                     a = e.fields[1],
                     o = e.as || ["x", "y"],
                     u = o[0],
                     s = o[1];
 
                 function l(e) {
                     var t = r([i(e), a(e)]);
                     t ? (e[u] = t[0], e[s] = t[1]) : (e[u] = void 0, e[s] = void 0)
                 }
                 return e.modified() ? t = t.materialize().reflow(!0).visit(t.SOURCE, l) : (n = t.modified(i.fields) || t.modified(a.fields), t.visit(n ? t.ADD_MOD : t.ADD, l)), t.modifies(o)
-            }, rE.Definition = {
+            }, HS.Definition = {
                 type: "GeoShape",
                 metadata: {
                     modifies: !0
                 },
                 params: [{
                     name: "projection",
                     type: "projection"
@@ -15030,121 +15394,91 @@
                     type: "number",
                     expr: !0
                 }, {
                     name: "as",
                     type: "string",
                     default: "shape"
                 }]
-            }, (0, ke.inherits)(rE, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(HS, Ci).transform = function(e, t) {
                 var n = t.fork(t.ALL),
                     r = this.value,
-                    i = e.field || (0, ke.field)("datum"),
+                    i = e.field || (0, Ee.field)("datum"),
                     a = e.as || "shape",
                     o = n.ADD_MOD;
                 return r && !e.modified() || (this.value = r = function(e, t, n) {
                     var r = null == n ? function(n) {
                         return e(t(n))
                     } : function(r) {
                         var i = e.pointRadius(),
                             a = e.pointRadius(n)(t(r));
                         return e.pointRadius(i), a
                     };
                     return r.context = function(t) {
                         return e.context(t), r
                     }, r
-                }(ZS(e.projection), i, e.pointRadius), n.materialize().reflow(), o = n.SOURCE), n.visit(o, (function(e) {
+                }(jS(e.projection), i, e.pointRadius), n.materialize().reflow(), o = n.SOURCE), n.visit(o, (function(e) {
                     e[a] = r
                 })), n.modifies(a)
             };
-            var aE = function(e) {
-                var t;
-                return 1 === e.length && (t = e, e = function(e, n) {
-                    return iE(t(e), n)
-                }), {
-                    left: function(t, n, r, i) {
-                        for (null == r && (r = 0), null == i && (i = t.length); r < i;) {
-                            var a = r + i >>> 1;
-                            e(t[a], n) < 0 ? r = a + 1 : i = a
-                        }
-                        return r
-                    },
-                    right: function(t, n, r, i) {
-                        for (null == r && (r = 0), null == i && (i = t.length); r < i;) {
-                            var a = r + i >>> 1;
-                            e(t[a], n) > 0 ? i = a : r = a + 1
-                        }
-                        return r
-                    }
-                }
-            }(iE);
-            aE.right, aE.left;
-            var oE = Array.prototype;
-
-            function uE(e, t, n) {
-                e = +e, t = +t, n = (i = arguments.length) < 2 ? (t = e, e = 0, 1) : i < 3 ? 1 : +n;
-                for (var r = -1, i = 0 | Math.max(0, Math.ceil((t - e) / n)), a = new Array(i); ++r < i;) a[r] = e + r * n;
-                return a
-            }
-            oE.slice, oE.map, Math.sqrt(50), Math.sqrt(10), Math.sqrt(2);
-            var sE = 1e-6,
-                lE = Math.PI,
-                cE = lE / 2,
-                fE = lE / 4,
-                dE = 2 * lE,
-                hE = 180 / lE,
-                pE = lE / 180,
-                gE = Math.abs,
-                mE = (Math.atan, Math.atan2),
-                vE = Math.cos,
-                yE = Math.ceil,
-                bE = (Math.exp, Math.floor, Math.log, Math.pow, Math.sin),
-                _E = (Math.sign, Math.sqrt);
+            var WS = 1e-6,
+                VS = Math.PI,
+                GS = VS / 2,
+                YS = VS / 4,
+                XS = 2 * VS,
+                $S = 180 / VS,
+                KS = VS / 180,
+                JS = Math.abs,
+                QS = (Math.atan, Math.atan2),
+                ZS = Math.cos,
+                eE = Math.ceil,
+                tE = (Math.exp, Math.floor, Math.log, Math.pow, Math.sin),
+                nE = (Math.sign, Math.sqrt);
 
-            function xE(e) {
-                return e > 1 ? cE : e < -1 ? -cE : Math.asin(e)
+            function rE(e) {
+                return e > 1 ? GS : e < -1 ? -GS : Math.asin(e)
             }
 
-            function wE(e, t, n) {
-                var r = uE(e, t - sE, n).concat(t);
+            function iE(e, t, n) {
+                var r = Mo(e, t - WS, n).concat(t);
                 return function(e) {
                     return r.map((function(t) {
                         return [e, t]
                     }))
                 }
             }
 
-            function SE(e, t, n) {
-                var r = uE(e, t - sE, n).concat(t);
+            function aE(e, t, n) {
+                var r = Mo(e, t - WS, n).concat(t);
                 return function(e) {
                     return r.map((function(t) {
                         return [t, e]
                     }))
                 }
             }
 
-            function EE(e) {
-                Di.call(this, [], e), this.generator = function() {
+            function oE(e) {
+                Ci.call(this, [], e), this.generator = function() {
                     var e, t, n, r, i, a, o, u, s, l, c, f, d = 10,
                         h = d,
                         p = 90,
                         g = 360,
                         m = 2.5;
 
                     function v() {
                         return {
                             type: "MultiLineString",
                             coordinates: y()
                         }
                     }
 
                     function y() {
-                        return uE(yE(r / p) * p, n, p).map(c).concat(uE(yE(u / g) * g, o, g).map(f)).concat(uE(yE(t / d) * d, e, d).filter((function(e) {
-                            return gE(e % p) > sE
-                        })).map(s)).concat(uE(yE(a / h) * h, i, h).filter((function(e) {
-                            return gE(e % g) > sE
+                        return Mo(eE(r / p) * p, n, p).map(c).concat(Mo(eE(u / g) * g, o, g).map(f)).concat(Mo(eE(t / d) * d, e, d).filter((function(e) {
+                            return JS(e % p) > WS
+                        })).map(s)).concat(Mo(eE(a / h) * h, i, h).filter((function(e) {
+                            return JS(e % g) > WS
                         })).map(l))
                     }
                     return v.lines = function() {
                         return y().map((function(e) {
                             return {
                                 type: "LineString",
                                 coordinates: e
@@ -15170,44 +15504,44 @@
                     }, v.step = function(e) {
                         return arguments.length ? v.stepMajor(e).stepMinor(e) : v.stepMinor()
                     }, v.stepMajor = function(e) {
                         return arguments.length ? (p = +e[0], g = +e[1], v) : [p, g]
                     }, v.stepMinor = function(e) {
                         return arguments.length ? (d = +e[0], h = +e[1], v) : [d, h]
                     }, v.precision = function(d) {
-                        return arguments.length ? (m = +d, s = wE(a, i, 90), l = SE(t, e, m), c = wE(u, o, 90), f = SE(r, n, m), v) : m
+                        return arguments.length ? (m = +d, s = iE(a, i, 90), l = aE(t, e, m), c = iE(u, o, 90), f = aE(r, n, m), v) : m
                     }, v.extentMajor([
-                        [-180, -89.999999],
-                        [180, 89.999999]
+                        [-180, -90 + WS],
+                        [180, 90 - WS]
                     ]).extentMinor([
-                        [-180, -80.000001],
-                        [180, 80.000001]
+                        [-180, -80 - WS],
+                        [180, 80 + WS]
                     ])
                 }()
             }
 
-            function AE(e) {
-                Di.call(this, null, e), this.modified(!0)
+            function uE(e) {
+                Ci.call(this, null, e), this.modified(!0)
             }
 
-            function kE(e, t, n) {
-                (0, ke.isFunction)(e[t]) && e[t](n)
+            function sE(e, t, n) {
+                (0, Ee.isFunction)(e[t]) && e[t](n)
             }
 
-            function ME(e) {
+            function lE(e) {
                 return function() {
                     return e
                 }
             }
 
-            function DE() {
+            function cE() {
                 return 1e-6 * (Math.random() - .5)
             }
 
-            function CE(e, t, n, r) {
+            function fE(e, t, n, r) {
                 if (isNaN(t) || isNaN(n)) return e;
                 var i, a, o, u, s, l, c, f, d, h = e._root,
                     p = {
                         data: r
                     },
                     g = e._x0,
                     m = e._y0,
@@ -15219,44 +15553,44 @@
                 if (u = +e._x.call(null, h.data), s = +e._y.call(null, h.data), t === u && n === s) return p.next = h, i ? i[f] = p : e._root = p, e;
                 do {
                     i = i ? i[f] = new Array(4) : e._root = new Array(4), (l = t >= (a = (g + v) / 2)) ? g = a : v = a, (c = n >= (o = (m + y) / 2)) ? m = o : y = o
                 } while ((f = c << 1 | l) == (d = (s >= o) << 1 | u >= a));
                 return i[d] = h, i[f] = p, e
             }
 
-            function FE(e, t, n, r, i) {
+            function dE(e, t, n, r, i) {
                 this.node = e, this.x0 = t, this.y0 = n, this.x1 = r, this.y1 = i
             }
 
-            function NE(e) {
+            function hE(e) {
                 return e[0]
             }
 
-            function TE(e) {
+            function pE(e) {
                 return e[1]
             }
 
-            function OE(e, t, n) {
-                var r = new PE(null == t ? NE : t, null == n ? TE : n, NaN, NaN, NaN, NaN);
+            function gE(e, t, n) {
+                var r = new mE(null == t ? hE : t, null == n ? pE : n, NaN, NaN, NaN, NaN);
                 return null == e ? r : r.addAll(e)
             }
 
-            function PE(e, t, n, r, i, a) {
+            function mE(e, t, n, r, i, a) {
                 this._x = e, this._y = t, this._x0 = n, this._y0 = r, this._x1 = i, this._y1 = a, this._root = void 0
             }
 
-            function RE(e) {
+            function vE(e) {
                 for (var t = {
                         data: e.data
                     }, n = t; e = e.next;) n = n.next = {
                     data: e.data
                 };
                 return t
             }
-            Math.tan, EE.Definition = {
+            Math.tan, oE.Definition = {
                 type: "Graticule",
                 metadata: {
                     changes: !0
                 },
                 params: [{
                     name: "extent",
                     type: "array",
@@ -15305,89 +15639,89 @@
                     length: 2,
                     default: [10, 10]
                 }, {
                     name: "precision",
                     type: "number",
                     default: 2.5
                 }]
-            }, (0, ke.inherits)(EE, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(oE, Ci).transform = function(e, t) {
                 var n, r = this.value,
                     i = this.generator;
                 if (!r.length || e.modified())
-                    for (var a in e)(0, ke.isFunction)(i[a]) && i[a](e[a]);
-                return n = i(), r.length ? t.mod.push(Le(r[0], n)) : t.add.push(Oe(n)), r[0] = n, t
-            }, (0, ke.inherits)(AE, Di).transform = function(e, t) {
+                    for (var a in e)(0, Ee.isFunction)(i[a]) && i[a](e[a]);
+                return n = i(), r.length ? t.mod.push(Pe(r[0], n)) : t.add.push(Ne(n)), r[0] = n, t
+            }, (0, Ee.inherits)(uE, Ci).transform = function(e, t) {
                 var n = this.value;
                 return !n || e.modified("type") ? (this.value = n = function(e) {
-                    var t = QS((e || "mercator").toLowerCase());
-                    return t || (0, ke.error)("Unrecognized projection type: " + e), t()
-                }(e.type), KS.forEach((function(t) {
-                    null != e[t] && kE(n, t, e[t])
-                }))) : KS.forEach((function(t) {
-                    e.modified(t) && kE(n, t, e[t])
+                    var t = IS((e || "mercator").toLowerCase());
+                    return t || (0, Ee.error)("Unrecognized projection type: " + e), t()
+                }(e.type), zS.forEach((function(t) {
+                    null != e[t] && sE(n, t, e[t])
+                }))) : zS.forEach((function(t) {
+                    e.modified(t) && sE(n, t, e[t])
                 })), null != e.pointRadius && n.path.pointRadius(e.pointRadius), e.fit && function(e, t) {
-                    var n, r = (n = t.fit, 1 === (n = (0, ke.array)(n)).length ? n[0] : {
-                        type: G_,
+                    var n, r = (n = t.fit, 1 === (n = (0, Ee.array)(n)).length ? n[0] : {
+                        type: _b,
                         features: n.reduce((function(e, t) {
-                            return t && t.type === G_ ? e.push.apply(e, t.features) : (0, ke.isArray)(t) ? e.push.apply(e, t) : e.push(t), e
+                            return t && t.type === _b ? e.push.apply(e, t.features) : (0, Ee.isArray)(t) ? e.push.apply(e, t) : e.push(t), e
                         }), [])
                     });
                     t.extent ? e.fitExtent(t.extent, r) : t.size && e.fitSize(t.size, r)
                 }(n, e), t.fork(t.NO_SOURCE | t.NO_FIELDS)
             };
-            var LE = OE.prototype = PE.prototype;
+            var yE = gE.prototype = mE.prototype;
 
-            function zE(e) {
+            function bE(e) {
                 return e.x + e.vx
             }
 
-            function IE(e) {
+            function _E(e) {
                 return e.y + e.vy
             }
 
-            function UE(e) {
+            function xE(e) {
                 return e.index
             }
 
-            function jE(e, t) {
+            function wE(e, t) {
                 var n = e.get(t);
                 if (!n) throw new Error("missing: " + t);
                 return n
             }
-            LE.copy = function() {
-                var e, t, n = new PE(this._x, this._y, this._x0, this._y0, this._x1, this._y1),
+            yE.copy = function() {
+                var e, t, n = new mE(this._x, this._y, this._x0, this._y0, this._x1, this._y1),
                     r = this._root;
                 if (!r) return n;
-                if (!r.length) return n._root = RE(r), n;
+                if (!r.length) return n._root = vE(r), n;
                 for (e = [{
                         source: r,
                         target: n._root = new Array(4)
                     }]; r = e.pop();)
                     for (var i = 0; i < 4; ++i)(t = r.source[i]) && (t.length ? e.push({
                         source: t,
                         target: r.target[i] = new Array(4)
-                    }) : r.target[i] = RE(t));
+                    }) : r.target[i] = vE(t));
                 return n
-            }, LE.add = function(e) {
+            }, yE.add = function(e) {
                 var t = +this._x.call(null, e),
                     n = +this._y.call(null, e);
-                return CE(this.cover(t, n), t, n, e)
-            }, LE.addAll = function(e) {
+                return fE(this.cover(t, n), t, n, e)
+            }, yE.addAll = function(e) {
                 var t, n, r, i, a = e.length,
                     o = new Array(a),
                     u = new Array(a),
                     s = 1 / 0,
                     l = 1 / 0,
                     c = -1 / 0,
                     f = -1 / 0;
                 for (n = 0; n < a; ++n) isNaN(r = +this._x.call(null, t = e[n])) || isNaN(i = +this._y.call(null, t)) || (o[n] = r, u[n] = i, r < s && (s = r), r > c && (c = r), i < l && (l = i), i > f && (f = i));
                 if (s > c || l > f) return this;
-                for (this.cover(s, l).cover(c, f), n = 0; n < a; ++n) CE(this, o[n], u[n], e[n]);
+                for (this.cover(s, l).cover(c, f), n = 0; n < a; ++n) fE(this, o[n], u[n], e[n]);
                 return this
-            }, LE.cover = function(e, t) {
+            }, yE.cover = function(e, t) {
                 if (isNaN(e = +e) || isNaN(t = +t)) return this;
                 var n = this._x0,
                     r = this._y0,
                     i = this._x1,
                     a = this._y1;
                 if (isNaN(n)) i = (n = Math.floor(e)) + 1, a = (r = Math.floor(t)) + 1;
                 else {
@@ -15403,50 +15737,50 @@
                             break;
                         case 3:
                             n = i - s, r = a - s
                     }
                     this._root && this._root.length && (this._root = l)
                 }
                 return this._x0 = n, this._y0 = r, this._x1 = i, this._y1 = a, this
-            }, LE.data = function() {
+            }, yE.data = function() {
                 var e = [];
                 return this.visit((function(t) {
                     if (!t.length)
                         do {
                             e.push(t.data)
                         } while (t = t.next)
                 })), e
-            }, LE.extent = function(e) {
+            }, yE.extent = function(e) {
                 return arguments.length ? this.cover(+e[0][0], +e[0][1]).cover(+e[1][0], +e[1][1]) : isNaN(this._x0) ? void 0 : [
                     [this._x0, this._y0],
                     [this._x1, this._y1]
                 ]
-            }, LE.find = function(e, t, n) {
+            }, yE.find = function(e, t, n) {
                 var r, i, a, o, u, s, l, c = this._x0,
                     f = this._y0,
                     d = this._x1,
                     h = this._y1,
                     p = [],
                     g = this._root;
-                for (g && p.push(new FE(g, c, f, d, h)), null == n ? n = 1 / 0 : (c = e - n, f = t - n, d = e + n, h = t + n, n *= n); s = p.pop();)
+                for (g && p.push(new dE(g, c, f, d, h)), null == n ? n = 1 / 0 : (c = e - n, f = t - n, d = e + n, h = t + n, n *= n); s = p.pop();)
                     if (!(!(g = s.node) || (i = s.x0) > d || (a = s.y0) > h || (o = s.x1) < c || (u = s.y1) < f))
                         if (g.length) {
                             var m = (i + o) / 2,
                                 v = (a + u) / 2;
-                            p.push(new FE(g[3], m, v, o, u), new FE(g[2], i, v, m, u), new FE(g[1], m, a, o, v), new FE(g[0], i, a, m, v)), (l = (t >= v) << 1 | e >= m) && (s = p[p.length - 1], p[p.length - 1] = p[p.length - 1 - l], p[p.length - 1 - l] = s)
+                            p.push(new dE(g[3], m, v, o, u), new dE(g[2], i, v, m, u), new dE(g[1], m, a, o, v), new dE(g[0], i, a, m, v)), (l = (t >= v) << 1 | e >= m) && (s = p[p.length - 1], p[p.length - 1] = p[p.length - 1 - l], p[p.length - 1 - l] = s)
                         } else {
                             var y = e - +this._x.call(null, g.data),
                                 b = t - +this._y.call(null, g.data),
                                 _ = y * y + b * b;
                             if (_ < n) {
                                 var x = Math.sqrt(n = _);
                                 c = e - x, f = t - x, d = e + x, h = t + x, r = g.data
                             }
                         } return r
-            }, LE.remove = function(e) {
+            }, yE.remove = function(e) {
                 if (isNaN(a = +this._x.call(null, e)) || isNaN(o = +this._y.call(null, e))) return this;
                 var t, n, r, i, a, o, u, s, l, c, f, d, h = this._root,
                     p = this._x0,
                     g = this._y0,
                     m = this._x1,
                     v = this._y1;
                 if (!h) return this;
@@ -15455,133 +15789,134 @@
                         if ((l = a >= (u = (p + m) / 2)) ? p = u : m = u, (c = o >= (s = (g + v) / 2)) ? g = s : v = s, t = h, !(h = h[f = c << 1 | l])) return this;
                         if (!h.length) break;
                         (t[f + 1 & 3] || t[f + 2 & 3] || t[f + 3 & 3]) && (n = t, d = f)
                     }
                 for (; h.data !== e;)
                     if (r = h, !(h = h.next)) return this;
                 return (i = h.next) && delete h.next, r ? (i ? r.next = i : delete r.next, this) : t ? (i ? t[f] = i : delete t[f], (h = t[0] || t[1] || t[2] || t[3]) && h === (t[3] || t[2] || t[1] || t[0]) && !h.length && (n ? n[d] = h : this._root = h), this) : (this._root = i, this)
-            }, LE.removeAll = function(e) {
+            }, yE.removeAll = function(e) {
                 for (var t = 0, n = e.length; t < n; ++t) this.remove(e[t]);
                 return this
-            }, LE.root = function() {
+            }, yE.root = function() {
                 return this._root
-            }, LE.size = function() {
+            }, yE.size = function() {
                 var e = 0;
                 return this.visit((function(t) {
                     if (!t.length)
                         do {
                             ++e
                         } while (t = t.next)
                 })), e
-            }, LE.visit = function(e) {
+            }, yE.visit = function(e) {
                 var t, n, r, i, a, o, u = [],
                     s = this._root;
-                for (s && u.push(new FE(s, this._x0, this._y0, this._x1, this._y1)); t = u.pop();)
+                for (s && u.push(new dE(s, this._x0, this._y0, this._x1, this._y1)); t = u.pop();)
                     if (!e(s = t.node, r = t.x0, i = t.y0, a = t.x1, o = t.y1) && s.length) {
                         var l = (r + a) / 2,
                             c = (i + o) / 2;
-                        (n = s[3]) && u.push(new FE(n, l, c, a, o)), (n = s[2]) && u.push(new FE(n, r, c, l, o)), (n = s[1]) && u.push(new FE(n, l, i, a, c)), (n = s[0]) && u.push(new FE(n, r, i, l, c))
+                        (n = s[3]) && u.push(new dE(n, l, c, a, o)), (n = s[2]) && u.push(new dE(n, r, c, l, o)), (n = s[1]) && u.push(new dE(n, l, i, a, c)), (n = s[0]) && u.push(new dE(n, r, i, l, c))
                     } return this
-            }, LE.visitAfter = function(e) {
+            }, yE.visitAfter = function(e) {
                 var t, n = [],
                     r = [];
-                for (this._root && n.push(new FE(this._root, this._x0, this._y0, this._x1, this._y1)); t = n.pop();) {
+                for (this._root && n.push(new dE(this._root, this._x0, this._y0, this._x1, this._y1)); t = n.pop();) {
                     var i = t.node;
                     if (i.length) {
                         var a, o = t.x0,
                             u = t.y0,
                             s = t.x1,
                             l = t.y1,
                             c = (o + s) / 2,
                             f = (u + l) / 2;
-                        (a = i[0]) && n.push(new FE(a, o, u, c, f)), (a = i[1]) && n.push(new FE(a, c, u, s, f)), (a = i[2]) && n.push(new FE(a, o, f, c, l)), (a = i[3]) && n.push(new FE(a, c, f, s, l))
+                        (a = i[0]) && n.push(new dE(a, o, u, c, f)), (a = i[1]) && n.push(new dE(a, c, u, s, f)), (a = i[2]) && n.push(new dE(a, o, f, c, l)), (a = i[3]) && n.push(new dE(a, c, f, s, l))
                     }
                     r.push(t)
                 }
                 for (; t = r.pop();) e(t.node, t.x0, t.y0, t.x1, t.y1);
                 return this
-            }, LE.x = function(e) {
+            }, yE.x = function(e) {
                 return arguments.length ? (this._x = e, this) : this._x
-            }, LE.y = function(e) {
+            }, yE.y = function(e) {
                 return arguments.length ? (this._y = e, this) : this._y
             };
-            var BE, qE, HE = 0,
-                WE = 0,
-                YE = 0,
-                VE = 0,
-                GE = 0,
-                XE = 0,
-                $E = "object" == typeof performance && performance.now ? performance : Date,
-                KE = "object" == typeof window && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(e) {
+            var SE, EE, AE = 0,
+                kE = 0,
+                ME = 0,
+                DE = 1e3,
+                CE = 0,
+                FE = 0,
+                NE = 0,
+                OE = "object" == typeof performance && performance.now ? performance : Date,
+                TE = "object" == typeof window && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(e) {
                     setTimeout(e, 17)
                 };
 
-            function JE() {
-                return GE || (KE(QE), GE = $E.now() + XE)
+            function PE() {
+                return FE || (TE(RE), FE = OE.now() + NE)
             }
 
-            function QE() {
-                GE = 0
+            function RE() {
+                FE = 0
             }
 
-            function ZE() {
+            function LE() {
                 this._call = this._time = this._next = null
             }
 
-            function eA(e, t, n) {
-                var r = new ZE;
+            function zE(e, t, n) {
+                var r = new LE;
                 return r.restart(e, t, n), r
             }
 
-            function tA() {
-                GE = (VE = $E.now()) + XE, HE = WE = 0;
+            function IE() {
+                FE = (CE = OE.now()) + NE, AE = kE = 0;
                 try {
                     ! function() {
-                        JE(), ++HE;
-                        for (var e, t = BE; t;)(e = GE - t._time) >= 0 && t._call.call(null, e), t = t._next;
-                        --HE
+                        PE(), ++AE;
+                        for (var e, t = SE; t;)(e = FE - t._time) >= 0 && t._call.call(null, e), t = t._next;
+                        --AE
                     }()
                 } finally {
-                    HE = 0,
+                    AE = 0,
                         function() {
-                            for (var e, t, n = BE, r = 1 / 0; n;) n._call ? (r > n._time && (r = n._time), e = n, n = n._next) : (t = n._next, n._next = null, n = e ? e._next = t : BE = t);
-                            qE = e, rA(r)
-                        }(), GE = 0
+                            for (var e, t, n = SE, r = 1 / 0; n;) n._call ? (r > n._time && (r = n._time), e = n, n = n._next) : (t = n._next, n._next = null, n = e ? e._next = t : SE = t);
+                            EE = e, BE(r)
+                        }(), FE = 0
                 }
             }
 
-            function nA() {
-                var e = $E.now(),
-                    t = e - VE;
-                t > 1e3 && (XE -= t, VE = e)
+            function jE() {
+                var e = OE.now(),
+                    t = e - CE;
+                t > DE && (NE -= t, CE = e)
             }
 
-            function rA(e) {
-                HE || (WE && (WE = clearTimeout(WE)), e - GE > 24 ? (e < 1 / 0 && (WE = setTimeout(tA, e - $E.now() - XE)), YE && (YE = clearInterval(YE))) : (YE || (VE = $E.now(), YE = setInterval(nA, 1e3)), HE = 1, KE(tA)))
+            function BE(e) {
+                AE || (kE && (kE = clearTimeout(kE)), e - FE > 24 ? (e < 1 / 0 && (kE = setTimeout(IE, e - OE.now() - NE)), ME && (ME = clearInterval(ME))) : (ME || (CE = OE.now(), ME = setInterval(jE, DE)), AE = 1, TE(IE)))
             }
 
-            function iA(e) {
+            function UE(e) {
                 return e.x
             }
 
-            function aA(e) {
+            function qE(e) {
                 return e.y
             }
-            ZE.prototype = eA.prototype = {
-                constructor: ZE,
+            LE.prototype = zE.prototype = {
+                constructor: LE,
                 restart: function(e, t, n) {
                     if ("function" != typeof e) throw new TypeError("callback is not a function");
-                    n = (null == n ? JE() : +n) + (null == t ? 0 : +t), this._next || qE === this || (qE ? qE._next = this : BE = this, qE = this), this._call = e, this._time = n, rA()
+                    n = (null == n ? PE() : +n) + (null == t ? 0 : +t), this._next || EE === this || (EE ? EE._next = this : SE = this, EE = this), this._call = e, this._time = n, BE()
                 },
                 stop: function() {
-                    this._call && (this._call = null, this._time = 1 / 0, rA())
+                    this._call && (this._call = null, this._time = 1 / 0, BE())
                 }
             };
-            var oA = Math.PI * (3 - Math.sqrt(5)),
-                uA = {
+            var HE = Math.PI * (3 - Math.sqrt(5)),
+                WE = {
                     center: function(e, t) {
                         var n;
 
                         function r() {
                             var r, i, a = n.length,
                                 o = 0,
                                 u = 0;
@@ -15598,26 +15933,26 @@
                     },
                     collide: function(e) {
                         var t, n, r = 1,
                             i = 1;
 
                         function a() {
                             for (var e, a, u, s, l, c, f, d = t.length, h = 0; h < i; ++h)
-                                for (a = OE(t, zE, IE).visitAfter(o), e = 0; e < d; ++e) u = t[e], c = n[u.index], f = c * c, s = u.x + u.vx, l = u.y + u.vy, a.visit(p);
+                                for (a = gE(t, bE, _E).visitAfter(o), e = 0; e < d; ++e) u = t[e], c = n[u.index], f = c * c, s = u.x + u.vx, l = u.y + u.vy, a.visit(p);
 
                             function p(e, t, n, i, a) {
                                 var o = e.data,
                                     d = e.r,
                                     h = c + d;
                                 if (!o) return t > s + h || i < s - h || n > l + h || a < l - h;
                                 if (o.index > u.index) {
                                     var p = s - o.x - o.vx,
                                         g = l - o.y - o.vy,
                                         m = p * p + g * g;
-                                    m < h * h && (0 === p && (m += (p = DE()) * p), 0 === g && (m += (g = DE()) * g), m = (h - (m = Math.sqrt(m))) / m * r, u.vx += (p *= m) * (h = (d *= d) / (f + d)), u.vy += (g *= m) * h, o.vx -= p * (h = 1 - h), o.vy -= g * h)
+                                    m < h * h && (0 === p && (m += (p = cE()) * p), 0 === g && (m += (g = cE()) * g), m = (h - (m = Math.sqrt(m))) / m * r, u.vx += (p *= m) * (h = (d *= d) / (f + d)), u.vy += (g *= m) * h, o.vx -= p * (h = 1 - h), o.vy -= g * h)
                                 }
                             }
                         }
 
                         function o(e) {
                             if (e.data) return e.r = n[e.data.index];
                             for (var t = e.r = 0; t < 4; ++t) e[t] && e[t].r > e.r && (e.r = e[t].r)
@@ -15625,33 +15960,33 @@
 
                         function u() {
                             if (t) {
                                 var r, i, a = t.length;
                                 for (n = new Array(a), r = 0; r < a; ++r) i = t[r], n[i.index] = +e(i, r, t)
                             }
                         }
-                        return "function" != typeof e && (e = ME(null == e ? 1 : +e)), a.initialize = function(e) {
+                        return "function" != typeof e && (e = lE(null == e ? 1 : +e)), a.initialize = function(e) {
                             t = e, u()
                         }, a.iterations = function(e) {
                             return arguments.length ? (i = +e, a) : i
                         }, a.strength = function(e) {
                             return arguments.length ? (r = +e, a) : r
                         }, a.radius = function(t) {
-                            return arguments.length ? (e = "function" == typeof t ? t : ME(+t), u(), a) : e
+                            return arguments.length ? (e = "function" == typeof t ? t : lE(+t), u(), a) : e
                         }, a
                     },
                     nbody: function() {
-                        var e, t, n, r, i = ME(-30),
+                        var e, t, n, r, i = lE(-30),
                             a = 1,
                             o = 1 / 0,
                             u = .81;
 
                         function s(r) {
                             var i, a = e.length,
-                                o = OE(e, iA, aA).visitAfter(c);
+                                o = gE(e, UE, qE).visitAfter(c);
                             for (n = r, i = 0; i < a; ++i) t = e[i], o.visit(f)
                         }
 
                         function l() {
                             if (e) {
                                 var t, n, a = e.length;
                                 for (r = new Array(a), t = 0; t < a; ++t) n = e[t], r[n.index] = +i(n, t, e)
@@ -15675,53 +16010,53 @@
 
                         function f(e, i, s, l) {
                             if (!e.value) return !0;
                             var c = e.x - t.x,
                                 f = e.y - t.y,
                                 d = l - i,
                                 h = c * c + f * f;
-                            if (d * d / u < h) return h < o && (0 === c && (h += (c = DE()) * c), 0 === f && (h += (f = DE()) * f), h < a && (h = Math.sqrt(a * h)), t.vx += c * e.value * n / h, t.vy += f * e.value * n / h), !0;
+                            if (d * d / u < h) return h < o && (0 === c && (h += (c = cE()) * c), 0 === f && (h += (f = cE()) * f), h < a && (h = Math.sqrt(a * h)), t.vx += c * e.value * n / h, t.vy += f * e.value * n / h), !0;
                             if (!(e.length || h >= o)) {
-                                (e.data !== t || e.next) && (0 === c && (h += (c = DE()) * c), 0 === f && (h += (f = DE()) * f), h < a && (h = Math.sqrt(a * h)));
+                                (e.data !== t || e.next) && (0 === c && (h += (c = cE()) * c), 0 === f && (h += (f = cE()) * f), h < a && (h = Math.sqrt(a * h)));
                                 do {
                                     e.data !== t && (d = r[e.data.index] * n / h, t.vx += c * d, t.vy += f * d)
                                 } while (e = e.next)
                             }
                         }
                         return s.initialize = function(t) {
                             e = t, l()
                         }, s.strength = function(e) {
-                            return arguments.length ? (i = "function" == typeof e ? e : ME(+e), l(), s) : i
+                            return arguments.length ? (i = "function" == typeof e ? e : lE(+e), l(), s) : i
                         }, s.distanceMin = function(e) {
                             return arguments.length ? (a = e * e, s) : Math.sqrt(a)
                         }, s.distanceMax = function(e) {
                             return arguments.length ? (o = e * e, s) : Math.sqrt(o)
                         }, s.theta = function(e) {
                             return arguments.length ? (u = e * e, s) : Math.sqrt(u)
                         }, s
                     },
                     link: function(e) {
-                        var t, n, r, i, a, o = UE,
+                        var t, n, r, i, a, o = xE,
                             u = function(e) {
                                 return 1 / Math.min(i[e.source.index], i[e.target.index])
                             },
-                            s = ME(30),
+                            s = lE(30),
                             l = 1;
 
                         function c(r) {
                             for (var i = 0, o = e.length; i < l; ++i)
-                                for (var u, s, c, f, d, h, p, g = 0; g < o; ++g) s = (u = e[g]).source, f = (c = u.target).x + c.vx - s.x - s.vx || DE(), d = c.y + c.vy - s.y - s.vy || DE(), f *= h = ((h = Math.sqrt(f * f + d * d)) - n[g]) / h * r * t[g], d *= h, c.vx -= f * (p = a[g]), c.vy -= d * p, s.vx += f * (p = 1 - p), s.vy += d * p
+                                for (var u, s, c, f, d, h, p, g = 0; g < o; ++g) s = (u = e[g]).source, f = (c = u.target).x + c.vx - s.x - s.vx || cE(), d = c.y + c.vy - s.y - s.vy || cE(), f *= h = ((h = Math.sqrt(f * f + d * d)) - n[g]) / h * r * t[g], d *= h, c.vx -= f * (p = a[g]), c.vy -= d * p, s.vx += f * (p = 1 - p), s.vy += d * p
                         }
 
                         function f() {
                             if (r) {
                                 var u, s, l = r.length,
                                     c = e.length,
-                                    f = et(r, o);
-                                for (u = 0, i = new Array(l); u < c; ++u)(s = e[u]).index = u, "object" != typeof s.source && (s.source = jE(f, s.source)), "object" != typeof s.target && (s.target = jE(f, s.target)), i[s.source.index] = (i[s.source.index] || 0) + 1, i[s.target.index] = (i[s.target.index] || 0) + 1;
+                                    f = Qe(r, o);
+                                for (u = 0, i = new Array(l); u < c; ++u)(s = e[u]).index = u, "object" != typeof s.source && (s.source = wE(f, s.source)), "object" != typeof s.target && (s.target = wE(f, s.target)), i[s.source.index] = (i[s.source.index] || 0) + 1, i[s.target.index] = (i[s.target.index] || 0) + 1;
                                 for (u = 0, a = new Array(c); u < c; ++u) s = e[u], a[u] = i[s.source.index] / (i[s.source.index] + i[s.target.index]);
                                 t = new Array(c), d(), n = new Array(c), h()
                             }
                         }
 
                         function d() {
                             if (r)
@@ -15737,71 +16072,71 @@
                         }, c.links = function(t) {
                             return arguments.length ? (e = t, f(), c) : e
                         }, c.id = function(e) {
                             return arguments.length ? (o = e, c) : o
                         }, c.iterations = function(e) {
                             return arguments.length ? (l = +e, c) : l
                         }, c.strength = function(e) {
-                            return arguments.length ? (u = "function" == typeof e ? e : ME(+e), d(), c) : u
+                            return arguments.length ? (u = "function" == typeof e ? e : lE(+e), d(), c) : u
                         }, c.distance = function(e) {
-                            return arguments.length ? (s = "function" == typeof e ? e : ME(+e), h(), c) : s
+                            return arguments.length ? (s = "function" == typeof e ? e : lE(+e), h(), c) : s
                         }, c
                     },
                     x: function(e) {
-                        var t, n, r, i = ME(.1);
+                        var t, n, r, i = lE(.1);
 
                         function a(e) {
                             for (var i, a = 0, o = t.length; a < o; ++a)(i = t[a]).vx += (r[a] - i.x) * n[a] * e
                         }
 
                         function o() {
                             if (t) {
                                 var a, o = t.length;
                                 for (n = new Array(o), r = new Array(o), a = 0; a < o; ++a) n[a] = isNaN(r[a] = +e(t[a], a, t)) ? 0 : +i(t[a], a, t)
                             }
                         }
-                        return "function" != typeof e && (e = ME(null == e ? 0 : +e)), a.initialize = function(e) {
+                        return "function" != typeof e && (e = lE(null == e ? 0 : +e)), a.initialize = function(e) {
                             t = e, o()
                         }, a.strength = function(e) {
-                            return arguments.length ? (i = "function" == typeof e ? e : ME(+e), o(), a) : i
+                            return arguments.length ? (i = "function" == typeof e ? e : lE(+e), o(), a) : i
                         }, a.x = function(t) {
-                            return arguments.length ? (e = "function" == typeof t ? t : ME(+t), o(), a) : e
+                            return arguments.length ? (e = "function" == typeof t ? t : lE(+t), o(), a) : e
                         }, a
                     },
                     y: function(e) {
-                        var t, n, r, i = ME(.1);
+                        var t, n, r, i = lE(.1);
 
                         function a(e) {
                             for (var i, a = 0, o = t.length; a < o; ++a)(i = t[a]).vy += (r[a] - i.y) * n[a] * e
                         }
 
                         function o() {
                             if (t) {
                                 var a, o = t.length;
                                 for (n = new Array(o), r = new Array(o), a = 0; a < o; ++a) n[a] = isNaN(r[a] = +e(t[a], a, t)) ? 0 : +i(t[a], a, t)
                             }
                         }
-                        return "function" != typeof e && (e = ME(null == e ? 0 : +e)), a.initialize = function(e) {
+                        return "function" != typeof e && (e = lE(null == e ? 0 : +e)), a.initialize = function(e) {
                             t = e, o()
                         }, a.strength = function(e) {
-                            return arguments.length ? (i = "function" == typeof e ? e : ME(+e), o(), a) : i
+                            return arguments.length ? (i = "function" == typeof e ? e : lE(+e), o(), a) : i
                         }, a.y = function(t) {
-                            return arguments.length ? (e = "function" == typeof t ? t : ME(+t), o(), a) : e
+                            return arguments.length ? (e = "function" == typeof t ? t : lE(+t), o(), a) : e
                         }, a
                     }
                 },
-                sA = "forces",
-                lA = ["alpha", "alphaMin", "alphaTarget", "velocityDecay", "forces"],
-                cA = ["static", "iterations"],
-                fA = ["x", "y", "vx", "vy"];
+                VE = "forces",
+                GE = ["alpha", "alphaMin", "alphaTarget", "velocityDecay", "forces"],
+                YE = ["static", "iterations"],
+                XE = ["x", "y", "vx", "vy"];
 
-            function dA(e) {
-                Di.call(this, null, e)
+            function $E(e) {
+                Ci.call(this, null, e)
             }
-            dA.Definition = {
+            $E.Definition = {
                 type: "Force",
                 metadata: {
                     modifies: !0
                 },
                 params: [{
                     name: "static",
                     type: "boolean",
@@ -15934,111 +16269,111 @@
                         }]
                     }]
                 }, {
                     name: "as",
                     type: "string",
                     array: !0,
                     modify: !1,
-                    default: fA
+                    default: XE
                 }]
             };
-            var hA = (0, ke.inherits)(dA, Di);
+            var KE = (0, Ee.inherits)($E, Ci);
 
-            function pA(e, t, n, r) {
-                var i, a, o, u, s = (0, ke.array)(t.forces);
-                for (i = 0, a = lA.length; i < a; ++i)(o = lA[i]) !== sA && t.modified(o) && e[o](t[o]);
-                for (i = 0, a = s.length; i < a; ++i) u = sA + i, (o = n || t.modified(sA, i) ? mA(s[i]) : r && gA(s[i], r) ? e.force(u) : null) && e.force(u, o);
-                for (a = e.numForces || 0; i < a; ++i) e.force(sA + i, null);
+            function JE(e, t, n, r) {
+                var i, a, o, u, s = (0, Ee.array)(t.forces);
+                for (i = 0, a = GE.length; i < a; ++i)(o = GE[i]) !== VE && t.modified(o) && e[o](t[o]);
+                for (i = 0, a = s.length; i < a; ++i) u = VE + i, (o = n || t.modified(VE, i) ? ZE(s[i]) : r && QE(s[i], r) ? e.force(u) : null) && e.force(u, o);
+                for (a = e.numForces || 0; i < a; ++i) e.force(VE + i, null);
                 return e.numForces = s.length, e
             }
 
-            function gA(e, t) {
+            function QE(e, t) {
                 var n, r;
                 for (n in e)
-                    if ((0, ke.isFunction)(r = e[n]) && t.modified((0, ke.accessorFields)(r))) return 1;
+                    if ((0, Ee.isFunction)(r = e[n]) && t.modified((0, Ee.accessorFields)(r))) return 1;
                 return 0
             }
 
-            function mA(e) {
+            function ZE(e) {
                 var t, n;
-                for (n in uA.hasOwnProperty(e.force) || (0, ke.error)("Unrecognized force: " + e.force), t = uA[e.force](), e)(0, ke.isFunction)(t[n]) && vA(t[n], e[n], e);
+                for (n in WE.hasOwnProperty(e.force) || (0, Ee.error)("Unrecognized force: " + e.force), t = WE[e.force](), e)(0, Ee.isFunction)(t[n]) && eA(t[n], e[n], e);
                 return t
             }
 
-            function vA(e, t, n) {
-                e((0, ke.isFunction)(t) ? function(e) {
+            function eA(e, t, n) {
+                e((0, Ee.isFunction)(t) ? function(e) {
                     return t(e, n)
                 } : t)
             }
 
-            function yA(e) {
+            function tA(e) {
                 var t = 0,
                     n = e.children,
                     r = n && n.length;
                 if (r)
                     for (; --r >= 0;) t += n[r].value;
                 else t = 1;
                 e.value = t
             }
 
-            function bA(e, t) {
-                var n, r, i, a, o, u = new SA(e),
+            function nA(e, t) {
+                var n, r, i, a, o, u = new oA(e),
                     s = +e.value && (u.value = e.value),
                     l = [u];
-                for (null == t && (t = _A); n = l.pop();)
+                for (null == t && (t = rA); n = l.pop();)
                     if (s && (n.value = +n.data.value), (i = t(n.data)) && (o = i.length))
-                        for (n.children = new Array(o), a = o - 1; a >= 0; --a) l.push(r = n.children[a] = new SA(i[a])), r.parent = n, r.depth = n.depth + 1;
-                return u.eachBefore(wA)
+                        for (n.children = new Array(o), a = o - 1; a >= 0; --a) l.push(r = n.children[a] = new oA(i[a])), r.parent = n, r.depth = n.depth + 1;
+                return u.eachBefore(aA)
             }
 
-            function _A(e) {
+            function rA(e) {
                 return e.children
             }
 
-            function xA(e) {
+            function iA(e) {
                 e.data = e.data.data
             }
 
-            function wA(e) {
+            function aA(e) {
                 var t = 0;
                 do {
                     e.height = t
                 } while ((e = e.parent) && e.height < ++t)
             }
 
-            function SA(e) {
+            function oA(e) {
                 this.data = e, this.depth = this.height = 0, this.parent = null
             }
 
-            function EA(e) {
-                Di.call(this, null, e)
+            function uA(e) {
+                Ci.call(this, null, e)
             }
 
-            function AA(e) {
+            function sA(e) {
                 return e.values
             }
 
-            function kA(e) {
-                Di.call(this, null, e)
+            function lA(e) {
+                Ci.call(this, null, e)
             }
-            hA.transform = function(e, t) {
+            KE.transform = function(e, t) {
                 var n, r, i = this.value,
                     a = t.changed(t.ADD_REM),
-                    o = e.modified(lA),
+                    o = e.modified(GE),
                     u = e.iterations || 300;
-                if (i ? (a && (t.modifies("index"), i.nodes(t.source)), (o || t.changed(t.MOD)) && pA(i, e, 0, t)) : (this.value = i = function(e, t) {
+                if (i ? (a && (t.modifies("index"), i.nodes(t.source)), (o || t.changed(t.MOD)) && JE(i, e, 0, t)) : (this.value = i = function(e, t) {
                         var n = function(e) {
                                 var t, n = 1,
                                     r = .001,
                                     i = 1 - Math.pow(r, 1 / 300),
                                     a = 0,
                                     o = .6,
-                                    u = et(),
-                                    s = eA(c),
-                                    l = pt("tick", "end");
+                                    u = Qe(),
+                                    s = zE(c),
+                                    l = ft("tick", "end");
 
                                 function c() {
                                     f(), l.call("tick", t), n < r && (s.stop(), l.call("end", t))
                                 }
 
                                 function f(r) {
                                     var s, l, c = e.length;
@@ -16050,15 +16385,15 @@
                                     return t
                                 }
 
                                 function d() {
                                     for (var t, n = 0, r = e.length; n < r; ++n) {
                                         if ((t = e[n]).index = n, null != t.fx && (t.x = t.fx), null != t.fy && (t.y = t.fy), isNaN(t.x) || isNaN(t.y)) {
                                             var i = 10 * Math.sqrt(n),
-                                                a = n * oA;
+                                                a = n * HE;
                                             t.x = i * Math.cos(a), t.y = i * Math.sin(a)
                                         }(isNaN(t.vx) || isNaN(t.vy)) && (t.vx = t.vy = 0)
                                     }
                                 }
 
                                 function h(t) {
                                     return t.initialize && t.initialize(e), t
@@ -16108,36 +16443,36 @@
                             a = n.restart;
                         return n.stopped = function() {
                             return r
                         }, n.restart = function() {
                             return r = !1, a()
                         }, n.stop = function() {
                             return r = !0, i()
-                        }, pA(n, t, !0).on("end", (function() {
+                        }, JE(n, t, !0).on("end", (function() {
                             r = !0
                         }))
                     }(t.source, e), i.on("tick", (n = t.dataflow, r = this, function() {
                         n.touch(r).run()
-                    })), e.static || (a = !0, i.tick()), t.modifies("index")), o || a || e.modified(cA) || t.changed() && e.restart)
+                    })), e.static || (a = !0, i.tick()), t.modifies("index")), o || a || e.modified(YE) || t.changed() && e.restart)
                     if (i.alpha(Math.max(i.alpha(), e.alpha || 1)).alphaDecay(1 - Math.pow(i.alphaMin(), 1 / u)), e.static)
                         for (i.stop(); --u >= 0;) i.tick();
                     else if (i.stopped() && i.restart(), !a) return t.StopPropagation;
                 return this.finish(e, t)
-            }, hA.finish = function(e, t) {
+            }, KE.finish = function(e, t) {
                 for (var n, r = t.dataflow, i = this._argops, a = 0, o = i.length; a < o; ++a)
-                    if ((n = i[a]).name === sA && "link" === n.op._argval.force)
+                    if ((n = i[a]).name === VE && "link" === n.op._argval.force)
                         for (var u, s = n.op._argops, l = 0, c = s.length; l < c; ++l)
                             if ("links" === s[l].name && (u = s[l].op.source)) {
                                 r.pulse(u, r.changeset().reflow());
                                 break
-                            } return t.reflow(e.modified()).modifies(fA)
-            }, SA.prototype = bA.prototype = {
-                constructor: SA,
+                            } return t.reflow(e.modified()).modifies(XE)
+            }, oA.prototype = nA.prototype = {
+                constructor: oA,
                 count: function() {
-                    return this.eachAfter(yA)
+                    return this.eachAfter(tA)
                 },
                 each: function(e) {
                     var t, n, r, i, a = this,
                         o = [a];
                     do {
                         for (t = o.reverse(), o = []; a = t.pop();)
                             if (e(a), n = a.children)
@@ -16204,17 +16539,17 @@
                         n !== e && t.push({
                             source: n.parent,
                             target: n
                         })
                     })), t
                 },
                 copy: function() {
-                    return bA(this).eachBefore(xA)
+                    return nA(this).eachBefore(iA)
                 }
-            }, EA.Definition = {
+            }, uA.Definition = {
                 type: "Nest",
                 metadata: {
                     treesource: !0,
                     changes: !0
                 },
                 params: [{
                     name: "keys",
@@ -16223,101 +16558,101 @@
                 }, {
                     name: "key",
                     type: "field"
                 }, {
                     name: "generate",
                     type: "boolean"
                 }]
-            }, (0, ke.inherits)(EA, Di).transform = function(e, t) {
-                t.source || (0, ke.error)("Nest transform requires an upstream data source.");
-                var n, r, i, a = e.key || Ne,
+            }, (0, Ee.inherits)(uA, Ci).transform = function(e, t) {
+                t.source || (0, Ee.error)("Nest transform requires an upstream data source.");
+                var n, r, i, a = e.key || Ce,
                     o = e.generate,
                     u = e.modified(),
                     s = t.clone();
                 return (!this.value || u || t.changed()) && (o && this.value && this.value.each((function(e) {
                     e.children && s.rem.push(e)
-                })), n = (0, ke.array)(e.keys).reduce((function(e, t) {
+                })), n = (0, Ee.array)(e.keys).reduce((function(e, t) {
                     return e.key(t), e
-                }), tt()).entries(s.source), this.value = r = bA({
+                }), Ze()).entries(s.source), this.value = r = nA({
                     values: n
-                }, AA), o && r.each((function(e) {
-                    e.children && (e = Oe(e.data), s.add.push(e), s.source.push(e))
+                }, sA), o && r.each((function(e) {
+                    e.children && (e = Ne(e.data), s.add.push(e), s.source.push(e))
                 })), i = r.lookup = {}, r.each((function(e) {
-                    null != Ne(e.data) && (i[a(e.data)] = e)
+                    null != Ce(e.data) && (i[a(e.data)] = e)
                 }))), s.source.root = this.value, s
-            }, (0, ke.inherits)(kA, Di).transform = function(e, t) {
-                t.source && t.source.root || (0, ke.error)(this.constructor.name + " transform requires a backing tree data source.");
+            }, (0, Ee.inherits)(lA, Ci).transform = function(e, t) {
+                t.source && t.source.root || (0, Ee.error)(this.constructor.name + " transform requires a backing tree data source.");
                 var n = this.layout(e.method),
                     r = this.fields,
                     i = t.source.root,
                     a = e.as || r;
                 e.field && i.sum(e.field), e.sort && i.sort(e.sort),
                     function(e, t, n) {
                         for (var r, i = 0, a = t.length; i < a; ++i)(r = t[i]) in n && e[r](n[r])
                     }(n, this.params, e);
                 try {
                     this.value = n(i)
                 } catch (e) {
-                    (0, ke.error)(e)
+                    (0, Ee.error)(e)
                 }
                 return i.each((function(e) {
                     ! function(e, t, n) {
                         for (var r = e.data, i = 0, a = t.length - 1; i < a; ++i) r[n[i]] = e[t[i]];
                         r[n[a]] = e.children ? e.children.length : 0
                     }(e, r, a)
                 })), t.reflow(e.modified()).modifies(a).modifies("leaf")
             };
-            var MA = Array.prototype.slice;
+            var cA = Array.prototype.slice;
 
-            function DA(e, t) {
+            function fA(e, t) {
                 var n, r;
-                if (NA(t, e)) return [t];
+                if (pA(t, e)) return [t];
                 for (n = 0; n < e.length; ++n)
-                    if (CA(t, e[n]) && NA(OA(e[n], t), e)) return [e[n], t];
+                    if (dA(t, e[n]) && pA(mA(e[n], t), e)) return [e[n], t];
                 for (n = 0; n < e.length - 1; ++n)
                     for (r = n + 1; r < e.length; ++r)
-                        if (CA(OA(e[n], e[r]), t) && CA(OA(e[n], t), e[r]) && CA(OA(e[r], t), e[n]) && NA(PA(e[n], e[r], t), e)) return [e[n], e[r], t];
+                        if (dA(mA(e[n], e[r]), t) && dA(mA(e[n], t), e[r]) && dA(mA(e[r], t), e[n]) && pA(vA(e[n], e[r], t), e)) return [e[n], e[r], t];
                 throw new Error
             }
 
-            function CA(e, t) {
+            function dA(e, t) {
                 var n = e.r - t.r,
                     r = t.x - e.x,
                     i = t.y - e.y;
                 return n < 0 || n * n < r * r + i * i
             }
 
-            function FA(e, t) {
+            function hA(e, t) {
                 var n = e.r - t.r + 1e-6,
                     r = t.x - e.x,
                     i = t.y - e.y;
                 return n > 0 && n * n > r * r + i * i
             }
 
-            function NA(e, t) {
+            function pA(e, t) {
                 for (var n = 0; n < t.length; ++n)
-                    if (!FA(e, t[n])) return !1;
+                    if (!hA(e, t[n])) return !1;
                 return !0
             }
 
-            function TA(e) {
+            function gA(e) {
                 switch (e.length) {
                     case 1:
                         return {
                             x: (t = e[0]).x, y: t.y, r: t.r
                         };
                     case 2:
-                        return OA(e[0], e[1]);
+                        return mA(e[0], e[1]);
                     case 3:
-                        return PA(e[0], e[1], e[2])
+                        return vA(e[0], e[1], e[2])
                 }
                 var t
             }
 
-            function OA(e, t) {
+            function mA(e, t) {
                 var n = e.x,
                     r = e.y,
                     i = e.r,
                     a = t.x,
                     o = t.y,
                     u = t.r,
                     s = a - n,
@@ -16327,15 +16662,15 @@
                 return {
                     x: (n + a + s / f * c) / 2,
                     y: (r + o + l / f * c) / 2,
                     r: (f + i + u) / 2
                 }
             }
 
-            function PA(e, t, n) {
+            function vA(e, t, n) {
                 var r = e.x,
                     i = e.y,
                     a = e.r,
                     o = t.x,
                     u = t.y,
                     s = t.r,
                     l = n.x,
@@ -16362,135 +16697,131 @@
                 return {
                     x: r + w + S * C,
                     y: i + E + A * C,
                     r: C
                 }
             }
 
-            function RA(e, t, n) {
+            function yA(e, t, n) {
                 var r, i, a, o, u = e.x - t.x,
                     s = e.y - t.y,
                     l = u * u + s * s;
                 l ? (i = t.r + n.r, i *= i, o = e.r + n.r, i > (o *= o) ? (r = (l + o - i) / (2 * l), a = Math.sqrt(Math.max(0, o / l - r * r)), n.x = e.x - r * u - a * s, n.y = e.y - r * s + a * u) : (r = (l + i - o) / (2 * l), a = Math.sqrt(Math.max(0, i / l - r * r)), n.x = t.x + r * u - a * s, n.y = t.y + r * s + a * u)) : (n.x = t.x + n.r, n.y = t.y)
             }
 
-            function LA(e, t) {
+            function bA(e, t) {
                 var n = e.r + t.r - 1e-6,
                     r = t.x - e.x,
                     i = t.y - e.y;
                 return n > 0 && n * n > r * r + i * i
             }
 
-            function zA(e) {
+            function _A(e) {
                 var t = e._,
                     n = e.next._,
                     r = t.r + n.r,
                     i = (t.x * n.r + n.x * t.r) / r,
                     a = (t.y * n.r + n.y * t.r) / r;
                 return i * i + a * a
             }
 
-            function IA(e) {
+            function xA(e) {
                 this._ = e, this.next = null, this.previous = null
             }
 
-            function UA(e) {
+            function wA(e) {
                 if (!(i = e.length)) return 0;
                 var t, n, r, i, a, o, u, s, l, c, f;
                 if ((t = e[0]).x = 0, t.y = 0, !(i > 1)) return t.r;
                 if (n = e[1], t.x = -n.r, n.x = t.r, n.y = 0, !(i > 2)) return t.r + n.r;
-                RA(n, t, r = e[2]), t = new IA(t), n = new IA(n), r = new IA(r), t.next = r.previous = n, n.next = t.previous = r, r.next = n.previous = t;
+                yA(n, t, r = e[2]), t = new xA(t), n = new xA(n), r = new xA(r), t.next = r.previous = n, n.next = t.previous = r, r.next = n.previous = t;
                 e: for (u = 3; u < i; ++u) {
-                    RA(t._, n._, r = e[u]), r = new IA(r), s = n.next, l = t.previous, c = n._.r, f = t._.r;
+                    yA(t._, n._, r = e[u]), r = new xA(r), s = n.next, l = t.previous, c = n._.r, f = t._.r;
                     do {
                         if (c <= f) {
-                            if (LA(s._, r._)) {
+                            if (bA(s._, r._)) {
                                 n = s, t.next = n, n.previous = t, --u;
                                 continue e
                             }
                             c += s._.r, s = s.next
                         } else {
-                            if (LA(l._, r._)) {
+                            if (bA(l._, r._)) {
                                 (t = l).next = n, n.previous = t, --u;
                                 continue e
                             }
                             f += l._.r, l = l.previous
                         }
                     } while (s !== l.next);
-                    for (r.previous = t, r.next = n, t.next = n.previous = n = r, a = zA(t);
-                        (r = r.next) !== n;)(o = zA(r)) < a && (t = r, a = o);
+                    for (r.previous = t, r.next = n, t.next = n.previous = n = r, a = _A(t);
+                        (r = r.next) !== n;)(o = _A(r)) < a && (t = r, a = o);
                     n = t.next
                 }
                 for (t = [n._], r = n;
                     (r = r.next) !== n;) t.push(r._);
                 for (r = function(e) {
                         for (var t, n, r = 0, i = (e = function(e) {
                                 for (var t, n, r = e.length; r;) n = Math.random() * r-- | 0, t = e[r], e[r] = e[n], e[n] = t;
                                 return e
-                            }(MA.call(e))).length, a = []; r < i;) t = e[r], n && FA(n, t) ? ++r : (n = TA(a = DA(a, t)), r = 0);
+                            }(cA.call(e))).length, a = []; r < i;) t = e[r], n && hA(n, t) ? ++r : (n = gA(a = fA(a, t)), r = 0);
                         return n
                     }(t), u = 0; u < i; ++u)(t = e[u]).x -= r.x, t.y -= r.y;
                 return r.r
             }
 
-            function jA(e) {
-                return null == e ? null : BA(e)
-            }
-
-            function BA(e) {
+            function SA(e) {
                 if ("function" != typeof e) throw new Error;
                 return e
             }
 
-            function qA() {
+            function EA() {
                 return 0
             }
 
-            function HA(e) {
+            function AA(e) {
                 return function() {
                     return e
                 }
             }
 
-            function WA(e) {
+            function kA(e) {
                 return Math.sqrt(e.value)
             }
 
-            function YA(e) {
+            function MA(e) {
                 return function(t) {
                     t.children || (t.r = Math.max(0, +e(t) || 0))
                 }
             }
 
-            function VA(e, t) {
+            function DA(e, t) {
                 return function(n) {
                     if (r = n.children) {
                         var r, i, a, o = r.length,
                             u = e(n) * t || 0;
                         if (u)
                             for (i = 0; i < o; ++i) r[i].r += u;
-                        if (a = UA(r), u)
+                        if (a = wA(r), u)
                             for (i = 0; i < o; ++i) r[i].r -= u;
                         n.r = a + u
                     }
                 }
             }
 
-            function GA(e) {
+            function CA(e) {
                 return function(t) {
                     var n = t.parent;
                     t.r *= e, n && (t.x = n.x + e * t.x, t.y = n.y + e * t.y)
                 }
             }
-            var XA = ["x", "y", "r", "depth", "children"];
+            var FA = ["x", "y", "r", "depth", "children"];
 
-            function $A(e) {
-                kA.call(this, e)
+            function NA(e) {
+                lA.call(this, e)
             }
-            $A.Definition = {
+            NA.Definition = {
                 type: "Pack",
                 metadata: {
                     tree: !0,
                     modifies: !0
                 },
                 params: [{
                     name: "field",
@@ -16512,49 +16843,50 @@
                     array: !0,
                     length: 2
                 }, {
                     name: "as",
                     type: "string",
                     array: !0,
                     length: 3,
-                    default: XA
+                    default: FA
                 }]
             };
-            var KA = (0, ke.inherits)($A, kA);
+            var OA = (0, Ee.inherits)(NA, lA);
 
-            function JA(e) {
+            function TA(e) {
                 e.x0 = Math.round(e.x0), e.y0 = Math.round(e.y0), e.x1 = Math.round(e.x1), e.y1 = Math.round(e.y1)
             }
 
-            function QA(e, t, n, r, i) {
+            function PA(e, t, n, r, i) {
                 for (var a, o = e.children, u = -1, s = o.length, l = e.value && (r - t) / e.value; ++u < s;)(a = o[u]).y0 = n, a.y1 = i, a.x0 = t, a.x1 = t += a.value * l
             }
-            KA.layout = function() {
+            OA.layout = function() {
                 var e = null,
                     t = 1,
                     n = 1,
-                    r = qA;
+                    r = EA;
 
                 function i(i) {
-                    return i.x = t / 2, i.y = n / 2, e ? i.eachBefore(YA(e)).eachAfter(VA(r, .5)).eachBefore(GA(1)) : i.eachBefore(YA(WA)).eachAfter(VA(qA, 1)).eachAfter(VA(r, i.r / Math.min(t, n))).eachBefore(GA(Math.min(t, n) / (2 * i.r))), i
+                    return i.x = t / 2, i.y = n / 2, e ? i.eachBefore(MA(e)).eachAfter(DA(r, .5)).eachBefore(CA(1)) : i.eachBefore(MA(kA)).eachAfter(DA(EA, 1)).eachAfter(DA(r, i.r / Math.min(t, n))).eachBefore(CA(Math.min(t, n) / (2 * i.r))), i
                 }
                 return i.radius = function(t) {
-                    return arguments.length ? (e = jA(t), i) : e
+                    return arguments.length ? (e = null == (n = t) ? null : SA(n), i) : e;
+                    var n
                 }, i.size = function(e) {
                     return arguments.length ? (t = +e[0], n = +e[1], i) : [t, n]
                 }, i.padding = function(e) {
-                    return arguments.length ? (r = "function" == typeof e ? e : HA(+e), i) : r
+                    return arguments.length ? (r = "function" == typeof e ? e : AA(+e), i) : r
                 }, i
-            }, KA.params = ["size", "padding"], KA.fields = XA;
-            var ZA = ["x0", "y0", "x1", "y1", "depth", "children"];
+            }, OA.params = ["size", "padding"], OA.fields = FA;
+            var RA = ["x0", "y0", "x1", "y1", "depth", "children"];
 
-            function ek(e) {
-                kA.call(this, e)
+            function LA(e) {
+                lA.call(this, e)
             }
-            ek.Definition = {
+            LA.Definition = {
                 type: "Partition",
                 metadata: {
                     tree: !0,
                     modifies: !0
                 },
                 params: [{
                     name: "field",
@@ -16576,164 +16908,164 @@
                     array: !0,
                     length: 2
                 }, {
                     name: "as",
                     type: "string",
                     array: !0,
                     length: 4,
-                    default: ZA
+                    default: RA
                 }]
             };
-            var tk = (0, ke.inherits)(ek, kA);
-            tk.layout = function() {
+            var zA = (0, Ee.inherits)(LA, lA);
+            zA.layout = function() {
                 var e = 1,
                     t = 1,
                     n = 0,
                     r = !1;
 
                 function i(i) {
                     var a = i.height + 1;
                     return i.x0 = i.y0 = n, i.x1 = e, i.y1 = t / a, i.eachBefore(function(e, t) {
                         return function(r) {
-                            r.children && QA(r, r.x0, e * (r.depth + 1) / t, r.x1, e * (r.depth + 2) / t);
+                            r.children && PA(r, r.x0, e * (r.depth + 1) / t, r.x1, e * (r.depth + 2) / t);
                             var i = r.x0,
                                 a = r.y0,
                                 o = r.x1 - n,
                                 u = r.y1 - n;
                             o < i && (i = o = (i + o) / 2), u < a && (a = u = (a + u) / 2), r.x0 = i, r.y0 = a, r.x1 = o, r.y1 = u
                         }
-                    }(t, a)), r && i.eachBefore(JA), i
+                    }(t, a)), r && i.eachBefore(TA), i
                 }
                 return i.round = function(e) {
                     return arguments.length ? (r = !!e, i) : r
                 }, i.size = function(n) {
                     return arguments.length ? (e = +n[0], t = +n[1], i) : [e, t]
                 }, i.padding = function(e) {
                     return arguments.length ? (n = +e, i) : n
                 }, i
-            }, tk.params = ["size", "round", "padding"], tk.fields = ZA;
-            var nk = {
+            }, zA.params = ["size", "round", "padding"], zA.fields = RA;
+            var IA = {
                     depth: -1
                 },
-                rk = {};
+                jA = {};
 
-            function ik(e) {
+            function BA(e) {
                 return e.id
             }
 
-            function ak(e) {
+            function UA(e) {
                 return e.parentId
             }
 
-            function ok(e) {
-                Di.call(this, null, e)
+            function qA(e) {
+                Ci.call(this, null, e)
             }
 
-            function uk(e, t) {
+            function HA(e, t) {
                 return e.parent === t.parent ? 1 : 2
             }
 
-            function sk(e) {
+            function WA(e) {
                 var t = e.children;
                 return t ? t[0] : e.t
             }
 
-            function lk(e) {
+            function VA(e) {
                 var t = e.children;
                 return t ? t[t.length - 1] : e.t
             }
 
-            function ck(e, t, n) {
+            function GA(e, t, n) {
                 var r = n / (t.i - e.i);
                 t.c -= r, t.s += n, e.c += r, t.z += n, t.m += n
             }
 
-            function fk(e, t, n) {
+            function YA(e, t, n) {
                 return e.a.parent === t.parent ? e.a : n
             }
 
-            function dk(e, t) {
+            function XA(e, t) {
                 this._ = e, this.parent = null, this.children = null, this.A = null, this.a = this, this.z = 0, this.m = 0, this.c = 0, this.s = 0, this.t = null, this.i = t
             }
 
-            function hk(e, t) {
+            function $A(e, t) {
                 return e.parent === t.parent ? 1 : 2
             }
 
-            function pk(e, t) {
+            function KA(e, t) {
                 return e + t.x
             }
 
-            function gk(e, t) {
+            function JA(e, t) {
                 return Math.max(e, t.y)
             }
-            ok.Definition = {
+            qA.Definition = {
                 type: "Stratify",
                 metadata: {
                     treesource: !0
                 },
                 params: [{
                     name: "key",
                     type: "field",
                     required: !0
                 }, {
                     name: "parentKey",
                     type: "field",
                     required: !0
                 }]
-            }, (0, ke.inherits)(ok, Di).transform = function(e, t) {
-                t.source || (0, ke.error)("Stratify transform requires an upstream data source.");
+            }, (0, Ee.inherits)(qA, Ci).transform = function(e, t) {
+                t.source || (0, Ee.error)("Stratify transform requires an upstream data source.");
                 var n, r, i = e.modified(),
                     a = t.fork(t.ALL).materialize(t.SOURCE),
                     o = !this.value || i || t.changed(t.ADD_REM) || t.modified(e.key.fields) || t.modified(e.parentKey.fields);
                 return a.source = a.source.slice(), o && (n = function() {
-                    var e = ik,
-                        t = ak;
+                    var e = BA,
+                        t = UA;
 
                     function n(n) {
                         var r, i, a, o, u, s, l, c = n.length,
                             f = new Array(c),
                             d = {};
-                        for (i = 0; i < c; ++i) r = n[i], u = f[i] = new SA(r), null != (s = e(r, i, n)) && (s += "") && (d[l = "$" + (u.id = s)] = l in d ? rk : u);
+                        for (i = 0; i < c; ++i) r = n[i], u = f[i] = new oA(r), null != (s = e(r, i, n)) && (s += "") && (d[l = "$" + (u.id = s)] = l in d ? jA : u);
                         for (i = 0; i < c; ++i)
                             if (u = f[i], null != (s = t(n[i], i, n)) && (s += "")) {
                                 if (!(o = d["$" + s])) throw new Error("missing: " + s);
-                                if (o === rk) throw new Error("ambiguous: " + s);
+                                if (o === jA) throw new Error("ambiguous: " + s);
                                 o.children ? o.children.push(u) : o.children = [u], u.parent = o
                             } else {
                                 if (a) throw new Error("multiple roots");
                                 a = u
                             } if (!a) throw new Error("no root");
-                        if (a.parent = nk, a.eachBefore((function(e) {
+                        if (a.parent = IA, a.eachBefore((function(e) {
                                 e.depth = e.parent.depth + 1, --c
-                            })).eachBefore(wA), a.parent = null, c > 0) throw new Error("cycle");
+                            })).eachBefore(aA), a.parent = null, c > 0) throw new Error("cycle");
                         return a
                     }
                     return n.id = function(t) {
-                        return arguments.length ? (e = BA(t), n) : e
+                        return arguments.length ? (e = SA(t), n) : e
                     }, n.parentId = function(e) {
-                        return arguments.length ? (t = BA(e), n) : t
+                        return arguments.length ? (t = SA(e), n) : t
                     }, n
                 }().id(e.key).parentId(e.parentKey)(a.source), r = n.lookup = {}, n.each((function(t) {
                     r[e.key(t.data)] = t
                 })), this.value = n), a.source.root = this.value, a
-            }, dk.prototype = Object.create(SA.prototype);
-            var mk = {
+            }, XA.prototype = Object.create(oA.prototype);
+            var QA = {
                     tidy: function() {
-                        var e = uk,
+                        var e = HA,
                             t = 1,
                             n = 1,
                             r = null;
 
                         function i(i) {
                             var s = function(e) {
-                                for (var t, n, r, i, a, o = new dk(e, 0), u = [o]; t = u.pop();)
+                                for (var t, n, r, i, a, o = new XA(e, 0), u = [o]; t = u.pop();)
                                     if (r = t._.children)
-                                        for (t.children = new Array(a = r.length), i = a - 1; i >= 0; --i) u.push(n = t.children[i] = new dk(r[i], i)), n.parent = t;
-                                return (o.parent = new dk(null, 0)).children = [o], o
+                                        for (t.children = new Array(a = r.length), i = a - 1; i >= 0; --i) u.push(n = t.children[i] = new XA(r[i], i)), n.parent = t;
+                                return (o.parent = new XA(null, 0)).children = [o], o
                             }(i);
                             if (s.eachAfter(a), s.parent.m = -s.z, s.eachBefore(o), r) i.eachBefore(u);
                             else {
                                 var l = i,
                                     c = i,
                                     f = i;
                                 i.eachBefore((function(e) {
@@ -16759,16 +17091,16 @@
                                     for (var t, n = 0, r = 0, i = e.children, a = i.length; --a >= 0;)(t = i[a]).z += n, t.m += n, n += t.s + (r += t.c)
                                 }(t);
                                 var a = (n[0].z + n[n.length - 1].z) / 2;
                                 i ? (t.z = i.z + e(t._, i._), t.m = t.z - a) : t.z = a
                             } else i && (t.z = i.z + e(t._, i._));
                             t.parent.A = function(t, n, r) {
                                 if (n) {
-                                    for (var i, a = t, o = t, u = n, s = a.parent.children[0], l = a.m, c = o.m, f = u.m, d = s.m; u = lk(u), a = sk(a), u && a;) s = sk(s), (o = lk(o)).a = t, (i = u.z + f - a.z - l + e(u._, a._)) > 0 && (ck(fk(u, t, r), t, i), l += i, c += i), f += u.m, l += a.m, d += s.m, c += o.m;
-                                    u && !lk(o) && (o.t = u, o.m += f - c), a && !sk(s) && (s.t = a, s.m += l - d, r = t)
+                                    for (var i, a = t, o = t, u = n, s = a.parent.children[0], l = a.m, c = o.m, f = u.m, d = s.m; u = VA(u), a = WA(a), u && a;) s = WA(s), (o = VA(o)).a = t, (i = u.z + f - a.z - l + e(u._, a._)) > 0 && (GA(YA(u, t, r), t, i), l += i, c += i), f += u.m, l += a.m, d += s.m, c += o.m;
+                                    u && !VA(o) && (o.t = u, o.m += f - c), a && !WA(s) && (s.t = a, s.m += l - d, r = t)
                                 }
                                 return r
                             }(t, i, t.parent.A || r[0])
                         }
 
                         function o(e) {
                             e._.x = e.z + e.parent.m, e.m += e.parent.m
@@ -16782,27 +17114,27 @@
                         }, i.size = function(e) {
                             return arguments.length ? (r = !1, t = +e[0], n = +e[1], i) : r ? null : [t, n]
                         }, i.nodeSize = function(e) {
                             return arguments.length ? (r = !0, t = +e[0], n = +e[1], i) : r ? [t, n] : null
                         }, i
                     },
                     cluster: function() {
-                        var e = hk,
+                        var e = $A,
                             t = 1,
                             n = 1,
                             r = !1;
 
                         function i(i) {
                             var a, o = 0;
                             i.eachAfter((function(t) {
                                 var n = t.children;
                                 n ? (t.x = function(e) {
-                                    return e.reduce(pk, 0) / e.length
+                                    return e.reduce(KA, 0) / e.length
                                 }(n), t.y = function(e) {
-                                    return 1 + e.reduce(gk, 0)
+                                    return 1 + e.reduce(JA, 0)
                                 }(n)) : (t.x = a ? o += e(t, a) : 0, t.y = 0, a = t)
                             }));
                             var u = function(e) {
                                     for (var t; t = e.children;) e = t[0];
                                     return e
                                 }(i),
                                 s = function(e) {
@@ -16822,20 +17154,20 @@
                         }, i.size = function(e) {
                             return arguments.length ? (r = !1, t = +e[0], n = +e[1], i) : r ? null : [t, n]
                         }, i.nodeSize = function(e) {
                             return arguments.length ? (r = !0, t = +e[0], n = +e[1], i) : r ? [t, n] : null
                         }, i
                     }
                 },
-                vk = ["x", "y", "depth", "children"];
+                ZA = ["x", "y", "depth", "children"];
 
-            function yk(e) {
-                kA.call(this, e)
+            function ek(e) {
+                lA.call(this, e)
             }
-            yk.Definition = {
+            ek.Definition = {
                 type: "Tree",
                 metadata: {
                     tree: !0,
                     modifies: !0
                 },
                 params: [{
                     name: "field",
@@ -16859,46 +17191,46 @@
                     array: !0,
                     length: 2
                 }, {
                     name: "as",
                     type: "string",
                     array: !0,
                     length: 4,
-                    default: vk
+                    default: ZA
                 }]
             };
-            var bk = (0, ke.inherits)(yk, kA);
+            var tk = (0, Ee.inherits)(ek, lA);
 
-            function _k(e) {
-                Di.call(this, {}, e)
+            function nk(e) {
+                Ci.call(this, {}, e)
             }
 
-            function xk(e, t, n, r, i) {
+            function rk(e, t, n, r, i) {
                 for (var a, o = e.children, u = -1, s = o.length, l = e.value && (i - n) / e.value; ++u < s;)(a = o[u]).x0 = t, a.x1 = r, a.y0 = n, a.y1 = n += a.value * l
             }
-            bk.layout = function(e) {
+            tk.layout = function(e) {
                 var t = e || "tidy";
-                if (mk.hasOwnProperty(t)) return mk[t]();
-                (0, ke.error)("Unrecognized Tree layout method: " + t)
-            }, bk.params = ["size", "nodeSize", "separation"], bk.fields = vk, _k.Definition = {
+                if (QA.hasOwnProperty(t)) return QA[t]();
+                (0, Ee.error)("Unrecognized Tree layout method: " + t)
+            }, tk.params = ["size", "nodeSize", "separation"], tk.fields = ZA, nk.Definition = {
                 type: "TreeLinks",
                 metadata: {
                     tree: !0,
                     generates: !0,
                     changes: !0
                 },
                 params: [{
                     name: "key",
                     type: "field"
                 }]
-            }, (0, ke.inherits)(_k, Di).transform = function(e, t) {
-                t.source && t.source.root || (0, ke.error)("TreeLinks transform requires a backing tree data source.");
+            }, (0, Ee.inherits)(nk, Ci).transform = function(e, t) {
+                t.source && t.source.root || (0, Ee.error)("TreeLinks transform requires a backing tree data source.");
                 var n = t.source.root.lookup,
                     r = this.value,
-                    i = e.key || Ne,
+                    i = e.key || Ce,
                     a = {},
                     o = t.fork();
 
                 function u(e) {
                     var t = r[e];
                     t && (a[e] = 1, o.mod.push(t))
                 }
@@ -16906,29 +17238,29 @@
                     var t = i(e),
                         n = r[t];
                     n && (delete r[t], o.rem.push(n))
                 })), t.visit(t.ADD, (function(e) {
                     var t, u = i(e);
                     (t = function(e) {
                         var t;
-                        return e.parent && (t = e.parent.data) && null != Ne(t) && t
-                    }(n[u])) && (o.add.push(r[u] = Oe({
+                        return e.parent && (t = e.parent.data) && null != Ce(t) && t
+                    }(n[u])) && (o.add.push(r[u] = Ne({
                         source: t,
                         target: e
                     })), a[u] = 1)
                 })), t.visit(t.MOD, (function(e) {
                     var t = i(e),
                         r = n[t].children;
                     if (u(t), r)
                         for (var o = 0, s = r.length; o < s; ++o) a[t = i(r[o].data)] || u(t)
                 })), o
             };
-            var wk = (1 + Math.sqrt(5)) / 2;
+            var ik = (1 + Math.sqrt(5)) / 2;
 
-            function Sk(e, t, n, r, i, a) {
+            function ak(e, t, n, r, i, a) {
                 for (var o, u, s, l, c, f, d, h, p, g, m, v = [], y = t.children, b = 0, _ = 0, x = y.length, w = t.value; b < x;) {
                     s = i - n, l = a - r;
                     do {
                         c = y[_++].value
                     } while (!c && _ < x);
                     for (f = d = c, m = c * c * (g = Math.max(l / s, s / l) / (w * e)), p = Math.max(d / m, m / f); _ < x; ++_) {
                         if (c += u = y[_].value, u < f && (f = u), u > d && (d = u), m = c * c * g, (h = Math.max(d / m, m / f)) > p) {
@@ -16937,39 +17269,39 @@
                         }
                         p = h
                     }
                     v.push(o = {
                         value: c,
                         dice: s < l,
                         children: y.slice(b, _)
-                    }), o.dice ? QA(o, n, r, i, w ? r += l * c / w : a) : xk(o, n, r, w ? n += s * c / w : i, a), w -= c, b = _
+                    }), o.dice ? PA(o, n, r, i, w ? r += l * c / w : a) : rk(o, n, r, w ? n += s * c / w : i, a), w -= c, b = _
                 }
                 return v
             }
-            const Ek = function e(t) {
+            const ok = function e(t) {
                     function n(e, n, r, i, a) {
-                        Sk(t, e, n, r, i, a)
+                        ak(t, e, n, r, i, a)
                     }
                     return n.ratio = function(t) {
                         return e((t = +t) > 1 ? t : 1)
                     }, n
-                }(wk),
-                Ak = function e(t) {
+                }(ik),
+                uk = function e(t) {
                     function n(e, n, r, i, a) {
                         if ((o = e._squarify) && o.ratio === t)
                             for (var o, u, s, l, c, f = -1, d = o.length, h = e.value; ++f < d;) {
                                 for (s = (u = o[f]).children, l = u.value = 0, c = s.length; l < c; ++l) u.value += s[l].value;
-                                u.dice ? QA(u, n, r, i, r += (a - r) * u.value / h) : xk(u, n, r, n += (i - n) * u.value / h, a), h -= u.value
-                            } else e._squarify = o = Sk(t, e, n, r, i, a), o.ratio = t
+                                u.dice ? PA(u, n, r, i, r += (a - r) * u.value / h) : rk(u, n, r, n += (i - n) * u.value / h, a), h -= u.value
+                            } else e._squarify = o = ak(t, e, n, r, i, a), o.ratio = t
                     }
                     return n.ratio = function(t) {
                         return e((t = +t) > 1 ? t : 1)
                     }, n
-                }(wk);
-            var kk = {
+                }(ik);
+            var sk = {
                     binary: function(e, t, n, r, i) {
                         var a, o, u = e.children,
                             s = u.length,
                             l = new Array(s + 1);
                         for (l[0] = o = a = 0; a < s; ++a) l[a + 1] = o += u[a].value;
                         ! function e(t, n, r, i, a, o, s) {
                             if (t >= n - 1) {
@@ -16988,28 +17320,28 @@
                                 e(t, h, m, i, a, y, s), e(h, n, v, y, a, o, s)
                             } else {
                                 var b = (a * v + s * m) / r;
                                 e(t, h, m, i, a, o, b), e(h, n, v, i, b, o, s)
                             }
                         }(0, s, e.value, t, n, r, i)
                     },
-                    dice: QA,
-                    slice: xk,
+                    dice: PA,
+                    slice: rk,
                     slicedice: function(e, t, n, r, i) {
-                        (1 & e.depth ? xk : QA)(e, t, n, r, i)
+                        (1 & e.depth ? rk : PA)(e, t, n, r, i)
                     },
-                    squarify: Ek,
-                    resquarify: Ak
+                    squarify: ok,
+                    resquarify: uk
                 },
-                Mk = ["x0", "y0", "x1", "y1", "depth", "children"];
+                lk = ["x0", "y0", "x1", "y1", "depth", "children"];
 
-            function Dk(e) {
-                kA.call(this, e)
+            function ck(e) {
+                lA.call(this, e)
             }
-            Dk.Definition = {
+            ck.Definition = {
                 type: "Treemap",
                 metadata: {
                     tree: !0,
                     modifies: !0
                 },
                 params: [{
                     name: "field",
@@ -17064,74 +17396,74 @@
                     array: !0,
                     length: 2
                 }, {
                     name: "as",
                     type: "string",
                     array: !0,
                     length: 4,
-                    default: Mk
+                    default: lk
                 }]
             };
-            var Ck = (0, ke.inherits)(Dk, kA);
+            var fk = (0, Ee.inherits)(ck, lA);
 
-            function Fk(e) {
+            function dk(e) {
                 return function() {
                     return e
                 }
             }
 
-            function Nk(e) {
+            function hk(e) {
                 return e[0]
             }
 
-            function Tk(e) {
+            function pk(e) {
                 return e[1]
             }
 
-            function Ok() {
+            function gk() {
                 this._ = null
             }
 
-            function Pk(e) {
+            function mk(e) {
                 e.U = e.C = e.L = e.R = e.P = e.N = null
             }
 
-            function Rk(e, t) {
+            function vk(e, t) {
                 var n = t,
                     r = t.R,
                     i = n.U;
                 i ? i.L === n ? i.L = r : i.R = r : e._ = r, r.U = i, n.U = r, n.R = r.L, n.R && (n.R.U = n), r.L = n
             }
 
-            function Lk(e, t) {
+            function yk(e, t) {
                 var n = t,
                     r = t.L,
                     i = n.U;
                 i ? i.L === n ? i.L = r : i.R = r : e._ = r, r.U = i, n.U = r, n.L = r.R, n.L && (n.L.U = n), r.R = n
             }
 
-            function zk(e) {
+            function bk(e) {
                 for (; e.L;) e = e.L;
                 return e
             }
-            Ck.layout = function() {
+            fk.layout = function() {
                 var e = function() {
-                    var e = Ek,
+                    var e = ok,
                         t = !1,
                         n = 1,
                         r = 1,
                         i = [0],
-                        a = qA,
-                        o = qA,
-                        u = qA,
-                        s = qA,
-                        l = qA;
+                        a = EA,
+                        o = EA,
+                        u = EA,
+                        s = EA,
+                        l = EA;
 
                     function c(e) {
-                        return e.x0 = e.y0 = 0, e.x1 = n, e.y1 = r, e.eachBefore(f), i = [0], t && e.eachBefore(JA), e
+                        return e.x0 = e.y0 = 0, e.x1 = n, e.y1 = r, e.eachBefore(f), i = [0], t && e.eachBefore(TA), e
                     }
 
                     function f(t) {
                         var n = i[t.depth],
                             r = t.x0 + n,
                             c = t.y0 + n,
                             f = t.x1 - n,
@@ -17139,94 +17471,94 @@
                         f < r && (r = f = (r + f) / 2), d < c && (c = d = (c + d) / 2), t.x0 = r, t.y0 = c, t.x1 = f, t.y1 = d, t.children && (n = i[t.depth + 1] = a(t) / 2, r += l(t) - n, c += o(t) - n, (f -= u(t) - n) < r && (r = f = (r + f) / 2), (d -= s(t) - n) < c && (c = d = (c + d) / 2), e(t, r, c, f, d))
                     }
                     return c.round = function(e) {
                         return arguments.length ? (t = !!e, c) : t
                     }, c.size = function(e) {
                         return arguments.length ? (n = +e[0], r = +e[1], c) : [n, r]
                     }, c.tile = function(t) {
-                        return arguments.length ? (e = BA(t), c) : e
+                        return arguments.length ? (e = SA(t), c) : e
                     }, c.padding = function(e) {
                         return arguments.length ? c.paddingInner(e).paddingOuter(e) : c.paddingInner()
                     }, c.paddingInner = function(e) {
-                        return arguments.length ? (a = "function" == typeof e ? e : HA(+e), c) : a
+                        return arguments.length ? (a = "function" == typeof e ? e : AA(+e), c) : a
                     }, c.paddingOuter = function(e) {
                         return arguments.length ? c.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e) : c.paddingTop()
                     }, c.paddingTop = function(e) {
-                        return arguments.length ? (o = "function" == typeof e ? e : HA(+e), c) : o
+                        return arguments.length ? (o = "function" == typeof e ? e : AA(+e), c) : o
                     }, c.paddingRight = function(e) {
-                        return arguments.length ? (u = "function" == typeof e ? e : HA(+e), c) : u
+                        return arguments.length ? (u = "function" == typeof e ? e : AA(+e), c) : u
                     }, c.paddingBottom = function(e) {
-                        return arguments.length ? (s = "function" == typeof e ? e : HA(+e), c) : s
+                        return arguments.length ? (s = "function" == typeof e ? e : AA(+e), c) : s
                     }, c.paddingLeft = function(e) {
-                        return arguments.length ? (l = "function" == typeof e ? e : HA(+e), c) : l
+                        return arguments.length ? (l = "function" == typeof e ? e : AA(+e), c) : l
                     }, c
                 }();
                 return e.ratio = function(t) {
                     var n = e.tile();
                     n.ratio && e.tile(n.ratio(t))
                 }, e.method = function(t) {
-                    kk.hasOwnProperty(t) ? e.tile(kk[t]) : (0, ke.error)("Unrecognized Treemap layout method: " + t)
+                    sk.hasOwnProperty(t) ? e.tile(sk[t]) : (0, Ee.error)("Unrecognized Treemap layout method: " + t)
                 }, e
-            }, Ck.params = ["method", "ratio", "size", "round", "padding", "paddingInner", "paddingOuter", "paddingTop", "paddingRight", "paddingBottom", "paddingLeft"], Ck.fields = Mk, Ok.prototype = {
-                constructor: Ok,
+            }, fk.params = ["method", "ratio", "size", "round", "padding", "paddingInner", "paddingOuter", "paddingTop", "paddingRight", "paddingBottom", "paddingLeft"], fk.fields = lk, gk.prototype = {
+                constructor: gk,
                 insert: function(e, t) {
                     var n, r, i;
                     if (e) {
                         if (t.P = e, t.N = e.N, e.N && (e.N.P = t), e.N = t, e.R) {
                             for (e = e.R; e.L;) e = e.L;
                             e.L = t
                         } else e.R = t;
                         n = e
-                    } else this._ ? (e = zk(this._), t.P = null, t.N = e, e.P = e.L = t, n = e) : (t.P = t.N = null, this._ = t, n = null);
-                    for (t.L = t.R = null, t.U = n, t.C = !0, e = t; n && n.C;) n === (r = n.U).L ? (i = r.R) && i.C ? (n.C = i.C = !1, r.C = !0, e = r) : (e === n.R && (Rk(this, n), n = (e = n).U), n.C = !1, r.C = !0, Lk(this, r)) : (i = r.L) && i.C ? (n.C = i.C = !1, r.C = !0, e = r) : (e === n.L && (Lk(this, n), n = (e = n).U), n.C = !1, r.C = !0, Rk(this, r)), n = e.U;
+                    } else this._ ? (e = bk(this._), t.P = null, t.N = e, e.P = e.L = t, n = e) : (t.P = t.N = null, this._ = t, n = null);
+                    for (t.L = t.R = null, t.U = n, t.C = !0, e = t; n && n.C;) n === (r = n.U).L ? (i = r.R) && i.C ? (n.C = i.C = !1, r.C = !0, e = r) : (e === n.R && (vk(this, n), n = (e = n).U), n.C = !1, r.C = !0, yk(this, r)) : (i = r.L) && i.C ? (n.C = i.C = !1, r.C = !0, e = r) : (e === n.L && (yk(this, n), n = (e = n).U), n.C = !1, r.C = !0, vk(this, r)), n = e.U;
                     this._.C = !1
                 },
                 remove: function(e) {
                     e.N && (e.N.P = e.P), e.P && (e.P.N = e.N), e.N = e.P = null;
                     var t, n, r, i = e.U,
                         a = e.L,
                         o = e.R;
-                    if (n = a ? o ? zk(o) : a : o, i ? i.L === e ? i.L = n : i.R = n : this._ = n, a && o ? (r = n.C, n.C = e.C, n.L = a, a.U = n, n !== o ? (i = n.U, n.U = e.U, e = n.R, i.L = e, n.R = o, o.U = n) : (n.U = i, i = n, e = n.R)) : (r = e.C, e = n), e && (e.U = i), !r)
+                    if (n = a ? o ? bk(o) : a : o, i ? i.L === e ? i.L = n : i.R = n : this._ = n, a && o ? (r = n.C, n.C = e.C, n.L = a, a.U = n, n !== o ? (i = n.U, n.U = e.U, e = n.R, i.L = e, n.R = o, o.U = n) : (n.U = i, i = n, e = n.R)) : (r = e.C, e = n), e && (e.U = i), !r)
                         if (e && e.C) e.C = !1;
                         else {
                             do {
                                 if (e === this._) break;
                                 if (e === i.L) {
-                                    if ((t = i.R).C && (t.C = !1, i.C = !0, Rk(this, i), t = i.R), t.L && t.L.C || t.R && t.R.C) {
-                                        t.R && t.R.C || (t.L.C = !1, t.C = !0, Lk(this, t), t = i.R), t.C = i.C, i.C = t.R.C = !1, Rk(this, i), e = this._;
+                                    if ((t = i.R).C && (t.C = !1, i.C = !0, vk(this, i), t = i.R), t.L && t.L.C || t.R && t.R.C) {
+                                        t.R && t.R.C || (t.L.C = !1, t.C = !0, yk(this, t), t = i.R), t.C = i.C, i.C = t.R.C = !1, vk(this, i), e = this._;
                                         break
                                     }
-                                } else if ((t = i.L).C && (t.C = !1, i.C = !0, Lk(this, i), t = i.L), t.L && t.L.C || t.R && t.R.C) {
-                                    t.L && t.L.C || (t.R.C = !1, t.C = !0, Rk(this, t), t = i.L), t.C = i.C, i.C = t.L.C = !1, Lk(this, i), e = this._;
+                                } else if ((t = i.L).C && (t.C = !1, i.C = !0, yk(this, i), t = i.L), t.L && t.L.C || t.R && t.R.C) {
+                                    t.L && t.L.C || (t.R.C = !1, t.C = !0, vk(this, t), t = i.L), t.C = i.C, i.C = t.L.C = !1, yk(this, i), e = this._;
                                     break
                                 }
                                 t.C = !0, e = i, i = i.U
                             } while (!e.C);
                             e && (e.C = !1)
                         }
                 }
             };
-            const Ik = Ok;
+            const _k = gk;
 
-            function Uk(e, t, n, r) {
+            function xk(e, t, n, r) {
                 var i = [null, null],
-                    a = lM.push(i) - 1;
-                return i.left = e, i.right = t, n && Bk(i, e, t, n), r && Bk(i, t, e, r), uM[e.index].halfedges.push(a), uM[t.index].halfedges.push(a), i
+                    a = Vk.push(i) - 1;
+                return i.left = e, i.right = t, n && Sk(i, e, t, n), r && Sk(i, t, e, r), Hk[e.index].halfedges.push(a), Hk[t.index].halfedges.push(a), i
             }
 
-            function jk(e, t, n) {
+            function wk(e, t, n) {
                 var r = [t, n];
                 return r.left = e, r
             }
 
-            function Bk(e, t, n, r) {
+            function Sk(e, t, n, r) {
                 e[0] || e[1] ? e.left === n ? e[1] = r : e[0] = r : (e[0] = r, e.left = t, e.right = n)
             }
 
-            function qk(e, t, n, r, i) {
+            function Ek(e, t, n, r, i) {
                 var a, o = e[0],
                     u = e[1],
                     s = o[0],
                     l = o[1],
                     c = 0,
                     f = 1,
                     d = u[0] - s,
@@ -17266,15 +17598,15 @@
                                 return !(c > 0 || f < 1) || (c > 0 && (e[0] = [s + c * d, l + c * h]), f < 1 && (e[1] = [s + f * d, l + f * h]), !0)
                             }
                         }
                     }
                 }
             }
 
-            function Hk(e, t, n, r, i) {
+            function Ak(e, t, n, r, i) {
                 var a = e[1];
                 if (a) return !0;
                 var o, u, s = e[0],
                     l = e.left,
                     c = e.right,
                     f = l[0],
                     d = l[1],
@@ -17317,155 +17649,155 @@
                         if (s[0] < t) return
                     } else s = [r, o * r + u];
                     a = [t, o * t + u]
                 }
                 return e[0] = s, e[1] = a, !0
             }
 
-            function Wk(e, t) {
+            function kk(e, t) {
                 var n = e.site,
                     r = t.left,
                     i = t.right;
                 return n === i && (i = r, r = n), i ? Math.atan2(i[1] - r[1], i[0] - r[0]) : (n === r ? (r = t[1], i = t[0]) : (r = t[0], i = t[1]), Math.atan2(r[0] - i[0], i[1] - r[1]))
             }
 
-            function Yk(e, t) {
+            function Mk(e, t) {
                 return t[+(t.left !== e.site)]
             }
 
-            function Vk(e, t) {
+            function Dk(e, t) {
                 return t[+(t.left === e.site)]
             }
-            var Gk, Xk = [];
+            var Ck, Fk = [];
 
-            function $k() {
-                Pk(this), this.x = this.y = this.arc = this.site = this.cy = null
+            function Nk() {
+                mk(this), this.x = this.y = this.arc = this.site = this.cy = null
             }
 
-            function Kk(e) {
+            function Ok(e) {
                 var t = e.P,
                     n = e.N;
                 if (t && n) {
                     var r = t.site,
                         i = e.site,
                         a = n.site;
                     if (r !== a) {
                         var o = i[0],
                             u = i[1],
                             s = r[0] - o,
                             l = r[1] - u,
                             c = a[0] - o,
                             f = a[1] - u,
                             d = 2 * (s * f - l * c);
-                        if (!(d >= -fM)) {
+                        if (!(d >= -Yk)) {
                             var h = s * s + l * l,
                                 p = c * c + f * f,
                                 g = (f * h - l * p) / d,
                                 m = (s * p - c * h) / d,
-                                v = Xk.pop() || new $k;
+                                v = Fk.pop() || new Nk;
                             v.arc = e, v.site = i, v.x = g + o, v.y = (v.cy = m + u) + Math.sqrt(g * g + m * m), e.circle = v;
-                            for (var y = null, b = sM._; b;)
+                            for (var y = null, b = Wk._; b;)
                                 if (v.y < b.y || v.y === b.y && v.x <= b.x) {
                                     if (!b.L) {
                                         y = b.P;
                                         break
                                     }
                                     b = b.L
                                 } else {
                                     if (!b.R) {
                                         y = b;
                                         break
                                     }
                                     b = b.R
-                                } sM.insert(y, v), y || (Gk = v)
+                                } Wk.insert(y, v), y || (Ck = v)
                         }
                     }
                 }
             }
 
-            function Jk(e) {
+            function Tk(e) {
                 var t = e.circle;
-                t && (t.P || (Gk = t.N), sM.remove(t), Xk.push(t), Pk(t), e.circle = null)
+                t && (t.P || (Ck = t.N), Wk.remove(t), Fk.push(t), mk(t), e.circle = null)
             }
-            var Qk = [];
+            var Pk = [];
 
-            function Zk() {
-                Pk(this), this.edge = this.site = this.circle = null
+            function Rk() {
+                mk(this), this.edge = this.site = this.circle = null
             }
 
-            function eM(e) {
-                var t = Qk.pop() || new Zk;
+            function Lk(e) {
+                var t = Pk.pop() || new Rk;
                 return t.site = e, t
             }
 
-            function tM(e) {
-                Jk(e), oM.remove(e), Qk.push(e), Pk(e)
+            function zk(e) {
+                Tk(e), qk.remove(e), Pk.push(e), mk(e)
             }
 
-            function nM(e) {
+            function Ik(e) {
                 var t = e.circle,
                     n = t.x,
                     r = t.cy,
                     i = [n, r],
                     a = e.P,
                     o = e.N,
                     u = [e];
-                tM(e);
-                for (var s = a; s.circle && Math.abs(n - s.circle.x) < cM && Math.abs(r - s.circle.cy) < cM;) a = s.P, u.unshift(s), tM(s), s = a;
-                u.unshift(s), Jk(s);
-                for (var l = o; l.circle && Math.abs(n - l.circle.x) < cM && Math.abs(r - l.circle.cy) < cM;) o = l.N, u.push(l), tM(l), l = o;
-                u.push(l), Jk(l);
+                zk(e);
+                for (var s = a; s.circle && Math.abs(n - s.circle.x) < Gk && Math.abs(r - s.circle.cy) < Gk;) a = s.P, u.unshift(s), zk(s), s = a;
+                u.unshift(s), Tk(s);
+                for (var l = o; l.circle && Math.abs(n - l.circle.x) < Gk && Math.abs(r - l.circle.cy) < Gk;) o = l.N, u.push(l), zk(l), l = o;
+                u.push(l), Tk(l);
                 var c, f = u.length;
-                for (c = 1; c < f; ++c) l = u[c], s = u[c - 1], Bk(l.edge, s.site, l.site, i);
-                s = u[0], (l = u[f - 1]).edge = Uk(s.site, l.site, null, i), Kk(s), Kk(l)
+                for (c = 1; c < f; ++c) l = u[c], s = u[c - 1], Sk(l.edge, s.site, l.site, i);
+                s = u[0], (l = u[f - 1]).edge = xk(s.site, l.site, null, i), Ok(s), Ok(l)
             }
 
-            function rM(e) {
-                for (var t, n, r, i, a = e[0], o = e[1], u = oM._; u;)
-                    if ((r = iM(u, o) - a) > cM) u = u.L;
+            function jk(e) {
+                for (var t, n, r, i, a = e[0], o = e[1], u = qk._; u;)
+                    if ((r = Bk(u, o) - a) > Gk) u = u.L;
                     else {
-                        if (!((i = a - aM(u, o)) > cM)) {
-                            r > -cM ? (t = u.P, n = u) : i > -cM ? (t = u, n = u.N) : t = n = u;
+                        if (!((i = a - Uk(u, o)) > Gk)) {
+                            r > -Gk ? (t = u.P, n = u) : i > -Gk ? (t = u, n = u.N) : t = n = u;
                             break
                         }
                         if (!u.R) {
                             t = u;
                             break
                         }
                         u = u.R
                     }!
                 function(e) {
-                    uM[e.index] = {
+                    Hk[e.index] = {
                         site: e,
                         halfedges: []
                     }
                 }(e);
-                var s = eM(e);
-                if (oM.insert(t, s), t || n) {
-                    if (t === n) return Jk(t), n = eM(t.site), oM.insert(s, n), s.edge = n.edge = Uk(t.site, s.site), Kk(t), void Kk(n);
+                var s = Lk(e);
+                if (qk.insert(t, s), t || n) {
+                    if (t === n) return Tk(t), n = Lk(t.site), qk.insert(s, n), s.edge = n.edge = xk(t.site, s.site), Ok(t), void Ok(n);
                     if (n) {
-                        Jk(t), Jk(n);
+                        Tk(t), Tk(n);
                         var l = t.site,
                             c = l[0],
                             f = l[1],
                             d = e[0] - c,
                             h = e[1] - f,
                             p = n.site,
                             g = p[0] - c,
                             m = p[1] - f,
                             v = 2 * (d * m - h * g),
                             y = d * d + h * h,
                             b = g * g + m * m,
                             _ = [(m * y - h * b) / v + c, (d * b - g * y) / v + f];
-                        Bk(n.edge, l, p, _), s.edge = Uk(l, e, null, _), n.edge = Uk(e, p, null, _), Kk(t), Kk(n)
-                    } else s.edge = Uk(t.site, s.site)
+                        Sk(n.edge, l, p, _), s.edge = xk(l, e, null, _), n.edge = xk(e, p, null, _), Ok(t), Ok(n)
+                    } else s.edge = xk(t.site, s.site)
                 }
             }
 
-            function iM(e, t) {
+            function Bk(e, t) {
                 var n = e.site,
                     r = n[0],
                     i = n[1],
                     a = i - t;
                 if (!a) return r;
                 var o = e.P;
                 if (!o) return -1 / 0;
@@ -17475,88 +17807,88 @@
                 if (!l) return u;
                 var c = u - r,
                     f = 1 / a - 1 / l,
                     d = c / l;
                 return f ? (-d + Math.sqrt(d * d - 2 * f * (c * c / (-2 * l) - s + l / 2 + i - a / 2))) / f + r : (r + u) / 2
             }
 
-            function aM(e, t) {
+            function Uk(e, t) {
                 var n = e.N;
-                if (n) return iM(n, t);
+                if (n) return Bk(n, t);
                 var r = e.site;
                 return r[1] === t ? r[0] : 1 / 0
             }
-            var oM, uM, sM, lM, cM = 1e-6,
-                fM = 1e-12;
+            var qk, Hk, Wk, Vk, Gk = 1e-6,
+                Yk = 1e-12;
 
-            function dM(e, t) {
+            function Xk(e, t) {
                 return t[1] - e[1] || t[0] - e[0]
             }
 
-            function hM(e, t) {
-                var n, r, i, a = e.sort(dM).pop();
-                for (lM = [], uM = new Array(e.length), oM = new Ik, sM = new Ik;;)
-                    if (i = Gk, a && (!i || a[1] < i.y || a[1] === i.y && a[0] < i.x)) a[0] === n && a[1] === r || (rM(a), n = a[0], r = a[1]), a = e.pop();
+            function $k(e, t) {
+                var n, r, i, a = e.sort(Xk).pop();
+                for (Vk = [], Hk = new Array(e.length), qk = new _k, Wk = new _k;;)
+                    if (i = Ck, a && (!i || a[1] < i.y || a[1] === i.y && a[0] < i.x)) a[0] === n && a[1] === r || (jk(a), n = a[0], r = a[1]), a = e.pop();
                     else {
                         if (!i) break;
-                        nM(i.arc)
+                        Ik(i.arc)
                     } if (function() {
-                        for (var e, t, n, r, i = 0, a = uM.length; i < a; ++i)
-                            if ((e = uM[i]) && (r = (t = e.halfedges).length)) {
+                        for (var e, t, n, r, i = 0, a = Hk.length; i < a; ++i)
+                            if ((e = Hk[i]) && (r = (t = e.halfedges).length)) {
                                 var o = new Array(r),
                                     u = new Array(r);
-                                for (n = 0; n < r; ++n) o[n] = n, u[n] = Wk(e, lM[t[n]]);
+                                for (n = 0; n < r; ++n) o[n] = n, u[n] = kk(e, Vk[t[n]]);
                                 for (o.sort((function(e, t) {
                                         return u[t] - u[e]
                                     })), n = 0; n < r; ++n) u[n] = t[o[n]];
                                 for (n = 0; n < r; ++n) t[n] = u[n]
                             }
                     }(), t) {
                     var o = +t[0][0],
                         u = +t[0][1],
                         s = +t[1][0],
                         l = +t[1][1];
                     ! function(e, t, n, r) {
-                        for (var i, a = lM.length; a--;) Hk(i = lM[a], e, t, n, r) && qk(i, e, t, n, r) && (Math.abs(i[0][0] - i[1][0]) > cM || Math.abs(i[0][1] - i[1][1]) > cM) || delete lM[a]
+                        for (var i, a = Vk.length; a--;) Ak(i = Vk[a], e, t, n, r) && Ek(i, e, t, n, r) && (Math.abs(i[0][0] - i[1][0]) > Gk || Math.abs(i[0][1] - i[1][1]) > Gk) || delete Vk[a]
                     }(o, u, s, l),
                     function(e, t, n, r) {
-                        var i, a, o, u, s, l, c, f, d, h, p, g, m = uM.length,
+                        var i, a, o, u, s, l, c, f, d, h, p, g, m = Hk.length,
                             v = !0;
                         for (i = 0; i < m; ++i)
-                            if (a = uM[i]) {
-                                for (o = a.site, u = (s = a.halfedges).length; u--;) lM[s[u]] || s.splice(u, 1);
-                                for (u = 0, l = s.length; u < l;) p = (h = Vk(a, lM[s[u]]))[0], g = h[1], f = (c = Yk(a, lM[s[++u % l]]))[0], d = c[1], (Math.abs(p - f) > cM || Math.abs(g - d) > cM) && (s.splice(u, 0, lM.push(jk(o, h, Math.abs(p - e) < cM && r - g > cM ? [e, Math.abs(f - e) < cM ? d : r] : Math.abs(g - r) < cM && n - p > cM ? [Math.abs(d - r) < cM ? f : n, r] : Math.abs(p - n) < cM && g - t > cM ? [n, Math.abs(f - n) < cM ? d : t] : Math.abs(g - t) < cM && p - e > cM ? [Math.abs(d - t) < cM ? f : e, t] : null)) - 1), ++l);
+                            if (a = Hk[i]) {
+                                for (o = a.site, u = (s = a.halfedges).length; u--;) Vk[s[u]] || s.splice(u, 1);
+                                for (u = 0, l = s.length; u < l;) p = (h = Dk(a, Vk[s[u]]))[0], g = h[1], f = (c = Mk(a, Vk[s[++u % l]]))[0], d = c[1], (Math.abs(p - f) > Gk || Math.abs(g - d) > Gk) && (s.splice(u, 0, Vk.push(wk(o, h, Math.abs(p - e) < Gk && r - g > Gk ? [e, Math.abs(f - e) < Gk ? d : r] : Math.abs(g - r) < Gk && n - p > Gk ? [Math.abs(d - r) < Gk ? f : n, r] : Math.abs(p - n) < Gk && g - t > Gk ? [n, Math.abs(f - n) < Gk ? d : t] : Math.abs(g - t) < Gk && p - e > Gk ? [Math.abs(d - t) < Gk ? f : e, t] : null)) - 1), ++l);
                                 l && (v = !1)
                             } if (v) {
                             var y, b, _, x = 1 / 0;
-                            for (i = 0, v = null; i < m; ++i)(a = uM[i]) && (_ = (y = (o = a.site)[0] - e) * y + (b = o[1] - t) * b) < x && (x = _, v = a);
+                            for (i = 0, v = null; i < m; ++i)(a = Hk[i]) && (_ = (y = (o = a.site)[0] - e) * y + (b = o[1] - t) * b) < x && (x = _, v = a);
                             if (v) {
                                 var w = [e, t],
                                     S = [e, r],
                                     E = [n, r],
                                     A = [n, t];
-                                v.halfedges.push(lM.push(jk(o = v.site, w, S)) - 1, lM.push(jk(o, S, E)) - 1, lM.push(jk(o, E, A)) - 1, lM.push(jk(o, A, w)) - 1)
+                                v.halfedges.push(Vk.push(wk(o = v.site, w, S)) - 1, Vk.push(wk(o, S, E)) - 1, Vk.push(wk(o, E, A)) - 1, Vk.push(wk(o, A, w)) - 1)
                             }
                         }
-                        for (i = 0; i < m; ++i)(a = uM[i]) && (a.halfedges.length || delete uM[i])
+                        for (i = 0; i < m; ++i)(a = Hk[i]) && (a.halfedges.length || delete Hk[i])
                     }(o, u, s, l)
                 }
-                this.edges = lM, this.cells = uM, oM = sM = lM = uM = null
+                this.edges = Vk, this.cells = Hk, qk = Wk = Vk = Hk = null
             }
 
-            function pM(e) {
-                Di.call(this, null, e)
+            function Kk(e) {
+                Ci.call(this, null, e)
             }
-            hM.prototype = {
-                constructor: hM,
+            $k.prototype = {
+                constructor: $k,
                 polygons: function() {
                     var e = this.edges;
                     return this.cells.map((function(t) {
                         var n = t.halfedges.map((function(n) {
-                            return Yk(t, e[n])
+                            return Mk(t, e[n])
                         }));
                         return n.data = t.site.data, n
                     }))
                 },
                 triangles: function() {
                     var e = [],
                         t = this.edges;
@@ -17592,15 +17924,15 @@
                                     f = s * s + l * l;
                                 f < c && (c = f, o = u.index)
                             }
                         }))
                     } while (null !== o);
                     return a._found = r, null == n || c <= n * n ? i.site : null
                 }
-            }, pM.Definition = {
+            }, Kk.Definition = {
                 type: "Voronoi",
                 metadata: {
                     modifies: !0
                 },
                 params: [{
                     name: "x",
                     type: "field",
@@ -17630,136 +17962,137 @@
                     }
                 }, {
                     name: "as",
                     type: "string",
                     default: "path"
                 }]
             };
-            var gM = (0, ke.inherits)(pM, Di),
-                mM = [
+            var Jk = (0, Ee.inherits)(Kk, Ci),
+                Qk = [
                     [-1e5, -1e5],
                     [1e5, 1e5]
                 ];
-            gM.transform = function(e, t) {
+            Jk.transform = function(e, t) {
                 var n, r, i, a, o = e.as || "path",
                     u = t.source;
                 for (n = function() {
-                        var e = Nk,
-                            t = Tk,
+                        var e = hk,
+                            t = pk,
                             n = null;
 
                         function r(r) {
-                            return new hM(r.map((function(n, i) {
-                                var a = [Math.round(e(n, i, r) / cM) * cM, Math.round(t(n, i, r) / cM) * cM];
+                            return new $k(r.map((function(n, i) {
+                                var a = [Math.round(e(n, i, r) / Gk) * Gk, Math.round(t(n, i, r) / Gk) * Gk];
                                 return a.index = i, a.data = n, a
                             })), n)
                         }
                         return r.polygons = function(e) {
                             return r(e).polygons()
                         }, r.links = function(e) {
                             return r(e).links()
                         }, r.triangles = function(e) {
                             return r(e).triangles()
                         }, r.x = function(t) {
-                            return arguments.length ? (e = "function" == typeof t ? t : Fk(+t), r) : e
+                            return arguments.length ? (e = "function" == typeof t ? t : dk(+t), r) : e
                         }, r.y = function(e) {
-                            return arguments.length ? (t = "function" == typeof e ? e : Fk(+e), r) : t
+                            return arguments.length ? (t = "function" == typeof e ? e : dk(+e), r) : t
                         }, r.extent = function(e) {
                             return arguments.length ? (n = null == e ? null : [
                                 [+e[0][0], +e[0][1]],
                                 [+e[1][0], +e[1][1]]
                             ], r) : n && [
                                 [n[0][0], n[0][1]],
                                 [n[1][0], n[1][1]]
                             ]
                         }, r.size = function(e) {
                             return arguments.length ? (n = null == e ? null : [
                                 [0, 0],
                                 [+e[0], +e[1]]
                             ], r) : n && [n[1][0] - n[0][0], n[1][1] - n[0][1]]
                         }, r
-                    }().x(e.x).y(e.y), e.size ? n.size(e.size) : n.extent(e.extent || mM), this.value = n = n(u), r = n.polygons(), i = 0, a = u.length; i < a; ++i) u[i][o] = r[i] ? "M" + r[i].join("L") + "Z" : null;
+                    }().x(e.x).y(e.y), e.size ? n.size(e.size) : n.extent(e.extent || Qk), this.value = n = n(u), r = n.polygons(), i = 0, a = u.length; i < a; ++i) u[i][o] = r[i] ? "M" + r[i].join("L") + "Z" : null;
                 return t.reflow(e.modified()).modifies(o)
             };
-            var vM = Math.PI / 180,
-                yM = 2048;
+            var Zk = Math.PI / 180,
+                eM = 64,
+                tM = 2048;
 
-            function bM(e, t, n, r) {
+            function nM(e, t, n, r) {
                 if (!t.sprite) {
                     var i = e.context,
                         a = e.ratio;
-                    i.clearRect(0, 0, 2048 / a, yM / a);
+                    i.clearRect(0, 0, (eM << 5) / a, tM / a);
                     var o, u, s, l, c, f = 0,
                         d = 0,
                         h = 0,
                         p = n.length;
                     for (--r; ++r < p;) {
                         if (t = n[r], i.save(), i.font = t.style + " " + t.weight + " " + ~~((t.size + 1) / a) + "px " + t.font, o = i.measureText(t.text + "m").width * a, s = t.size << 1, t.rotate) {
-                            var g = Math.sin(t.rotate * vM),
-                                m = Math.cos(t.rotate * vM),
+                            var g = Math.sin(t.rotate * Zk),
+                                m = Math.cos(t.rotate * Zk),
                                 v = o * m,
                                 y = o * g,
                                 b = s * m,
                                 _ = s * g;
                             o = Math.max(Math.abs(v + _), Math.abs(v - _)) + 31 >> 5 << 5, s = ~~Math.max(Math.abs(y + b), Math.abs(y - b))
                         } else o = o + 31 >> 5 << 5;
-                        if (s > h && (h = s), f + o >= 2048 && (f = 0, d += h, h = 0), d + s >= yM) break;
-                        i.translate((f + (o >> 1)) / a, (d + (s >> 1)) / a), t.rotate && i.rotate(t.rotate * vM), i.fillText(t.text, 0, 0), t.padding && (i.lineWidth = 2 * t.padding, i.strokeText(t.text, 0, 0)), i.restore(), t.width = o, t.height = s, t.xoff = f, t.yoff = d, t.x1 = o >> 1, t.y1 = s >> 1, t.x0 = -t.x1, t.y0 = -t.y1, t.hasText = !0, f += o
+                        if (s > h && (h = s), f + o >= eM << 5 && (f = 0, d += h, h = 0), d + s >= tM) break;
+                        i.translate((f + (o >> 1)) / a, (d + (s >> 1)) / a), t.rotate && i.rotate(t.rotate * Zk), i.fillText(t.text, 0, 0), t.padding && (i.lineWidth = 2 * t.padding, i.strokeText(t.text, 0, 0)), i.restore(), t.width = o, t.height = s, t.xoff = f, t.yoff = d, t.x1 = o >> 1, t.y1 = s >> 1, t.x0 = -t.x1, t.y0 = -t.y1, t.hasText = !0, f += o
                     }
-                    for (var x = i.getImageData(0, 0, 2048 / a, yM / a).data, w = []; --r >= 0;)
+                    for (var x = i.getImageData(0, 0, (eM << 5) / a, tM / a).data, w = []; --r >= 0;)
                         if ((t = n[r]).hasText) {
                             for (u = (o = t.width) >> 5, s = t.y1 - t.y0, l = 0; l < s * u; l++) w[l] = 0;
                             if (null == (f = t.xoff)) return;
                             d = t.yoff;
                             var S = 0,
                                 E = -1;
                             for (c = 0; c < s; c++) {
                                 for (l = 0; l < o; l++) {
                                     var A = u * c + (l >> 5),
-                                        k = x[2048 * (d + c) + (f + l) << 2] ? 1 << 31 - l % 32 : 0;
+                                        k = x[(d + c) * (eM << 5) + (f + l) << 2] ? 1 << 31 - l % 32 : 0;
                                     w[A] |= k, S |= k
                                 }
                                 S ? E = c : (t.y0++, s--, c--, d++)
                             }
                             t.y1 = t.y0 + E, t.sprite = w.slice(0, (t.y1 - t.y0) * u)
                         }
                 }
             }
 
-            function _M(e, t, n) {
+            function rM(e, t, n) {
                 n >>= 5;
                 for (var r, i = e.sprite, a = e.width >> 5, o = e.x - (a << 4), u = 127 & o, s = 32 - u, l = e.y1 - e.y0, c = (e.y + e.y0) * n + (o >> 5), f = 0; f < l; f++) {
                     r = 0;
                     for (var d = 0; d <= a; d++)
                         if ((r << s | (d < a ? (r = i[f * a + d]) >>> u : 0)) & t[c + d]) return !0;
                     c += n
                 }
                 return !1
             }
 
-            function xM(e, t) {
+            function iM(e, t) {
                 var n = e[0],
                     r = e[1];
                 t.x + t.x0 < n.x && (n.x = t.x + t.x0), t.y + t.y0 < n.y && (n.y = t.y + t.y0), t.x + t.x1 > r.x && (r.x = t.x + t.x1), t.y + t.y1 > r.y && (r.y = t.y + t.y1)
             }
 
-            function wM(e) {
+            function aM(e) {
                 var t = e[0] / e[1];
                 return function(e) {
                     return [t * (e *= .1) * Math.cos(e), e * Math.sin(e)]
                 }
             }
 
-            function SM(e) {
+            function oM(e) {
                 return "function" == typeof e ? e : function() {
                     return e
                 }
             }
-            var EM = {
-                    archimedean: wM,
+            var uM = {
+                    archimedean: aM,
                     rectangular: function(e) {
                         var t = 4 * e[0] / e[1],
                             n = 0,
                             r = 0;
                         return function(e) {
                             var i = e < 0 ? -1 : 1;
                             switch (Math.sqrt(1 + 4 * i * e) - i & 3) {
@@ -17775,49 +18108,49 @@
                                 default:
                                     r -= 4
                             }
                             return [n, r]
                         }
                     }
                 },
-                AM = ["x", "y", "font", "fontSize", "fontStyle", "fontWeight", "angle"],
-                kM = ["text", "font", "rotate", "fontSize", "fontStyle", "fontWeight"];
+                sM = ["x", "y", "font", "fontSize", "fontStyle", "fontWeight", "angle"],
+                lM = ["text", "font", "rotate", "fontSize", "fontStyle", "fontWeight"];
 
-            function MM(e) {
-                Di.call(this, function() {
+            function cM(e) {
+                Ci.call(this, function() {
                     var e, t, n, r, i, a, o, u = [256, 256],
-                        s = wM,
+                        s = aM,
                         l = [],
                         c = Math.random,
                         f = {};
 
                     function d(e, t, n) {
                         for (var r, i, a, o = t.x, l = t.y, f = Math.sqrt(u[0] * u[0] + u[1] * u[1]), d = s(u), h = c() < .5 ? 1 : -1, p = -h;
                             (r = d(p += h)) && (i = ~~r[0], a = ~~r[1], !(Math.min(Math.abs(i), Math.abs(a)) >= f));)
-                            if (t.x = o + i, t.y = l + a, !(t.x + t.x0 < 0 || t.y + t.y0 < 0 || t.x + t.x1 > u[0] || t.y + t.y1 > u[1] || n && _M(t, e, u[0]) || n && (k = t, M = n, !(k.x + k.x1 > M[0].x && k.x + k.x0 < M[1].x && k.y + k.y1 > M[0].y && k.y + k.y0 < M[1].y)))) {
+                            if (t.x = o + i, t.y = l + a, !(t.x + t.x0 < 0 || t.y + t.y0 < 0 || t.x + t.x1 > u[0] || t.y + t.y1 > u[1] || n && rM(t, e, u[0]) || n && (k = t, M = n, !(k.x + k.x1 > M[0].x && k.x + k.x0 < M[1].x && k.y + k.y1 > M[0].y && k.y + k.y0 < M[1].y)))) {
                                 for (var g, m = t.sprite, v = t.width >> 5, y = u[0] >> 5, b = t.x - (v << 4), _ = 127 & b, x = 32 - _, w = t.y1 - t.y0, S = (t.y + t.y0) * y + (b >> 5), E = 0; E < w; E++) {
                                     g = 0;
                                     for (var A = 0; A <= v; A++) e[S + A] |= g << x | (A < v ? (g = m[E * v + A]) >>> _ : 0);
                                     S += y
                                 }
                                 return t.sprite = null, !0
                             } var k, M;
                         return !1
                     }
                     return f.layout = function() {
                         for (var s = function(e) {
                                 e.width = e.height = 1;
                                 var t = Math.sqrt(e.getContext("2d").getImageData(0, 0, 1, 1).data.length >> 2);
-                                e.width = 2048 / t, e.height = yM / t;
+                                e.width = (eM << 5) / t, e.height = tM / t;
                                 var n = e.getContext("2d");
                                 return n.fillStyle = n.strokeStyle = "red", n.textAlign = "center", {
                                     context: n,
                                     ratio: t
                                 }
-                            }(du()), f = function(e) {
+                            }(Cu()), f = function(e) {
                                 for (var t = [], n = -1; ++n < e;) t[n] = 0;
                                 return t
                             }((u[0] >> 5) * u[1]), h = null, p = l.length, g = -1, m = [], v = l.map((function(u) {
                                 return {
                                     text: e(u),
                                     font: t(u),
                                     style: r(u),
@@ -17835,67 +18168,67 @@
                                     sprite: null,
                                     datum: u
                                 }
                             })).sort((function(e, t) {
                                 return t.size - e.size
                             })); ++g < p;) {
                             var y = v[g];
-                            y.x = u[0] * (c() + .5) >> 1, y.y = u[1] * (c() + .5) >> 1, bM(s, y, v, g), y.hasText && d(f, y, h) && (m.push(y), h ? xM(h, y) : h = [{
+                            y.x = u[0] * (c() + .5) >> 1, y.y = u[1] * (c() + .5) >> 1, nM(s, y, v, g), y.hasText && d(f, y, h) && (m.push(y), h ? iM(h, y) : h = [{
                                 x: y.x + y.x0,
                                 y: y.y + y.y0
                             }, {
                                 x: y.x + y.x1,
                                 y: y.y + y.y1
                             }], y.x -= u[0] >> 1, y.y -= u[1] >> 1)
                         }
                         return m
                     }, f.words = function(e) {
                         return arguments.length ? (l = e, f) : l
                     }, f.size = function(e) {
                         return arguments.length ? (u = [+e[0], +e[1]], f) : u
                     }, f.font = function(e) {
-                        return arguments.length ? (t = SM(e), f) : t
+                        return arguments.length ? (t = oM(e), f) : t
                     }, f.fontStyle = function(e) {
-                        return arguments.length ? (r = SM(e), f) : r
+                        return arguments.length ? (r = oM(e), f) : r
                     }, f.fontWeight = function(e) {
-                        return arguments.length ? (i = SM(e), f) : i
+                        return arguments.length ? (i = oM(e), f) : i
                     }, f.rotate = function(e) {
-                        return arguments.length ? (a = SM(e), f) : a
+                        return arguments.length ? (a = oM(e), f) : a
                     }, f.text = function(t) {
-                        return arguments.length ? (e = SM(t), f) : e
+                        return arguments.length ? (e = oM(t), f) : e
                     }, f.spiral = function(e) {
-                        return arguments.length ? (s = EM[e] || e, f) : s
+                        return arguments.length ? (s = uM[e] || e, f) : s
                     }, f.fontSize = function(e) {
-                        return arguments.length ? (n = SM(e), f) : n
+                        return arguments.length ? (n = oM(e), f) : n
                     }, f.padding = function(e) {
-                        return arguments.length ? (o = SM(e), f) : o
+                        return arguments.length ? (o = oM(e), f) : o
                     }, f.random = function(e) {
                         return arguments.length ? (c = e, f) : c
                     }, f
                 }(), e)
             }
 
-            function DM(e) {
+            function fM(e) {
                 return new Uint8Array(e)
             }
 
-            function CM(e) {
+            function dM(e) {
                 return new Uint16Array(e)
             }
 
-            function FM(e) {
+            function hM(e) {
                 return new Uint32Array(e)
             }
 
-            function NM(e, t, n) {
-                var r = (t < 257 ? DM : t < 65537 ? CM : FM)(e);
+            function pM(e, t, n) {
+                var r = (t < 257 ? fM : t < 65537 ? dM : hM)(e);
                 return n && r.set(n), r
             }
 
-            function TM(e, t, n) {
+            function gM(e, t, n) {
                 var r = 1 << t;
                 return {
                     one: r,
                     zero: ~r,
                     range: n.slice(),
                     bisect: e.bisect,
                     index: e.index,
@@ -17910,150 +18243,37 @@
                         for (n = 0; n < u; ++n) t[o[n]] |= r;
                         for (n = s; n < l; ++n) t[o[n]] |= r;
                         return i
                     }
                 }
             }
 
-            function OM(e, t) {
-                return e < t ? -1 : e > t ? 1 : e >= t ? 0 : NaN
-            }
-            MM.Definition = {
-                type: "Wordcloud",
-                metadata: {
-                    modifies: !0
-                },
-                params: [{
-                    name: "size",
-                    type: "number",
-                    array: !0,
-                    length: 2
-                }, {
-                    name: "font",
-                    type: "string",
-                    expr: !0,
-                    default: "sans-serif"
-                }, {
-                    name: "fontStyle",
-                    type: "string",
-                    expr: !0,
-                    default: "normal"
-                }, {
-                    name: "fontWeight",
-                    type: "string",
-                    expr: !0,
-                    default: "normal"
-                }, {
-                    name: "fontSize",
-                    type: "number",
-                    expr: !0,
-                    default: 14
-                }, {
-                    name: "fontSizeRange",
-                    type: "number",
-                    array: "nullable",
-                    default: [10, 50]
-                }, {
-                    name: "rotate",
-                    type: "number",
-                    expr: !0,
-                    default: 0
-                }, {
-                    name: "text",
-                    type: "field"
-                }, {
-                    name: "spiral",
-                    type: "string",
-                    values: ["archimedean", "rectangular"]
-                }, {
-                    name: "padding",
-                    type: "number",
-                    expr: !0
-                }, {
-                    name: "as",
-                    type: "string",
-                    array: !0,
-                    length: 7,
-                    default: AM
-                }]
-            }, (0, ke.inherits)(MM, Di).transform = function(e, t) {
-                var n = e.modified();
-                if (n || t.changed(t.ADD_REM) || kM.some((function(n) {
-                        var r = e[n];
-                        return (0, ke.isFunction)(r) && t.modified(r.fields)
-                    }))) {
-                    var r, i = t.materialize(t.SOURCE).source,
-                        a = this.value,
-                        o = e.as || AM,
-                        u = e.fontSize || 14;
-                    if ((0, ke.isFunction)(u) ? r = e.fontSizeRange : u = (0, ke.constant)(u), r) {
-                        var s = u,
-                            l = qg("sqrt")().domain(function(e, t) {
-                                for (var n, r = 1 / 0, i = -1 / 0, a = 0, o = t.length; a < o; ++a)(n = e(t[a])) < r && (r = n), n > i && (i = n);
-                                return [r, i]
-                            }(s, i)).range(r);
-                        u = function(e) {
-                            return l(s(e))
-                        }
-                    }
-                    i.forEach((function(e) {
-                        e[o[0]] = NaN, e[o[1]] = NaN, e[o[3]] = 0
-                    }));
-                    for (var c, f, d = a.words(i).text(e.text).size(e.size || [500, 500]).padding(e.padding || 1).spiral(e.spiral || "archimedean").rotate(e.rotate || 0).font(e.font || "sans-serif").fontStyle(e.fontStyle || "normal").fontWeight(e.fontWeight || "normal").fontSize(u).random(ea).layout(), h = a.size(), p = h[0] >> 1, g = h[1] >> 1, m = 0, v = d.length; m < v; ++m)(f = (c = d[m]).datum)[o[0]] = c.x + p, f[o[1]] = c.y + g, f[o[2]] = c.font, f[o[3]] = c.size, f[o[4]] = c.style, f[o[5]] = c.weight, f[o[6]] = c.rotate;
-                    return t.reflow(n).modifies(o)
-                }
-            };
-            var PM = function(e) {
-                    var t;
-                    return 1 === e.length && (t = e, e = function(e, n) {
-                        return OM(t(e), n)
-                    }), {
-                        left: function(t, n, r, i) {
-                            for (null == r && (r = 0), null == i && (i = t.length); r < i;) {
-                                var a = r + i >>> 1;
-                                e(t[a], n) < 0 ? r = a + 1 : i = a
-                            }
-                            return r
-                        },
-                        right: function(t, n, r, i) {
-                            for (null == r && (r = 0), null == i && (i = t.length); r < i;) {
-                                var a = r + i >>> 1;
-                                e(t[a], n) > 0 ? i = a : r = a + 1
-                            }
-                            return r
-                        }
-                    }
-                }(OM),
-                RM = PM.right,
-                LM = PM.left,
-                zM = Array.prototype;
-
-            function IM() {
-                var e = FM(0),
+            function mM() {
+                var e = hM(0),
                     t = [],
                     n = 0;
                 return {
                     insert: function(r, i, a) {
                         if (!i.length) return [];
                         var o, u, s, l = n,
                             c = i.length,
                             f = Array(c),
-                            d = FM(c);
+                            d = hM(c);
                         for (s = 0; s < c; ++s) f[s] = r(i[s]), d[s] = s;
                         if (f = function(e, t) {
                                 return e.sort.call(t, (function(t, n) {
                                         var r = e[t],
                                             i = e[n];
                                         return r < i ? -1 : r > i ? 1 : 0
                                     })),
                                     function(e, t) {
                                         for (var n = t.length, r = new Array(n); n--;) r[n] = e[t[n]];
                                         return r
                                     }(e, t)
-                            }(f, d), l) o = t, u = e, t = Array(l + c), e = FM(l + c),
+                            }(f, d), l) o = t, u = e, t = Array(l + c), e = hM(l + c),
                             function(e, t, n, r, i, a, o, u, s) {
                                 var l, c = 0,
                                     f = 0;
                                 for (l = 0; c < r && f < o; ++l) t[c] < i[f] ? (u[l] = t[c], s[l] = n[c++]) : (u[l] = i[f], s[l] = a[f++] + e);
                                 for (; c < r; ++c, ++l) u[l] = t[c], s[l] = n[c];
                                 for (; f < o; ++f, ++l) u[l] = i[f], s[l] = a[f] + e
                             }(a, o, u, l, f, d, c, t, e);
@@ -18071,35 +18291,35 @@
                         var a, o, u, s = n;
                         for (o = 0; !i[e[o]] && o < s; ++o);
                         for (u = o; o < s; ++o) i[a = e[o]] || (e[u] = a, t[u] = t[o], ++u);
                         n = s - r
                     },
                     bisect: function(e, r) {
                         var i;
-                        return r ? i = r.length : (r = t, i = n), [LM(r, e[0], 0, i), RM(r, e[1], 0, i)]
+                        return r ? i = r.length : (r = t, i = n), [ho(r, e[0], 0, i), fo(r, e[1], 0, i)]
                     },
                     reindex: function(t) {
                         for (var r = 0, i = n; r < i; ++r) e[r] = t[e[r]]
                     },
                     index: function() {
                         return e
                     },
                     size: function() {
                         return n
                     }
                 }
             }
 
-            function UM(e) {
-                Di.call(this, function() {
+            function vM(e) {
+                Ci.call(this, function() {
                     var e = 8,
                         t = [],
-                        n = FM(0),
-                        r = NM(0, e),
-                        i = NM(0, e);
+                        n = hM(0),
+                        r = pM(0, e),
+                        i = pM(0, e);
                     return {
                         data: function() {
                             return t
                         },
                         seen: function() {
                             return n = function(e, t, n) {
                                 return e.length >= t ? e : ((n = n || new e.constructor(t)).set(e), n)
@@ -18134,20 +18354,104 @@
                         set: function(e, t) {
                             r[e] |= t
                         },
                         clear: function(e, t) {
                             r[e] &= ~t
                         },
                         resize: function(t, n) {
-                            (t > r.length || n > e) && (e = Math.max(n, e), r = NM(t, e, r), i = NM(t, e))
+                            (t > r.length || n > e) && (e = Math.max(n, e), r = pM(t, e, r), i = pM(t, e))
                         }
                     }
                 }(), e), this._indices = null, this._dims = null
             }
-            zM.slice, zM.map, Math.sqrt(50), Math.sqrt(10), Math.sqrt(2), UM.Definition = {
+            cM.Definition = {
+                type: "Wordcloud",
+                metadata: {
+                    modifies: !0
+                },
+                params: [{
+                    name: "size",
+                    type: "number",
+                    array: !0,
+                    length: 2
+                }, {
+                    name: "font",
+                    type: "string",
+                    expr: !0,
+                    default: "sans-serif"
+                }, {
+                    name: "fontStyle",
+                    type: "string",
+                    expr: !0,
+                    default: "normal"
+                }, {
+                    name: "fontWeight",
+                    type: "string",
+                    expr: !0,
+                    default: "normal"
+                }, {
+                    name: "fontSize",
+                    type: "number",
+                    expr: !0,
+                    default: 14
+                }, {
+                    name: "fontSizeRange",
+                    type: "number",
+                    array: "nullable",
+                    default: [10, 50]
+                }, {
+                    name: "rotate",
+                    type: "number",
+                    expr: !0,
+                    default: 0
+                }, {
+                    name: "text",
+                    type: "field"
+                }, {
+                    name: "spiral",
+                    type: "string",
+                    values: ["archimedean", "rectangular"]
+                }, {
+                    name: "padding",
+                    type: "number",
+                    expr: !0
+                }, {
+                    name: "as",
+                    type: "string",
+                    array: !0,
+                    length: 7,
+                    default: sM
+                }]
+            }, (0, Ee.inherits)(cM, Ci).transform = function(e, t) {
+                var n = e.modified();
+                if (n || t.changed(t.ADD_REM) || lM.some((function(n) {
+                        var r = e[n];
+                        return (0, Ee.isFunction)(r) && t.modified(r.fields)
+                    }))) {
+                    var r, i = t.materialize(t.SOURCE).source,
+                        a = this.value,
+                        o = e.as || sM,
+                        u = e.fontSize || 14;
+                    if ((0, Ee.isFunction)(u) ? r = e.fontSizeRange : u = (0, Ee.constant)(u), r) {
+                        var s = u,
+                            l = xg("sqrt")().domain(function(e, t) {
+                                for (var n, r = 1 / 0, i = -1 / 0, a = 0, o = t.length; a < o; ++a)(n = e(t[a])) < r && (r = n), n > i && (i = n);
+                                return [r, i]
+                            }(s, i)).range(r);
+                        u = function(e) {
+                            return l(s(e))
+                        }
+                    }
+                    i.forEach((function(e) {
+                        e[o[0]] = NaN, e[o[1]] = NaN, e[o[3]] = 0
+                    }));
+                    for (var c, f, d = a.words(i).text(e.text).size(e.size || [500, 500]).padding(e.padding || 1).spiral(e.spiral || "archimedean").rotate(e.rotate || 0).font(e.font || "sans-serif").fontStyle(e.fontStyle || "normal").fontWeight(e.fontWeight || "normal").fontSize(u).random(ta).layout(), h = a.size(), p = h[0] >> 1, g = h[1] >> 1, m = 0, v = d.length; m < v; ++m)(f = (c = d[m]).datum)[o[0]] = c.x + p, f[o[1]] = c.y + g, f[o[2]] = c.font, f[o[3]] = c.size, f[o[4]] = c.style, f[o[5]] = c.weight, f[o[6]] = c.rotate;
+                    return t.reflow(n).modifies(o)
+                }
+            }, vM.Definition = {
                 type: "CrossFilter",
                 metadata: {},
                 params: [{
                     name: "fields",
                     type: "field",
                     array: !0,
                     required: !0
@@ -18159,27 +18463,27 @@
                     content: {
                         type: "number",
                         array: !0,
                         length: 2
                     }
                 }]
             };
-            var jM = (0, ke.inherits)(UM, Di);
+            var yM = (0, Ee.inherits)(vM, Ci);
 
-            function BM(e) {
-                Di.call(this, null, e)
+            function bM(e) {
+                Ci.call(this, null, e)
             }
-            jM.transform = function(e, t) {
+            yM.transform = function(e, t) {
                 return this._dims ? e.modified("fields") || e.fields.some((function(e) {
                     return t.modified(e.fields)
                 })) ? this.reinit(e, t) : this.eval(e, t) : this.init(e, t)
-            }, jM.init = function(e, t) {
-                for (var n, r, i = e.fields, a = e.query, o = this._indices = {}, u = this._dims = [], s = a.length, l = 0; l < s; ++l) r = o[n = i[l].fname] || (o[n] = IM()), u.push(TM(r, l, a[l]));
+            }, yM.init = function(e, t) {
+                for (var n, r, i = e.fields, a = e.query, o = this._indices = {}, u = this._dims = [], s = a.length, l = 0; l < s; ++l) r = o[n = i[l].fname] || (o[n] = mM()), u.push(gM(r, l, a[l]));
                 return this.eval(e, t)
-            }, jM.reinit = function(e, t) {
+            }, yM.reinit = function(e, t) {
                 var n, r, i, a, o, u, s, l, c, f = t.materialize().fork(),
                     d = e.fields,
                     h = e.query,
                     p = this._indices,
                     g = this._dims,
                     m = this.value,
                     v = m.curr(),
@@ -18187,23 +18491,23 @@
                     b = m.all(),
                     _ = f.rem = f.add,
                     x = f.mod,
                     w = h.length,
                     S = {};
                 if (y.set(v), t.rem.length && (o = this.remove(e, t, f)), t.add.length && m.add(t.add), t.mod.length)
                     for (u = {}, s = 0, l = (a = t.mod).length; s < l; ++s) u[a[s]._index] = 1;
-                for (s = 0; s < w; ++s) c = d[s], (!g[s] || e.modified("fields", s) || t.modified(c.fields)) && ((n = S[i = c.fname]) || (p[i] = r = IM(), S[i] = n = r.insert(c, t.source, 0)), g[s] = TM(r, s, h[s]).onAdd(n, v));
+                for (s = 0; s < w; ++s) c = d[s], (!g[s] || e.modified("fields", s) || t.modified(c.fields)) && ((n = S[i = c.fname]) || (p[i] = r = mM(), S[i] = n = r.insert(c, t.source, 0)), g[s] = gM(r, s, h[s]).onAdd(n, v));
                 for (s = 0, l = m.data().length; s < l; ++s) o[s] || (y[s] !== v[s] ? _.push(s) : u[s] && v[s] !== b && x.push(s));
                 return m.mask = (1 << w) - 1, f
-            }, jM.eval = function(e, t) {
+            }, yM.eval = function(e, t) {
                 var n = t.materialize().fork(),
                     r = this._dims.length,
                     i = 0;
                 return t.rem.length && (this.remove(e, t, n), i |= (1 << r) - 1), e.modified("query") && !e.modified("fields") && (i |= this.update(e, t, n)), t.add.length && (this.insert(e, t, n), i |= (1 << r) - 1), t.mod.length && (this.modify(t, n), i |= (1 << r) - 1), this.value.mask = i, n
-            }, jM.insert = function(e, t, n) {
+            }, yM.insert = function(e, t, n) {
                 var r, i, a, o = t.add,
                     u = this.value,
                     s = this._dims,
                     l = this._indices,
                     c = e.fields,
                     f = {},
                     d = n.add,
@@ -18212,52 +18516,52 @@
                     g = s.length;
                 u.resize(p, g), u.add(o);
                 var m = u.curr(),
                     v = u.prev(),
                     y = u.all();
                 for (r = 0; r < g; ++r) a = f[i = c[r].fname] || (f[i] = l[i].insert(c[r], o, h)), s[r].onAdd(a, m);
                 for (; h < p; ++h) v[h] = y, m[h] !== y && d.push(h)
-            }, jM.modify = function(e, t) {
+            }, yM.modify = function(e, t) {
                 var n, r, i, a = t.mod,
                     o = this.value,
                     u = o.curr(),
                     s = o.all(),
                     l = e.mod;
                 for (n = 0, r = l.length; n < r; ++n) u[i = l[n]._index] !== s && a.push(i)
-            }, jM.remove = function(e, t, n) {
+            }, yM.remove = function(e, t, n) {
                 var r, i, a, o, u = this._indices,
                     s = this.value,
                     l = s.curr(),
                     c = s.prev(),
                     f = s.all(),
                     d = {},
                     h = n.rem,
                     p = t.rem;
                 for (r = 0, i = p.length; r < i; ++r) d[a = p[r]._index] = 1, c[a] = o = l[a], l[a] = f, o !== f && h.push(a);
                 for (a in u) u[a].remove(i, d);
                 return this.reindex(t, i, d), d
-            }, jM.reindex = function(e, t, n) {
+            }, yM.reindex = function(e, t, n) {
                 var r = this._indices,
                     i = this.value;
                 e.runAfter((function() {
                     var e = i.remove(t, n);
                     for (var a in r) r[a].reindex(e)
                 }))
-            }, jM.update = function(e, t, n) {
+            }, yM.update = function(e, t, n) {
                 var r, i, a = this._dims,
                     o = e.query,
                     u = t.stamp,
                     s = a.length,
                     l = 0;
                 for (n.filters = 0, i = 0; i < s; ++i) e.modified("query", i) && (r = i, ++l);
                 if (1 === l) l = a[r].one, this.incrementOne(a[r], o[r], n.add, n.rem);
                 else
                     for (i = 0, l = 0; i < s; ++i) e.modified("query", i) && (l |= a[i].one, this.incrementAll(a[i], o[i], u, n.add), n.rem = n.add);
                 return l
-            }, jM.incrementAll = function(e, t, n, r) {
+            }, yM.incrementAll = function(e, t, n, r) {
                 var i, a, o, u = this.value,
                     s = u.seen(),
                     l = u.curr(),
                     c = u.prev(),
                     f = e.index(),
                     d = e.bisect(e.range),
                     h = e.bisect(t),
@@ -18271,15 +18575,15 @@
                 else if (p > m)
                     for (i = m, a = Math.min(p, v); i < a; ++i) s[o = f[i]] !== n && (c[o] = l[o], s[o] = n, r.push(o)), l[o] ^= y;
                 if (g > v)
                     for (i = Math.max(p, v), a = g; i < a; ++i) s[o = f[i]] !== n && (c[o] = l[o], s[o] = n, r.push(o)), l[o] ^= y;
                 else if (g < v)
                     for (i = Math.max(m, g), a = v; i < a; ++i) s[o = f[i]] !== n && (c[o] = l[o], s[o] = n, r.push(o)), l[o] ^= y;
                 e.range = t.slice()
-            }, jM.incrementOne = function(e, t, n, r) {
+            }, yM.incrementOne = function(e, t, n, r) {
                 var i, a, o, u = this.value.curr(),
                     s = e.index(),
                     l = e.bisect(e.range),
                     c = e.bisect(t),
                     f = c[0],
                     d = c[1],
                     h = l[0],
@@ -18290,29 +18594,29 @@
                 else if (f > h)
                     for (i = h, a = Math.min(f, p); i < a; ++i) u[o = s[i]] ^= g, r.push(o);
                 if (d > p)
                     for (i = Math.max(f, p), a = d; i < a; ++i) u[o = s[i]] ^= g, n.push(o);
                 else if (d < p)
                     for (i = Math.max(h, d), a = p; i < a; ++i) u[o = s[i]] ^= g, r.push(o);
                 e.range = t.slice()
-            }, BM.Definition = {
+            }, bM.Definition = {
                 type: "ResolveFilter",
                 metadata: {},
                 params: [{
                     name: "ignore",
                     type: "number",
                     required: !0,
                     description: "A bit mask indicating which filters to ignore."
                 }, {
                     name: "filter",
                     type: "object",
                     required: !0,
                     description: "Per-tuple filter bitmaps from a CrossFilter transform."
                 }]
-            }, (0, ke.inherits)(BM, Di).transform = function(e, t) {
+            }, (0, Ee.inherits)(bM, Ci).transform = function(e, t) {
                 var n = ~(e.ignore || 0),
                     r = e.filter,
                     i = r.mask;
                 if (0 == (i & n)) return t.StopPropagation;
                 var a = t.fork(t.ALL),
                     o = r.data(),
                     u = r.curr(),
@@ -18328,240 +18632,213 @@
                     return !t || t ^ t ^ s[e] & n ? null : o[e]
                 }))) : (a.filter(a.ADD, l), a.filter(a.REM, (function(e) {
                     return (u[e] & n) === i ? o[e] : null
                 }))), a.filter(a.SOURCE, (function(e) {
                     return l(e._index)
                 }))
             };
-            const qM = {
+            const _M = {
                 i8: "3.3.1"
             };
-            var HM = "default";
+            var xM = "default";
 
-            function WM(e, t) {
+            function wM(e, t) {
                 var n = e._runtime.data;
-                return n.hasOwnProperty(t) || (0, ke.error)("Unrecognized data set: " + t), n[t]
+                return n.hasOwnProperty(t) || (0, Ee.error)("Unrecognized data set: " + t), n[t]
             }
 
-            function YM(e, t) {
-                ze(t) || (0, ke.error)("Second argument to changes must be a changeset.");
-                var n = WM(this, e);
+            function SM(e, t) {
+                Re(t) || (0, Ee.error)("Second argument to changes must be a changeset.");
+                var n = wM(this, e);
                 return n.modified = !0, this.pulse(n.input, t)
             }
 
-            function VM(e) {
+            function EM(e) {
                 var t = e.padding();
                 return Math.max(0, e._viewWidth + t.left + t.right)
             }
 
-            function GM(e) {
+            function AM(e) {
                 var t = e.padding();
                 return Math.max(0, e._viewHeight + t.top + t.bottom)
             }
 
-            function XM(e) {
+            function kM(e) {
                 var t = e.padding(),
                     n = e._origin;
                 return [t.left + n[0], t.top + n[1]]
             }
-            var $M = "view";
+            var MM = "view";
 
-            function KM(e) {
+            function DM(e) {
                 return e.item
             }
 
-            function JM(e) {
+            function CM(e) {
                 var t = e.item.mark.source;
                 return t.source || t
             }
 
-            function QM(e) {
+            function FM(e) {
                 return function(t, n) {
                     return n.vega.view().changeset().encode(n.item, e)
                 }
             }
 
-            function ZM(e, t, n) {
+            function NM(e, t, n) {
                 var r = document.createElement(e);
                 for (var i in t) r.setAttribute(i, t[i]);
                 return null != n && (r.textContent = n), r
             }
+            var OM = "vega-bind-radio",
+                TM = "vega-option-";
 
-            function eD(e, t) {
-                return e < t ? -1 : e > t ? 1 : e >= t ? 0 : NaN
-            }
-            var tD = function(e) {
-                var t;
-                return 1 === e.length && (t = e, e = function(e, n) {
-                    return eD(t(e), n)
-                }), {
-                    left: function(t, n, r, i) {
-                        for (null == r && (r = 0), null == i && (i = t.length); r < i;) {
-                            var a = r + i >>> 1;
-                            e(t[a], n) < 0 ? r = a + 1 : i = a
-                        }
-                        return r
-                    },
-                    right: function(t, n, r, i) {
-                        for (null == r && (r = 0), null == i && (i = t.length); r < i;) {
-                            var a = r + i >>> 1;
-                            e(t[a], n) > 0 ? i = a : r = a + 1
-                        }
-                        return r
-                    }
-                }
-            }(eD);
-            tD.right, tD.left;
-            var nD = Array.prototype,
-                rD = (nD.slice, nD.map, Math.sqrt(50)),
-                iD = Math.sqrt(10),
-                aD = Math.sqrt(2);
-
-            function oD(e, t, n, r) {
-                var i = ZM("input");
+            function PM(e, t, n, r) {
+                var i = NM("input");
                 for (var a in n) "signal" !== a && "element" !== a && i.setAttribute("input" === a ? "type" : a, n[a]);
                 i.setAttribute("name", n.signal), i.value = r, t.appendChild(i), i.addEventListener("input", (function() {
                     e.update(i.value)
                 })), e.elements = [i], e.set = function(e) {
                     i.value = e
                 }
             }
 
-            function uD(e, t, n, r) {
+            function RM(e, t, n, r) {
                 var i = {
                     type: "checkbox",
                     name: n.signal
                 };
                 r && (i.checked = !0);
-                var a = ZM("input", i);
+                var a = NM("input", i);
                 t.appendChild(a), a.addEventListener("change", (function() {
                     e.update(a.checked)
                 })), e.elements = [a], e.set = function(e) {
                     a.checked = !!e || null
                 }
             }
 
-            function sD(e, t, n, r) {
-                var i = ZM("select", {
+            function LM(e, t, n, r) {
+                var i = NM("select", {
                     name: n.signal
                 });
                 n.options.forEach((function(e) {
                     var t = {
                         value: e
                     };
-                    fD(e, r) && (t.selected = !0), i.appendChild(ZM("option", t, e + ""))
+                    jM(e, r) && (t.selected = !0), i.appendChild(NM("option", t, e + ""))
                 })), t.appendChild(i), i.addEventListener("change", (function() {
                     e.update(n.options[i.selectedIndex])
                 })), e.elements = [i], e.set = function(e) {
                     for (var t = 0, r = n.options.length; t < r; ++t)
-                        if (fD(n.options[t], e)) return void(i.selectedIndex = t)
+                        if (jM(n.options[t], e)) return void(i.selectedIndex = t)
                 }
             }
 
-            function lD(e, t, n, r) {
-                var i = ZM("span", {
-                    class: "vega-bind-radio"
+            function zM(e, t, n, r) {
+                var i = NM("span", {
+                    class: OM
                 });
                 t.appendChild(i), e.elements = n.options.map((function(t) {
-                    var a = "vega-option-" + n.signal + "-" + t,
+                    var a = TM + n.signal + "-" + t,
                         o = {
                             id: a,
                             type: "radio",
                             name: n.signal,
                             value: t
                         };
-                    fD(t, r) && (o.checked = !0);
-                    var u = ZM("input", o);
+                    jM(t, r) && (o.checked = !0);
+                    var u = NM("input", o);
                     return u.addEventListener("change", (function() {
                         e.update(t)
-                    })), i.appendChild(u), i.appendChild(ZM("label", {
+                    })), i.appendChild(u), i.appendChild(NM("label", {
                         for: a
                     }, t + "")), u
                 })), e.set = function(t) {
-                    for (var n = e.elements, r = 0, i = n.length; r < i; ++r) fD(n[r].value, t) && (n[r].checked = !0)
+                    for (var n = e.elements, r = 0, i = n.length; r < i; ++r) jM(n[r].value, t) && (n[r].checked = !0)
                 }
             }
 
-            function cD(e, t, n, r) {
+            function IM(e, t, n, r) {
                 r = void 0 !== r ? r : (+n.max + +n.min) / 2;
-                var i, a, o, u, s, l = n.min || Math.min(0, +r) || 0,
-                    c = n.max || Math.max(100, +r) || 100,
-                    f = n.step || (i = l, a = c, o = Math.abs(a - i) / Math.max(0, 100), u = Math.pow(10, Math.floor(Math.log(o) / Math.LN10)), (s = o / u) >= rD ? u *= 10 : s >= iD ? u *= 5 : s >= aD && (u *= 2), a < i ? -u : u),
-                    d = ZM("input", {
+                var i = n.min || Math.min(0, +r) || 0,
+                    a = n.max || Math.max(100, +r) || 100,
+                    o = n.step || wo(i, a, 100),
+                    u = NM("input", {
                         type: "range",
                         name: n.signal,
-                        min: l,
-                        max: c,
-                        step: f
+                        min: i,
+                        max: a,
+                        step: o
                     });
-                d.value = r;
-                var h = ZM("label", {}, +r);
+                u.value = r;
+                var s = NM("label", {}, +r);
 
-                function p() {
-                    h.textContent = d.value, e.update(+d.value)
+                function l() {
+                    s.textContent = u.value, e.update(+u.value)
                 }
-                t.appendChild(d), t.appendChild(h), d.addEventListener("input", p), d.addEventListener("change", p), e.elements = [d], e.set = function(e) {
-                    d.value = e, h.textContent = e
+                t.appendChild(u), t.appendChild(s), u.addEventListener("input", l), u.addEventListener("change", l), e.elements = [u], e.set = function(e) {
+                    u.value = e, s.textContent = e
                 }
             }
 
-            function fD(e, t) {
+            function jM(e, t) {
                 return e === t || e + "" == t + ""
             }
 
-            function dD(e, t, n, r, i) {
-                return (t = t || new r(e.loader())).initialize(n, VM(e), GM(e), XM(e), i).background(e._background)
+            function BM(e, t, n, r, i) {
+                return (t = t || new r(e.loader())).initialize(n, EM(e), AM(e), kM(e), i).background(e._background)
             }
 
-            function hD(e, t) {
+            function UM(e, t) {
                 if ("string" == typeof t) {
                     if ("undefined" == typeof document) return e.error("DOM document instance not found."), null;
                     if (!(t = document.querySelector(t))) return e.error("Signal bind element not found: " + t), null
                 }
                 if (t) try {
                     t.innerHTML = ""
                 } catch (n) {
                     t = null, e.error(n)
                 }
                 return t
             }
 
-            function pD(e, t, n) {
-                var r = Rf(t),
+            function qM(e, t, n) {
+                var r = Zf(t),
                     i = r && r.headless;
                 return i ? e.runAsync().then((function() {
-                    return dD(e, null, null, i, n).renderAsync(e._scenegraph.root)
+                    return BM(e, null, null, i, n).renderAsync(e._scenegraph.root)
                 })) : Promise.reject("Unrecognized renderer type: " + t)
             }
 
-            function gD(e) {
+            function HM(e) {
                 return +e || 0
             }
-            var mD = ["value", "update", "react", "bind"];
+            var WM = "outer",
+                VM = ["value", "update", "react", "bind"];
 
-            function vD(e, t) {
-                (0, ke.error)(e + ' for "outer" push: ' + (0, ke.stringValue)(t))
+            function GM(e, t) {
+                (0, Ee.error)(e + ' for "outer" push: ' + (0, Ee.stringValue)(t))
             }
 
-            function yD(e, t) {
+            function YM(e, t) {
                 var n = e.name;
-                if ("outer" === e.push) t.signals[n] || vD("No prior signal definition", n), mD.forEach((function(t) {
-                    void 0 !== e[t] && vD("Invalid property ", t)
+                if (e.push === WM) t.signals[n] || GM("No prior signal definition", n), VM.forEach((function(t) {
+                    void 0 !== e[t] && GM("Invalid property ", t)
                 }));
                 else {
                     var r = t.addSignal(n, e.value);
                     !1 === e.react && (r.react = !1), e.bind && t.addBinding(n, e.bind)
                 }
             }
 
-            function bD(e) {
+            function XM(e) {
                 this.type = e
             }
-            var _D, xD, wD, SD, ED;
-            bD.prototype.visit = function(e) {
+            var $M, KM, JM, QM, ZM;
+            XM.prototype.visit = function(e) {
                 let t, n, r;
                 if (e(this)) return 1;
                 for (t = function(e) {
                         switch (e.type) {
                             case "ArrayExpression":
                                 return e.elements;
                             case "BinaryExpression":
@@ -18580,57 +18857,82 @@
                             case "UnaryExpression":
                                 return [e.argument];
                             default:
                                 return []
                         }
                     }(this), n = 0, r = t.length; n < r; ++n)
                     if (t[n].visit(e)) return 1
-            }, (_D = {})[1] = "Boolean", _D[2] = "<end>", _D[3] = "Identifier", _D[4] = "Keyword", _D[5] = "Null", _D[6] = "Numeric", _D[7] = "Punctuator", _D[8] = "String", _D[9] = "RegularExpression";
-            var AD = "Identifier",
-                kD = "Unexpected token %0",
-                MD = "Invalid regular expression",
-                DD = "Invalid regular expression: missing /",
-                CD = "Octal literals are not allowed in strict mode.",
-                FD = "ILLEGAL",
-                ND = "Disabled.",
-                TD = new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),
+            };
+            var eD = 1,
+                tD = 2,
+                nD = 3,
+                rD = 4,
+                iD = 5,
+                aD = 6,
+                oD = 7,
+                uD = 8;
+            ($M = {})[eD] = "Boolean", $M[tD] = "<end>", $M[nD] = "Identifier", $M[rD] = "Keyword", $M[iD] = "Null", $M[aD] = "Numeric", $M[oD] = "Punctuator", $M[uD] = "String", $M[9] = "RegularExpression";
+            var sD = "ArrayExpression",
+                lD = "BinaryExpression",
+                cD = "CallExpression",
+                fD = "ConditionalExpression",
+                dD = "Identifier",
+                hD = "Literal",
+                pD = "LogicalExpression",
+                gD = "MemberExpression",
+                mD = "ObjectExpression",
+                vD = "Property",
+                yD = "UnaryExpression",
+                bD = "Unexpected token %0",
+                _D = "Unexpected number",
+                xD = "Unexpected string",
+                wD = "Unexpected identifier",
+                SD = "Unexpected reserved word",
+                ED = "Unexpected end of input",
+                AD = "Invalid regular expression",
+                kD = "Invalid regular expression: missing /",
+                MD = "Octal literals are not allowed in strict mode.",
+                DD = "Duplicate data property in object literal not allowed in strict mode",
+                CD = "ILLEGAL",
+                FD = "Disabled.",
+                ND = new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),
                 OD = new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");
 
-            function PD(e, t) {
+            function TD(e, t) {
                 if (!e) throw new Error("ASSERT: " + t)
             }
 
-            function RD(e) {
+            function PD(e) {
                 return e >= 48 && e <= 57
             }
 
-            function LD(e) {
+            function RD(e) {
                 return "0123456789abcdefABCDEF".indexOf(e) >= 0
             }
 
-            function zD(e) {
+            function LD(e) {
                 return "01234567".indexOf(e) >= 0
             }
 
-            function ID(e) {
+            function zD(e) {
                 return 32 === e || 9 === e || 11 === e || 12 === e || 160 === e || e >= 5760 && [5760, 6158, 8192, 8193, 8194, 8195, 8196, 8197, 8198, 8199, 8200, 8201, 8202, 8239, 8287, 12288, 65279].indexOf(e) >= 0
             }
 
-            function UD(e) {
+            function ID(e) {
                 return 10 === e || 13 === e || 8232 === e || 8233 === e
             }
 
             function jD(e) {
-                return 36 === e || 95 === e || e >= 65 && e <= 90 || e >= 97 && e <= 122 || 92 === e || e >= 128 && TD.test(String.fromCharCode(e))
+                return 36 === e || 95 === e || e >= 65 && e <= 90 || e >= 97 && e <= 122 || 92 === e || e >= 128 && ND.test(String.fromCharCode(e))
             }
 
             function BD(e) {
                 return 36 === e || 95 === e || e >= 65 && e <= 90 || e >= 97 && e <= 122 || e >= 48 && e <= 57 || 92 === e || e >= 128 && OD.test(String.fromCharCode(e))
             }
-            var qD = {
+            var UD = {
                 if: 1,
                 in: 1,
                 do: 1,
                 var: 1,
                 for: 1,
                 new: 1,
                 try: 1,
@@ -18667,188 +18969,188 @@
                 debugger: 1,
                 interface: 1,
                 protected: 1,
                 instanceof: 1,
                 implements: 1
             };
 
-            function HD() {
-                for (var e; wD < SD && (ID(e = xD.charCodeAt(wD)) || UD(e));) ++wD
+            function qD() {
+                for (var e; JM < QM && (zD(e = KM.charCodeAt(JM)) || ID(e));) ++JM
             }
 
-            function WD(e) {
+            function HD(e) {
                 var t, n, r, i = 0;
-                for (n = "u" === e ? 4 : 2, t = 0; t < n; ++t) wD < SD && LD(xD[wD]) ? (r = xD[wD++], i = 16 * i + "0123456789abcdef".indexOf(r.toLowerCase())) : rC({}, kD, FD);
+                for (n = "u" === e ? 4 : 2, t = 0; t < n; ++t) JM < QM && RD(KM[JM]) ? (r = KM[JM++], i = 16 * i + "0123456789abcdef".indexOf(r.toLowerCase())) : nC({}, bD, CD);
                 return String.fromCharCode(i)
             }
 
-            function YD() {
+            function WD() {
                 var e, t, n, r;
-                for (t = 0, "}" === (e = xD[wD]) && rC({}, kD, FD); wD < SD && LD(e = xD[wD++]);) t = 16 * t + "0123456789abcdef".indexOf(e.toLowerCase());
-                return (t > 1114111 || "}" !== e) && rC({}, kD, FD), t <= 65535 ? String.fromCharCode(t) : (n = 55296 + (t - 65536 >> 10), r = 56320 + (t - 65536 & 1023), String.fromCharCode(n, r))
+                for (t = 0, "}" === (e = KM[JM]) && nC({}, bD, CD); JM < QM && RD(e = KM[JM++]);) t = 16 * t + "0123456789abcdef".indexOf(e.toLowerCase());
+                return (t > 1114111 || "}" !== e) && nC({}, bD, CD), t <= 65535 ? String.fromCharCode(t) : (n = 55296 + (t - 65536 >> 10), r = 56320 + (t - 65536 & 1023), String.fromCharCode(n, r))
             }
 
             function VD() {
                 var e, t;
-                for (e = xD.charCodeAt(wD++), t = String.fromCharCode(e), 92 === e && (117 !== xD.charCodeAt(wD) && rC({}, kD, FD), ++wD, (e = WD("u")) && "\\" !== e && jD(e.charCodeAt(0)) || rC({}, kD, FD), t = e); wD < SD && BD(e = xD.charCodeAt(wD));) ++wD, t += String.fromCharCode(e), 92 === e && (t = t.substr(0, t.length - 1), 117 !== xD.charCodeAt(wD) && rC({}, kD, FD), ++wD, (e = WD("u")) && "\\" !== e && BD(e.charCodeAt(0)) || rC({}, kD, FD), t += e);
+                for (e = KM.charCodeAt(JM++), t = String.fromCharCode(e), 92 === e && (117 !== KM.charCodeAt(JM) && nC({}, bD, CD), ++JM, (e = HD("u")) && "\\" !== e && jD(e.charCodeAt(0)) || nC({}, bD, CD), t = e); JM < QM && BD(e = KM.charCodeAt(JM));) ++JM, t += String.fromCharCode(e), 92 === e && (t = t.substr(0, t.length - 1), 117 !== KM.charCodeAt(JM) && nC({}, bD, CD), ++JM, (e = HD("u")) && "\\" !== e && BD(e.charCodeAt(0)) || nC({}, bD, CD), t += e);
                 return t
             }
 
             function GD() {
-                var e, t, n, r, i = wD,
-                    a = xD.charCodeAt(wD),
-                    o = xD[wD];
+                var e, t, n, r, i = JM,
+                    a = KM.charCodeAt(JM),
+                    o = KM[JM];
                 switch (a) {
                     case 46:
                     case 40:
                     case 41:
                     case 59:
                     case 44:
                     case 123:
                     case 125:
                     case 91:
                     case 93:
                     case 58:
                     case 63:
                     case 126:
-                        return ++wD, {
-                            type: 7,
+                        return ++JM, {
+                            type: oD,
                             value: String.fromCharCode(a),
                             start: i,
-                            end: wD
+                            end: JM
                         };
                     default:
-                        if (61 === (e = xD.charCodeAt(wD + 1))) switch (a) {
+                        if (61 === (e = KM.charCodeAt(JM + 1))) switch (a) {
                             case 43:
                             case 45:
                             case 47:
                             case 60:
                             case 62:
                             case 94:
                             case 124:
                             case 37:
                             case 38:
                             case 42:
-                                return wD += 2, {
-                                    type: 7,
+                                return JM += 2, {
+                                    type: oD,
                                     value: String.fromCharCode(a) + String.fromCharCode(e),
                                     start: i,
-                                    end: wD
+                                    end: JM
                                 };
                             case 33:
                             case 61:
-                                return wD += 2, 61 === xD.charCodeAt(wD) && ++wD, {
-                                    type: 7,
-                                    value: xD.slice(i, wD),
+                                return JM += 2, 61 === KM.charCodeAt(JM) && ++JM, {
+                                    type: oD,
+                                    value: KM.slice(i, JM),
                                     start: i,
-                                    end: wD
+                                    end: JM
                                 }
                         }
                 }
-                return ">>>=" === (r = xD.substr(wD, 4)) ? {
-                    type: 7,
+                return ">>>=" === (r = KM.substr(JM, 4)) ? {
+                    type: oD,
                     value: r,
                     start: i,
-                    end: wD += 4
+                    end: JM += 4
                 } : ">>>" === (n = r.substr(0, 3)) || "<<=" === n || ">>=" === n ? {
-                    type: 7,
+                    type: oD,
                     value: n,
                     start: i,
-                    end: wD += 3
+                    end: JM += 3
                 } : o === (t = n.substr(0, 2))[1] && "+-<>&|".indexOf(o) >= 0 || "=>" === t ? {
-                    type: 7,
+                    type: oD,
                     value: t,
                     start: i,
-                    end: wD += 2
-                } : "<>=!+-*%&|^/".indexOf(o) >= 0 ? {
-                    type: 7,
+                    end: JM += 2
+                } : "<>=!+-*%&|^/".indexOf(o) >= 0 ? (++JM, {
+                    type: oD,
                     value: o,
                     start: i,
-                    end: ++wD
-                } : void rC({}, kD, FD)
+                    end: JM
+                }) : void nC({}, bD, CD)
             }
 
-            function XD() {
+            function YD() {
                 var e, t, n;
-                if (PD(RD((n = xD[wD]).charCodeAt(0)) || "." === n, "Numeric literal must start with a decimal digit or a decimal point"), t = wD, e = "", "." !== n) {
-                    if (e = xD[wD++], n = xD[wD], "0" === e) {
-                        if ("x" === n || "X" === n) return ++wD,
+                if (TD(PD((n = KM[JM]).charCodeAt(0)) || "." === n, "Numeric literal must start with a decimal digit or a decimal point"), t = JM, e = "", "." !== n) {
+                    if (e = KM[JM++], n = KM[JM], "0" === e) {
+                        if ("x" === n || "X" === n) return ++JM,
                             function(e) {
-                                for (var t = ""; wD < SD && LD(xD[wD]);) t += xD[wD++];
-                                return 0 === t.length && rC({}, kD, FD), jD(xD.charCodeAt(wD)) && rC({}, kD, FD), {
-                                    type: 6,
+                                for (var t = ""; JM < QM && RD(KM[JM]);) t += KM[JM++];
+                                return 0 === t.length && nC({}, bD, CD), jD(KM.charCodeAt(JM)) && nC({}, bD, CD), {
+                                    type: aD,
                                     value: parseInt("0x" + t, 16),
                                     start: e,
-                                    end: wD
+                                    end: JM
                                 }
                             }(t);
-                        if (zD(n)) return function(e) {
-                            for (var t = "0" + xD[wD++]; wD < SD && zD(xD[wD]);) t += xD[wD++];
-                            return (jD(xD.charCodeAt(wD)) || RD(xD.charCodeAt(wD))) && rC({}, kD, FD), {
-                                type: 6,
+                        if (LD(n)) return function(e) {
+                            for (var t = "0" + KM[JM++]; JM < QM && LD(KM[JM]);) t += KM[JM++];
+                            return (jD(KM.charCodeAt(JM)) || PD(KM.charCodeAt(JM))) && nC({}, bD, CD), {
+                                type: aD,
                                 value: parseInt(t, 8),
                                 octal: !0,
                                 start: e,
-                                end: wD
+                                end: JM
                             }
                         }(t);
-                        n && RD(n.charCodeAt(0)) && rC({}, kD, FD)
+                        n && PD(n.charCodeAt(0)) && nC({}, bD, CD)
                     }
-                    for (; RD(xD.charCodeAt(wD));) e += xD[wD++];
-                    n = xD[wD]
+                    for (; PD(KM.charCodeAt(JM));) e += KM[JM++];
+                    n = KM[JM]
                 }
                 if ("." === n) {
-                    for (e += xD[wD++]; RD(xD.charCodeAt(wD));) e += xD[wD++];
-                    n = xD[wD]
+                    for (e += KM[JM++]; PD(KM.charCodeAt(JM));) e += KM[JM++];
+                    n = KM[JM]
                 }
                 if ("e" === n || "E" === n)
-                    if (e += xD[wD++], "+" !== (n = xD[wD]) && "-" !== n || (e += xD[wD++]), RD(xD.charCodeAt(wD)))
-                        for (; RD(xD.charCodeAt(wD));) e += xD[wD++];
-                    else rC({}, kD, FD);
-                return jD(xD.charCodeAt(wD)) && rC({}, kD, FD), {
-                    type: 6,
+                    if (e += KM[JM++], "+" !== (n = KM[JM]) && "-" !== n || (e += KM[JM++]), PD(KM.charCodeAt(JM)))
+                        for (; PD(KM.charCodeAt(JM));) e += KM[JM++];
+                    else nC({}, bD, CD);
+                return jD(KM.charCodeAt(JM)) && nC({}, bD, CD), {
+                    type: aD,
                     value: parseFloat(e),
                     start: t,
-                    end: wD
+                    end: JM
                 }
             }
 
-            function $D() {
+            function XD() {
                 var e, t, n;
-                return HD(), wD >= SD ? {
-                    type: 2,
-                    start: wD,
-                    end: wD
-                } : jD(e = xD.charCodeAt(wD)) ? (t = wD, n = 92 === xD.charCodeAt(wD) ? VD() : function() {
+                return qD(), JM >= QM ? {
+                    type: tD,
+                    start: JM,
+                    end: JM
+                } : jD(e = KM.charCodeAt(JM)) ? (t = JM, n = 92 === KM.charCodeAt(JM) ? VD() : function() {
                     var e, t;
-                    for (e = wD++; wD < SD;) {
-                        if (92 === (t = xD.charCodeAt(wD))) return wD = e, VD();
+                    for (e = JM++; JM < QM;) {
+                        if (92 === (t = KM.charCodeAt(JM))) return JM = e, VD();
                         if (!BD(t)) break;
-                        ++wD
+                        ++JM
                     }
-                    return xD.slice(e, wD)
+                    return KM.slice(e, JM)
                 }(), {
-                    type: 1 === n.length ? 3 : qD.hasOwnProperty(n) ? 4 : "null" === n ? 5 : "true" === n || "false" === n ? 1 : 3,
+                    type: 1 === n.length ? nD : UD.hasOwnProperty(n) ? rD : "null" === n ? iD : "true" === n || "false" === n ? eD : nD,
                     value: n,
                     start: t,
-                    end: wD
+                    end: JM
                 }) : 40 === e || 41 === e || 59 === e ? GD() : 39 === e || 34 === e ? function() {
                     var e, t, n, r, i = "",
                         a = !1;
-                    for (PD("'" === (e = xD[wD]) || '"' === e, "String literal must starts with a quote"), t = wD, ++wD; wD < SD;) {
-                        if ((n = xD[wD++]) === e) {
+                    for (TD("'" === (e = KM[JM]) || '"' === e, "String literal must starts with a quote"), t = JM, ++JM; JM < QM;) {
+                        if ((n = KM[JM++]) === e) {
                             e = "";
                             break
                         }
                         if ("\\" === n)
-                            if ((n = xD[wD++]) && UD(n.charCodeAt(0))) "\r" === n && "\n" === xD[wD] && ++wD;
+                            if ((n = KM[JM++]) && ID(n.charCodeAt(0))) "\r" === n && "\n" === KM[JM] && ++JM;
                             else switch (n) {
                                 case "u":
                                 case "x":
-                                    "{" === xD[wD] ? (++wD, i += YD()) : i += WD(n);
+                                    "{" === KM[JM] ? (++JM, i += WD()) : i += HD(n);
                                     break;
                                 case "n":
                                     i += "\n";
                                     break;
                                 case "r":
                                     i += "\r";
                                     break;
@@ -18861,238 +19163,238 @@
                                 case "f":
                                     i += "\f";
                                     break;
                                 case "v":
                                     i += "\v";
                                     break;
                                 default:
-                                    zD(n) ? (0 !== (r = "01234567".indexOf(n)) && (a = !0), wD < SD && zD(xD[wD]) && (a = !0, r = 8 * r + "01234567".indexOf(xD[wD++]), "0123".indexOf(n) >= 0 && wD < SD && zD(xD[wD]) && (r = 8 * r + "01234567".indexOf(xD[wD++]))), i += String.fromCharCode(r)) : i += n
+                                    LD(n) ? (0 !== (r = "01234567".indexOf(n)) && (a = !0), JM < QM && LD(KM[JM]) && (a = !0, r = 8 * r + "01234567".indexOf(KM[JM++]), "0123".indexOf(n) >= 0 && JM < QM && LD(KM[JM]) && (r = 8 * r + "01234567".indexOf(KM[JM++]))), i += String.fromCharCode(r)) : i += n
                             } else {
-                                if (UD(n.charCodeAt(0))) break;
+                                if (ID(n.charCodeAt(0))) break;
                                 i += n
                             }
                     }
-                    return "" !== e && rC({}, kD, FD), {
-                        type: 8,
+                    return "" !== e && nC({}, bD, CD), {
+                        type: uD,
                         value: i,
                         octal: a,
                         start: t,
-                        end: wD
+                        end: JM
                     }
-                }() : 46 === e ? RD(xD.charCodeAt(wD + 1)) ? XD() : GD() : RD(e) ? XD() : GD()
+                }() : 46 === e ? PD(KM.charCodeAt(JM + 1)) ? YD() : GD() : PD(e) ? YD() : GD()
             }
 
-            function KD() {
+            function $D() {
                 var e;
-                return wD = (e = ED).end, ED = $D(), wD = e.end, e
+                return JM = (e = ZM).end, ZM = XD(), JM = e.end, e
             }
 
-            function JD() {
+            function KD() {
                 var e;
-                e = wD, ED = $D(), wD = e
+                e = JM, ZM = XD(), JM = e
             }
 
-            function QD(e, t, n) {
-                var r = new bD("||" === e || "&&" === e ? "LogicalExpression" : "BinaryExpression");
+            function JD(e, t, n) {
+                var r = new XM("||" === e || "&&" === e ? pD : lD);
                 return r.operator = e, r.left = t, r.right = n, r
             }
 
-            function ZD(e) {
-                var t = new bD(AD);
+            function QD(e) {
+                var t = new XM(dD);
                 return t.name = e, t
             }
 
-            function eC(e) {
-                var t = new bD("Literal");
-                return t.value = e.value, t.raw = xD.slice(e.start, e.end), e.regex && ("//" === t.raw && (t.raw = "/(?:)/"), t.regex = e.regex), t
+            function ZD(e) {
+                var t = new XM(hD);
+                return t.value = e.value, t.raw = KM.slice(e.start, e.end), e.regex && ("//" === t.raw && (t.raw = "/(?:)/"), t.regex = e.regex), t
             }
 
-            function tC(e, t, n) {
-                var r = new bD("MemberExpression");
+            function eC(e, t, n) {
+                var r = new XM(gD);
                 return r.computed = "[" === e, r.object = t, r.property = n, r.computed || (n.member = !0), r
             }
 
-            function nC(e, t, n) {
-                var r = new bD("Property");
+            function tC(e, t, n) {
+                var r = new XM(vD);
                 return r.key = t, r.value = n, r.kind = e, r
             }
 
-            function rC(e, t) {
+            function nC(e, t) {
                 var n, r = Array.prototype.slice.call(arguments, 2),
-                    i = t.replace(/%(\d)/g, ((e, t) => (PD(t < r.length, "Message reference must be in range"), r[t])));
-                throw (n = new Error(i)).index = wD, n.description = i, n
+                    i = t.replace(/%(\d)/g, ((e, t) => (TD(t < r.length, "Message reference must be in range"), r[t])));
+                throw (n = new Error(i)).index = JM, n.description = i, n
+            }
+
+            function rC(e) {
+                e.type === tD && nC(e, ED), e.type === aD && nC(e, _D), e.type === uD && nC(e, xD), e.type === nD && nC(e, wD), e.type === rD && nC(e, SD), nC(e, bD, e.value)
             }
 
             function iC(e) {
-                2 === e.type && rC(e, "Unexpected end of input"), 6 === e.type && rC(e, "Unexpected number"), 8 === e.type && rC(e, "Unexpected string"), 3 === e.type && rC(e, "Unexpected identifier"), 4 === e.type && rC(e, "Unexpected reserved word"), rC(e, kD, e.value)
+                var t = $D();
+                t.type === oD && t.value === e || rC(t)
             }
 
             function aC(e) {
-                var t = KD();
-                7 === t.type && t.value === e || iC(t)
+                return ZM.type === oD && ZM.value === e
             }
 
             function oC(e) {
-                return 7 === ED.type && ED.value === e
+                return ZM.type === rD && ZM.value === e
             }
 
-            function uC(e) {
-                return 4 === ED.type && ED.value === e
-            }
-
-            function sC() {
+            function uC() {
                 var e;
-                return wD = ED.start, 8 === (e = KD()).type || 6 === e.type ? (e.octal && rC(e, CD), eC(e)) : ZD(e.value)
+                return JM = ZM.start, (e = $D()).type === uD || e.type === aD ? (e.octal && nC(e, MD), ZD(e)) : QD(e.value)
             }
 
-            function lC() {
+            function sC() {
                 var e, t, n;
-                return wD = ED.start, 3 === (e = ED).type ? (n = sC(), aC(":"), nC("init", n, vC())) : 2 !== e.type && 7 !== e.type ? (t = sC(), aC(":"), nC("init", t, vC())) : void iC(e)
+                return JM = ZM.start, (e = ZM).type === nD ? (n = uC(), iC(":"), tC("init", n, mC())) : e.type !== tD && e.type !== oD ? (t = uC(), iC(":"), tC("init", t, mC())) : void rC(e)
             }
-            var cC = {
+            var lC = {
                 if: 1
             };
 
-            function fC() {
+            function cC() {
                 var e, t, n;
-                if (oC("(")) return function() {
+                if (aC("(")) return function() {
                     var e;
-                    return aC("("), e = yC(), aC(")"), e
+                    return iC("("), e = vC(), iC(")"), e
                 }();
-                if (oC("[")) return function() {
+                if (aC("[")) return function() {
                     var e = [];
-                    for (wD = ED.start, aC("["); !oC("]");) oC(",") ? (KD(), e.push(null)) : (e.push(vC()), oC("]") || aC(","));
-                    return KD(),
+                    for (JM = ZM.start, iC("["); !aC("]");) aC(",") ? ($D(), e.push(null)) : (e.push(mC()), aC("]") || iC(","));
+                    return $D(),
                         function(e) {
-                            var t = new bD("ArrayExpression");
+                            var t = new XM(sD);
                             return t.elements = e, t
                         }(e)
                 }();
-                if (oC("{")) return function() {
+                if (aC("{")) return function() {
                     var e, t, n = [],
                         r = {},
                         i = String;
-                    for (wD = ED.start, aC("{"); !oC("}");) t = "$" + ((e = lC()).key.type === AD ? e.key.name : i(e.key.value)), Object.prototype.hasOwnProperty.call(r, t) ? rC({}, "Duplicate data property in object literal not allowed in strict mode") : r[t] = !0, n.push(e), oC("}") || aC(",");
-                    return aC("}"),
+                    for (JM = ZM.start, iC("{"); !aC("}");) t = "$" + ((e = sC()).key.type === dD ? e.key.name : i(e.key.value)), Object.prototype.hasOwnProperty.call(r, t) ? nC({}, DD) : r[t] = !0, n.push(e), aC("}") || iC(",");
+                    return iC("}"),
                         function(e) {
-                            var t = new bD("ObjectExpression");
+                            var t = new XM(mD);
                             return t.properties = e, t
                         }(n)
                 }();
-                if (e = ED.type, wD = ED.start, 3 === e || cC[ED.value]) n = ZD(KD().value);
-                else if (8 === e || 6 === e) ED.octal && rC(ED, CD), n = eC(KD());
+                if (e = ZM.type, JM = ZM.start, e === nD || lC[ZM.value]) n = QD($D().value);
+                else if (e === uD || e === aD) ZM.octal && nC(ZM, MD), n = ZD($D());
                 else {
-                    if (4 === e) throw new Error(ND);
-                    1 === e ? ((t = KD()).value = "true" === t.value, n = eC(t)) : 5 === e ? ((t = KD()).value = null, n = eC(t)) : oC("/") || oC("/=") ? (n = eC(function() {
+                    if (e === rD) throw new Error(FD);
+                    e === eD ? ((t = $D()).value = "true" === t.value, n = ZD(t)) : e === iD ? ((t = $D()).value = null, n = ZD(t)) : aC("/") || aC("/=") ? (n = ZD(function() {
                         var e, t, n, r;
-                        return ED = null, HD(), e = wD, t = function() {
+                        return ZM = null, qD(), e = JM, t = function() {
                             var e, t, n, r;
-                            for (PD("/" === (e = xD[wD]), "Regular expression literal must start with a slash"), t = xD[wD++], n = !1, r = !1; wD < SD;)
-                                if (t += e = xD[wD++], "\\" === e) UD((e = xD[wD++]).charCodeAt(0)) && rC({}, DD), t += e;
-                                else if (UD(e.charCodeAt(0))) rC({}, DD);
+                            for (TD("/" === (e = KM[JM]), "Regular expression literal must start with a slash"), t = KM[JM++], n = !1, r = !1; JM < QM;)
+                                if (t += e = KM[JM++], "\\" === e) ID((e = KM[JM++]).charCodeAt(0)) && nC({}, kD), t += e;
+                                else if (ID(e.charCodeAt(0))) nC({}, kD);
                             else if (n) "]" === e && (n = !1);
                             else {
                                 if ("/" === e) {
                                     r = !0;
                                     break
                                 }
                                 "[" === e && (n = !0)
                             }
-                            return r || rC({}, DD), {
+                            return r || nC({}, kD), {
                                 value: t.substr(1, t.length - 2),
                                 literal: t
                             }
                         }(), n = function() {
                             var e, t, n;
-                            for (t = "", n = ""; wD < SD && BD((e = xD[wD]).charCodeAt(0));) ++wD, "\\" === e && wD < SD ? rC({}, kD, FD) : (n += e, t += e);
-                            return n.search(/[^gimuy]/g) >= 0 && rC({}, MD, n), {
+                            for (t = "", n = ""; JM < QM && BD((e = KM[JM]).charCodeAt(0));) ++JM, "\\" === e && JM < QM ? nC({}, bD, CD) : (n += e, t += e);
+                            return n.search(/[^gimuy]/g) >= 0 && nC({}, AD, n), {
                                 value: n,
                                 literal: t
                             }
                         }(), r = function(e, t) {
                             var n = e;
                             t.indexOf("u") >= 0 && (n = n.replace(/\\u\{([0-9a-fA-F]+)\}/g, ((e, t) => {
                                 if (parseInt(t, 16) <= 1114111) return "x";
-                                rC({}, MD)
+                                nC({}, AD)
                             })).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g, "x"));
                             try {
                                 new RegExp(n)
                             } catch (e) {
-                                rC({}, MD)
+                                nC({}, AD)
                             }
                             try {
                                 return new RegExp(e, t)
                             } catch (e) {
                                 return null
                             }
                         }(t.value, n.value), {
                             literal: t.literal + n.literal,
                             value: r,
                             regex: {
                                 pattern: t.value,
                                 flags: n.value
                             },
                             start: e,
-                            end: wD
+                            end: JM
                         }
-                    }()), JD()) : iC(KD())
+                    }()), KD()) : rC($D())
                 }
                 return n
             }
 
-            function dC() {
+            function fC() {
                 var e = [];
-                if (aC("("), !oC(")"))
-                    for (; wD < SD && (e.push(vC()), !oC(")"));) aC(",");
-                return aC(")"), e
+                if (iC("("), !aC(")"))
+                    for (; JM < QM && (e.push(mC()), !aC(")"));) iC(",");
+                return iC(")"), e
             }
 
-            function hC() {
+            function dC() {
                 var e;
-                return aC("["), e = yC(), aC("]"), e
+                return iC("["), e = vC(), iC("]"), e
             }
 
-            function pC() {
+            function hC() {
                 var e = function() {
                     var e, t, n, r, i;
-                    for (e = fC();;)
-                        if (oC(".")) e = tC(".", e, (i = void 0, aC("."), wD = ED.start, function(e) {
-                            return 3 === e.type || 4 === e.type || 1 === e.type || 5 === e.type
-                        }(i = KD()) || iC(i), ZD(i.value)));
-                        else if (oC("(")) t = e, n = dC(), r = void 0, (r = new bD("CallExpression")).callee = t, r.arguments = n, e = r;
+                    for (e = cC();;)
+                        if (aC(".")) iC("."), e = eC(".", e, (i = void 0, JM = ZM.start, function(e) {
+                            return e.type === nD || e.type === rD || e.type === eD || e.type === iD
+                        }(i = $D()) || rC(i), QD(i.value)));
+                        else if (aC("(")) t = e, n = fC(), r = void 0, (r = new XM(cD)).callee = t, r.arguments = n, e = r;
                     else {
-                        if (!oC("[")) break;
-                        e = tC("[", e, hC())
+                        if (!aC("[")) break;
+                        e = eC("[", e, dC())
                     }
                     return e
                 }();
-                if (7 === ED.type && (oC("++") || oC("--"))) throw new Error(ND);
+                if (ZM.type === oD && (aC("++") || aC("--"))) throw new Error(FD);
                 return e
             }
 
-            function gC() {
+            function pC() {
                 var e, t;
-                if (7 !== ED.type && 4 !== ED.type) t = pC();
+                if (ZM.type !== oD && ZM.type !== rD) t = hC();
                 else {
-                    if (oC("++") || oC("--")) throw new Error(ND);
-                    if (oC("+") || oC("-") || oC("~") || oC("!")) e = KD(), t = gC(), t = function(e, t) {
-                        var n = new bD("UnaryExpression");
+                    if (aC("++") || aC("--")) throw new Error(FD);
+                    if (aC("+") || aC("-") || aC("~") || aC("!")) e = $D(), t = pC(), t = function(e, t) {
+                        var n = new XM(yD);
                         return n.operator = e, n.argument = t, n.prefix = !0, n
                     }(e.value, t);
                     else {
-                        if (uC("delete") || uC("void") || uC("typeof")) throw new Error(ND);
-                        t = pC()
+                        if (oC("delete") || oC("void") || oC("typeof")) throw new Error(FD);
+                        t = hC()
                     }
                 }
                 return t
             }
 
-            function mC(e) {
+            function gC(e) {
                 var t = 0;
-                if (7 !== e.type && 4 !== e.type) return 0;
+                if (e.type !== oD && e.type !== rD) return 0;
                 switch (e.value) {
                     case "||":
                         t = 1;
                         break;
                     case "&&":
                         t = 2;
                         break;
@@ -19132,52 +19434,52 @@
                     case "/":
                     case "%":
                         t = 11
                 }
                 return t
             }
 
-            function vC() {
+            function mC() {
                 var e, t;
                 return e = function() {
                     var e, t, n, r, i, a, o, u, s, l;
-                    if (e = ED, s = gC(), 0 === (i = mC(r = ED))) return s;
-                    for (r.prec = i, KD(), t = [e, ED], a = [s, r, o = gC()];
-                        (i = mC(ED)) > 0;) {
-                        for (; a.length > 2 && i <= a[a.length - 2].prec;) o = a.pop(), u = a.pop().value, s = a.pop(), t.pop(), n = QD(u, s, o), a.push(n);
-                        (r = KD()).prec = i, a.push(r), t.push(ED), n = gC(), a.push(n)
+                    if (e = ZM, s = pC(), 0 === (i = gC(r = ZM))) return s;
+                    for (r.prec = i, $D(), t = [e, ZM], a = [s, r, o = pC()];
+                        (i = gC(ZM)) > 0;) {
+                        for (; a.length > 2 && i <= a[a.length - 2].prec;) o = a.pop(), u = a.pop().value, s = a.pop(), t.pop(), n = JD(u, s, o), a.push(n);
+                        (r = $D()).prec = i, a.push(r), t.push(ZM), n = pC(), a.push(n)
                     }
-                    for (n = a[l = a.length - 1], t.pop(); l > 1;) t.pop(), n = QD(a[l - 1].value, a[l - 2], n), l -= 2;
+                    for (n = a[l = a.length - 1], t.pop(); l > 1;) t.pop(), n = JD(a[l - 1].value, a[l - 2], n), l -= 2;
                     return n
-                }(), oC("?") && (KD(), t = vC(), aC(":"), e = function(e, t, n) {
-                    var r = new bD("ConditionalExpression");
+                }(), aC("?") && ($D(), t = mC(), iC(":"), e = function(e, t, n) {
+                    var r = new XM(fD);
                     return r.test = e, r.consequent = t, r.alternate = n, r
-                }(e, t, vC())), e
+                }(e, t, mC())), e
             }
 
-            function yC() {
-                var e = vC();
-                if (oC(",")) throw new Error(ND);
+            function vC() {
+                var e = mC();
+                if (aC(",")) throw new Error(FD);
                 return e
             }
-            const bC = {
+            const yC = {
                 NaN: "NaN",
                 E: "Math.E",
                 LN2: "Math.LN2",
                 LN10: "Math.LN10",
                 LOG2E: "Math.LOG2E",
                 LOG10E: "Math.LOG10E",
                 PI: "Math.PI",
                 SQRT1_2: "Math.SQRT1_2",
                 SQRT2: "Math.SQRT2",
                 MIN_VALUE: "Number.MIN_VALUE",
                 MAX_VALUE: "Number.MAX_VALUE"
             };
 
-            function _C(e) {
+            function bC(e) {
                 function t(t, n, r) {
                     return i => function(t, n, r, i) {
                         let a = e(n[0]);
                         return r && (a = r + "(" + a + ")", 0 === r.lastIndexOf("new ", 0) && (a = "(" + a + ")")), a + "." + t + (i < 0 ? "" : 0 === i ? "()" : "(" + n.slice(1).map(e).join(",") + ")")
                     }(t, i, n, r)
                 }
                 const n = "new Date",
@@ -19201,15 +19503,15 @@
                     pow: "Math.pow",
                     random: "Math.random",
                     round: "Math.round",
                     sin: "Math.sin",
                     sqrt: "Math.sqrt",
                     tan: "Math.tan",
                     clamp: function(t) {
-                        t.length < 3 && (0, ke.error)("Missing arguments to clamp function."), t.length > 3 && (0, ke.error)("Too many arguments to clamp function.");
+                        t.length < 3 && (0, Ee.error)("Missing arguments to clamp function."), t.length > 3 && (0, Ee.error)("Too many arguments to clamp function.");
                         const n = t.map(e);
                         return "Math.max(" + n[1] + ", Math.min(" + n[2] + "," + n[0] + "))"
                     },
                     now: "Date.now",
                     utc: "Date.UTC",
                     datetime: n,
                     date: t("getDate", n, 0),
@@ -19245,617 +19547,588 @@
                     substring: t("substring", r),
                     split: t("split", r),
                     replace: t("replace", r),
                     trim: t("trim", r, 0),
                     regexp: i,
                     test: t("test", i),
                     if: function(t) {
-                        t.length < 3 && (0, ke.error)("Missing arguments to if function."), t.length > 3 && (0, ke.error)("Too many arguments to if function.");
+                        t.length < 3 && (0, Ee.error)("Missing arguments to if function."), t.length > 3 && (0, Ee.error)("Too many arguments to if function.");
                         const n = t.map(e);
                         return "(" + n[0] + "?" + n[1] + ":" + n[2] + ")"
                     }
                 }
             }
+            var _C = {};
 
-            function xC(e, t) {
-                return e < t ? -1 : e > t ? 1 : e >= t ? 0 : NaN
-            }
-            var wC = function(e) {
-                var t;
-                return 1 === e.length && (t = e, e = function(e, n) {
-                    return xC(t(e), n)
-                }), {
-                    left: function(t, n, r, i) {
-                        for (null == r && (r = 0), null == i && (i = t.length); r < i;) {
-                            var a = r + i >>> 1;
-                            e(t[a], n) < 0 ? r = a + 1 : i = a
-                        }
-                        return r
-                    },
-                    right: function(t, n, r, i) {
-                        for (null == r && (r = 0), null == i && (i = t.length); r < i;) {
-                            var a = r + i >>> 1;
-                            e(t[a], n) > 0 ? i = a : r = a + 1
-                        }
-                        return r
-                    }
-                }
-            }(xC);
-            wC.right, wC.left;
-            var SC = Array.prototype;
-            SC.slice, SC.map, Math.sqrt(50), Math.sqrt(10), Math.sqrt(2);
-            var EC = {};
-
-            function AC(e, t, n) {
+            function xC(e, t, n) {
                 var r = e + ":" + n,
-                    i = EC[r];
-                return i && i[0] === t || (EC[r] = i = [t, t(n)]), i[1]
+                    i = _C[r];
+                return i && i[0] === t || (_C[r] = i = [t, t(n)]), i[1]
             }
 
-            function kC(e, t) {
-                return AC("timeFormat", Un, t)(e)
+            function wC(e, t) {
+                return xC("timeFormat", Bn, t)(e)
             }
-            var MC = new Date(2e3, 0, 1);
+            var SC = new Date(2e3, 0, 1);
 
-            function DC(e, t, n) {
-                return MC.setMonth(e), MC.setDate(t), kC(MC, n)
+            function EC(e, t, n) {
+                return SC.setMonth(e), SC.setDate(t), wC(SC, n)
             }
 
-            function CC(e, t, n) {
+            function AC(e, t, n) {
                 try {
                     e[t].apply(e, ["EXPRESSION"].concat([].slice.call(n)))
                 } catch (t) {
                     e.warn(t)
                 }
                 return n[n.length - 1]
             }
-            var FC = "undefined" != typeof window && window || null,
-                NC = "Literal",
-                TC = "%";
+            var kC = "undefined" != typeof window && window || null,
+                MC = "Literal",
+                DC = "%",
+                CC = ":";
 
-            function OC(e, t) {
+            function FC(e, t) {
                 var n;
-                return (0, ke.isFunction)(e) ? e : (0, ke.isString)(e) ? (n = t.scales[e]) && n.value : void 0
+                return (0, Ee.isFunction)(e) ? e : (0, Ee.isString)(e) ? (n = t.scales[e]) && n.value : void 0
             }
 
-            function PC(e, t, n) {
-                var r = TC + n;
+            function NC(e, t, n) {
+                var r = DC + n;
                 if (!t.hasOwnProperty(r)) try {
                     t[r] = e.scaleRef(n)
                 } catch (e) {}
             }
 
-            function RC(e, t, n, r) {
-                if (t[0].type === NC) PC(n, r, t[0].value);
+            function OC(e, t, n, r) {
+                if (t[0].type === MC) NC(n, r, t[0].value);
                 else if ("Identifier" === t[0].type)
-                    for (e in n.scales) PC(n, r, e)
+                    for (e in n.scales) NC(n, r, e)
             }
 
-            function LC() {
-                return new zC
+            function TC() {
+                return new PC
             }
 
-            function zC() {
+            function PC() {
                 this.reset()
             }
-            zC.prototype = {
-                constructor: zC,
+            PC.prototype = {
+                constructor: PC,
                 reset: function() {
                     this.s = this.t = 0
                 },
                 add: function(e) {
-                    UC(IC, e, this.t), UC(this, IC.s, this.s), this.s ? this.t += IC.t : this.s = IC.t
+                    LC(RC, e, this.t), LC(this, RC.s, this.s), this.s ? this.t += RC.t : this.s = RC.t
                 },
                 valueOf: function() {
                     return this.s
                 }
             };
-            var IC = new zC;
+            var RC = new PC;
 
-            function UC(e, t, n) {
+            function LC(e, t, n) {
                 var r = e.s = t + n,
                     i = r - t,
                     a = r - i;
                 e.t = t - a + (n - i)
             }
 
-            function jC() {}
+            function zC() {}
 
-            function BC(e, t) {
-                e && HC.hasOwnProperty(e.type) && HC[e.type](e, t)
+            function IC(e, t) {
+                e && BC.hasOwnProperty(e.type) && BC[e.type](e, t)
             }
-            var qC = {
+            var jC = {
                     Feature: function(e, t) {
-                        BC(e.geometry, t)
+                        IC(e.geometry, t)
                     },
                     FeatureCollection: function(e, t) {
-                        for (var n = e.features, r = -1, i = n.length; ++r < i;) BC(n[r].geometry, t)
+                        for (var n = e.features, r = -1, i = n.length; ++r < i;) IC(n[r].geometry, t)
                     }
                 },
-                HC = {
+                BC = {
                     Sphere: function(e, t) {
                         t.sphere()
                     },
                     Point: function(e, t) {
                         e = e.coordinates, t.point(e[0], e[1], e[2])
                     },
                     MultiPoint: function(e, t) {
                         for (var n = e.coordinates, r = -1, i = n.length; ++r < i;) e = n[r], t.point(e[0], e[1], e[2])
                     },
                     LineString: function(e, t) {
-                        WC(e.coordinates, t, 0)
+                        UC(e.coordinates, t, 0)
                     },
                     MultiLineString: function(e, t) {
-                        for (var n = e.coordinates, r = -1, i = n.length; ++r < i;) WC(n[r], t, 0)
+                        for (var n = e.coordinates, r = -1, i = n.length; ++r < i;) UC(n[r], t, 0)
                     },
                     Polygon: function(e, t) {
-                        YC(e.coordinates, t)
+                        qC(e.coordinates, t)
                     },
                     MultiPolygon: function(e, t) {
-                        for (var n = e.coordinates, r = -1, i = n.length; ++r < i;) YC(n[r], t)
+                        for (var n = e.coordinates, r = -1, i = n.length; ++r < i;) qC(n[r], t)
                     },
                     GeometryCollection: function(e, t) {
-                        for (var n = e.geometries, r = -1, i = n.length; ++r < i;) BC(n[r], t)
+                        for (var n = e.geometries, r = -1, i = n.length; ++r < i;) IC(n[r], t)
                     }
                 };
 
-            function WC(e, t, n) {
+            function UC(e, t, n) {
                 var r, i = -1,
                     a = e.length - n;
                 for (t.lineStart(); ++i < a;) r = e[i], t.point(r[0], r[1], r[2]);
                 t.lineEnd()
             }
 
-            function YC(e, t) {
+            function qC(e, t) {
                 var n = -1,
                     r = e.length;
-                for (t.polygonStart(); ++n < r;) WC(e[n], t, 1);
+                for (t.polygonStart(); ++n < r;) UC(e[n], t, 1);
                 t.polygonEnd()
             }
 
-            function VC(e, t) {
-                e && qC.hasOwnProperty(e.type) ? qC[e.type](e, t) : BC(e, t)
+            function HC(e, t) {
+                e && jC.hasOwnProperty(e.type) ? jC[e.type](e, t) : IC(e, t)
             }
-            var GC, XC, $C, KC, JC, QC = LC(),
-                ZC = LC(),
-                eF = {
-                    point: jC,
-                    lineStart: jC,
-                    lineEnd: jC,
+            var WC, VC, GC, YC, XC, $C = TC(),
+                KC = TC(),
+                JC = {
+                    point: zC,
+                    lineStart: zC,
+                    lineEnd: zC,
                     polygonStart: function() {
-                        QC.reset(), eF.lineStart = tF, eF.lineEnd = nF
+                        $C.reset(), JC.lineStart = QC, JC.lineEnd = ZC
                     },
                     polygonEnd: function() {
-                        var e = +QC;
-                        ZC.add(e < 0 ? dE + e : e), this.lineStart = this.lineEnd = this.point = jC
+                        var e = +$C;
+                        KC.add(e < 0 ? XS + e : e), this.lineStart = this.lineEnd = this.point = zC
                     },
                     sphere: function() {
-                        ZC.add(dE)
+                        KC.add(XS)
                     }
                 };
 
-            function tF() {
-                eF.point = rF
+            function QC() {
+                JC.point = eF
             }
 
-            function nF() {
-                iF(GC, XC)
+            function ZC() {
+                tF(WC, VC)
             }
 
-            function rF(e, t) {
-                eF.point = iF, GC = e, XC = t, $C = e *= pE, KC = vE(t = (t *= pE) / 2 + fE), JC = bE(t)
+            function eF(e, t) {
+                JC.point = tF, WC = e, VC = t, GC = e *= KS, YC = ZS(t = (t *= KS) / 2 + YS), XC = tE(t)
             }
 
-            function iF(e, t) {
-                var n = (e *= pE) - $C,
+            function tF(e, t) {
+                var n = (e *= KS) - GC,
                     r = n >= 0 ? 1 : -1,
                     i = r * n,
-                    a = vE(t = (t *= pE) / 2 + fE),
-                    o = bE(t),
-                    u = JC * o,
-                    s = KC * a + u * vE(i),
-                    l = u * r * bE(i);
-                QC.add(mE(l, s)), $C = e, KC = a, JC = o
+                    a = ZS(t = (t *= KS) / 2 + YS),
+                    o = tE(t),
+                    u = XC * o,
+                    s = YC * a + u * ZS(i),
+                    l = u * r * tE(i);
+                $C.add(QS(l, s)), GC = e, YC = a, XC = o
             }
 
-            function aF(e, t) {
+            function nF(e, t) {
                 return [e[1] * t[2] - e[2] * t[1], e[2] * t[0] - e[0] * t[2], e[0] * t[1] - e[1] * t[0]]
             }
-            var oF, uF, sF, lF, cF, fF, dF, hF, pF, gF, mF, vF, yF, bF, _F, xF, wF, SF, EF, AF, kF, MF, DF, CF, FF, NF, TF = LC(),
-                OF = {
-                    point: PF,
-                    lineStart: LF,
-                    lineEnd: zF,
+            var rF, iF, aF, oF, uF, sF, lF, cF, fF, dF, hF, pF, gF, mF, vF, yF, bF, _F, xF, wF, SF, EF, AF, kF, MF, DF, CF = TC(),
+                FF = {
+                    point: NF,
+                    lineStart: TF,
+                    lineEnd: PF,
                     polygonStart: function() {
-                        OF.point = IF, OF.lineStart = UF, OF.lineEnd = jF, TF.reset(), eF.polygonStart()
+                        FF.point = RF, FF.lineStart = LF, FF.lineEnd = zF, CF.reset(), JC.polygonStart()
                     },
                     polygonEnd: function() {
-                        eF.polygonEnd(), OF.point = PF, OF.lineStart = LF, OF.lineEnd = zF, QC < 0 ? (oF = -(sF = 180), uF = -(lF = 90)) : TF > sE ? lF = 90 : TF < -1e-6 && (uF = -90), gF[0] = oF, gF[1] = sF
+                        JC.polygonEnd(), FF.point = NF, FF.lineStart = TF, FF.lineEnd = PF, $C < 0 ? (rF = -(aF = 180), iF = -(oF = 90)) : CF > WS ? oF = 90 : CF < -WS && (iF = -90), dF[0] = rF, dF[1] = aF
                     },
                     sphere: function() {
-                        oF = -(sF = 180), uF = -(lF = 90)
+                        rF = -(aF = 180), iF = -(oF = 90)
                     }
                 };
 
-            function PF(e, t) {
-                pF.push(gF = [oF = e, sF = e]), t < uF && (uF = t), t > lF && (lF = t)
+            function NF(e, t) {
+                fF.push(dF = [rF = e, aF = e]), t < iF && (iF = t), t > oF && (oF = t)
             }
 
-            function RF(e, t) {
+            function OF(e, t) {
                 var n, r, i = function(e) {
                     var t = e[0],
                         n = e[1],
-                        r = vE(n);
-                    return [r * vE(t), r * bE(t), bE(n)]
-                }([e * pE, t * pE]);
-                if (hF) {
-                    var a = aF(hF, i),
-                        o = aF([a[1], -a[0], 0], a);
-                    r = _E((n = o)[0] * n[0] + n[1] * n[1] + n[2] * n[2]), n[0] /= r, n[1] /= r, n[2] /= r, o = function(e) {
-                        return [mE(e[1], e[0]), xE(e[2])]
+                        r = ZS(n);
+                    return [r * ZS(t), r * tE(t), tE(n)]
+                }([e * KS, t * KS]);
+                if (cF) {
+                    var a = nF(cF, i),
+                        o = nF([a[1], -a[0], 0], a);
+                    r = nE((n = o)[0] * n[0] + n[1] * n[1] + n[2] * n[2]), n[0] /= r, n[1] /= r, n[2] /= r, o = function(e) {
+                        return [QS(e[1], e[0]), rE(e[2])]
                     }(o);
-                    var u, s = e - cF,
+                    var u, s = e - uF,
                         l = s > 0 ? 1 : -1,
-                        c = o[0] * hE * l,
-                        f = gE(s) > 180;
-                    f ^ (l * cF < c && c < l * e) ? (u = o[1] * hE) > lF && (lF = u) : f ^ (l * cF < (c = (c + 360) % 360 - 180) && c < l * e) ? (u = -o[1] * hE) < uF && (uF = u) : (t < uF && (uF = t), t > lF && (lF = t)), f ? e < cF ? BF(oF, e) > BF(oF, sF) && (sF = e) : BF(e, sF) > BF(oF, sF) && (oF = e) : sF >= oF ? (e < oF && (oF = e), e > sF && (sF = e)) : e > cF ? BF(oF, e) > BF(oF, sF) && (sF = e) : BF(e, sF) > BF(oF, sF) && (oF = e)
-                } else pF.push(gF = [oF = e, sF = e]);
-                t < uF && (uF = t), t > lF && (lF = t), hF = i, cF = e
+                        c = o[0] * $S * l,
+                        f = JS(s) > 180;
+                    f ^ (l * uF < c && c < l * e) ? (u = o[1] * $S) > oF && (oF = u) : f ^ (l * uF < (c = (c + 360) % 360 - 180) && c < l * e) ? (u = -o[1] * $S) < iF && (iF = u) : (t < iF && (iF = t), t > oF && (oF = t)), f ? e < uF ? IF(rF, e) > IF(rF, aF) && (aF = e) : IF(e, aF) > IF(rF, aF) && (rF = e) : aF >= rF ? (e < rF && (rF = e), e > aF && (aF = e)) : e > uF ? IF(rF, e) > IF(rF, aF) && (aF = e) : IF(e, aF) > IF(rF, aF) && (rF = e)
+                } else fF.push(dF = [rF = e, aF = e]);
+                t < iF && (iF = t), t > oF && (oF = t), cF = i, uF = e
             }
 
-            function LF() {
-                OF.point = RF
+            function TF() {
+                FF.point = OF
             }
 
-            function zF() {
-                gF[0] = oF, gF[1] = sF, OF.point = PF, hF = null
+            function PF() {
+                dF[0] = rF, dF[1] = aF, FF.point = NF, cF = null
             }
 
-            function IF(e, t) {
-                if (hF) {
-                    var n = e - cF;
-                    TF.add(gE(n) > 180 ? n + (n > 0 ? 360 : -360) : n)
-                } else fF = e, dF = t;
-                eF.point(e, t), RF(e, t)
+            function RF(e, t) {
+                if (cF) {
+                    var n = e - uF;
+                    CF.add(JS(n) > 180 ? n + (n > 0 ? 360 : -360) : n)
+                } else sF = e, lF = t;
+                JC.point(e, t), OF(e, t)
             }
 
-            function UF() {
-                eF.lineStart()
+            function LF() {
+                JC.lineStart()
             }
 
-            function jF() {
-                IF(fF, dF), eF.lineEnd(), gE(TF) > sE && (oF = -(sF = 180)), gF[0] = oF, gF[1] = sF, hF = null
+            function zF() {
+                RF(sF, lF), JC.lineEnd(), JS(CF) > WS && (rF = -(aF = 180)), dF[0] = rF, dF[1] = aF, cF = null
             }
 
-            function BF(e, t) {
+            function IF(e, t) {
                 return (t -= e) < 0 ? t + 360 : t
             }
 
-            function qF(e, t) {
+            function jF(e, t) {
                 return e[0] - t[0]
             }
 
-            function HF(e, t) {
+            function BF(e, t) {
                 return e[0] <= e[1] ? e[0] <= t && t <= e[1] : t < e[0] || e[1] < t
             }
-            var WF = {
-                sphere: jC,
-                point: YF,
-                lineStart: GF,
-                lineEnd: KF,
+            var UF = {
+                sphere: zC,
+                point: qF,
+                lineStart: WF,
+                lineEnd: YF,
                 polygonStart: function() {
-                    WF.lineStart = JF, WF.lineEnd = QF
+                    UF.lineStart = XF, UF.lineEnd = $F
                 },
                 polygonEnd: function() {
-                    WF.lineStart = GF, WF.lineEnd = KF
+                    UF.lineStart = WF, UF.lineEnd = YF
                 }
             };
 
-            function YF(e, t) {
-                e *= pE;
-                var n = vE(t *= pE);
-                VF(n * vE(e), n * bE(e), bE(t))
+            function qF(e, t) {
+                e *= KS;
+                var n = ZS(t *= KS);
+                HF(n * ZS(e), n * tE(e), tE(t))
             }
 
-            function VF(e, t, n) {
-                ++mF, yF += (e - yF) / mF, bF += (t - bF) / mF, _F += (n - _F) / mF
+            function HF(e, t, n) {
+                ++hF, gF += (e - gF) / hF, mF += (t - mF) / hF, vF += (n - vF) / hF
             }
 
-            function GF() {
-                WF.point = XF
+            function WF() {
+                UF.point = VF
             }
 
-            function XF(e, t) {
-                e *= pE;
-                var n = vE(t *= pE);
-                CF = n * vE(e), FF = n * bE(e), NF = bE(t), WF.point = $F, VF(CF, FF, NF)
+            function VF(e, t) {
+                e *= KS;
+                var n = ZS(t *= KS);
+                kF = n * ZS(e), MF = n * tE(e), DF = tE(t), UF.point = GF, HF(kF, MF, DF)
             }
 
-            function $F(e, t) {
-                e *= pE;
-                var n = vE(t *= pE),
-                    r = n * vE(e),
-                    i = n * bE(e),
-                    a = bE(t),
-                    o = mE(_E((o = FF * a - NF * i) * o + (o = NF * r - CF * a) * o + (o = CF * i - FF * r) * o), CF * r + FF * i + NF * a);
-                vF += o, xF += o * (CF + (CF = r)), wF += o * (FF + (FF = i)), SF += o * (NF + (NF = a)), VF(CF, FF, NF)
+            function GF(e, t) {
+                e *= KS;
+                var n = ZS(t *= KS),
+                    r = n * ZS(e),
+                    i = n * tE(e),
+                    a = tE(t),
+                    o = QS(nE((o = MF * a - DF * i) * o + (o = DF * r - kF * a) * o + (o = kF * i - MF * r) * o), kF * r + MF * i + DF * a);
+                pF += o, yF += o * (kF + (kF = r)), bF += o * (MF + (MF = i)), _F += o * (DF + (DF = a)), HF(kF, MF, DF)
             }
 
-            function KF() {
-                WF.point = YF
+            function YF() {
+                UF.point = qF
             }
 
-            function JF() {
-                WF.point = ZF
+            function XF() {
+                UF.point = KF
             }
 
-            function QF() {
-                eN(MF, DF), WF.point = YF
+            function $F() {
+                JF(EF, AF), UF.point = qF
             }
 
-            function ZF(e, t) {
-                MF = e, DF = t, e *= pE, t *= pE, WF.point = eN;
-                var n = vE(t);
-                CF = n * vE(e), FF = n * bE(e), NF = bE(t), VF(CF, FF, NF)
+            function KF(e, t) {
+                EF = e, AF = t, e *= KS, t *= KS, UF.point = JF;
+                var n = ZS(t);
+                kF = n * ZS(e), MF = n * tE(e), DF = tE(t), HF(kF, MF, DF)
             }
 
-            function eN(e, t) {
-                e *= pE;
-                var n = vE(t *= pE),
-                    r = n * vE(e),
-                    i = n * bE(e),
-                    a = bE(t),
-                    o = FF * a - NF * i,
-                    u = NF * r - CF * a,
-                    s = CF * i - FF * r,
-                    l = _E(o * o + u * u + s * s),
-                    c = xE(l),
+            function JF(e, t) {
+                e *= KS;
+                var n = ZS(t *= KS),
+                    r = n * ZS(e),
+                    i = n * tE(e),
+                    a = tE(t),
+                    o = MF * a - DF * i,
+                    u = DF * r - kF * a,
+                    s = kF * i - MF * r,
+                    l = nE(o * o + u * u + s * s),
+                    c = rE(l),
                     f = l && -c / l;
-                EF += f * o, AF += f * u, kF += f * s, vF += c, xF += c * (CF + (CF = r)), wF += c * (FF + (FF = i)), SF += c * (NF + (NF = a)), VF(CF, FF, NF)
+                xF += f * o, wF += f * u, SF += f * s, pF += c, yF += c * (kF + (kF = r)), bF += c * (MF + (MF = i)), _F += c * (DF + (DF = a)), HF(kF, MF, DF)
             }
 
-            function tN(e, t) {
+            function QF(e, t) {
                 return function(n, r, i) {
                     if (n) {
-                        var a = OC(n, (i || this).context);
+                        var a = FC(n, (i || this).context);
                         return a && a.path[e](r)
                     }
                     return t(r)
                 }
             }
-            var nN = tN("area", (function(e) {
-                    return ZC.reset(), VC(e, eF), 2 * ZC
+            var ZF = QF("area", (function(e) {
+                    return KC.reset(), HC(e, JC), 2 * KC
                 })),
-                rN = tN("bounds", (function(e) {
+                eN = QF("bounds", (function(e) {
                     var t, n, r, i, a, o, u;
-                    if (lF = sF = -(oF = uF = 1 / 0), pF = [], VC(e, OF), n = pF.length) {
-                        for (pF.sort(qF), t = 1, a = [r = pF[0]]; t < n; ++t) HF(r, (i = pF[t])[0]) || HF(r, i[1]) ? (BF(r[0], i[1]) > BF(r[0], r[1]) && (r[1] = i[1]), BF(i[0], r[1]) > BF(r[0], r[1]) && (r[0] = i[0])) : a.push(r = i);
-                        for (o = -1 / 0, t = 0, r = a[n = a.length - 1]; t <= n; r = i, ++t) i = a[t], (u = BF(r[1], i[0])) > o && (o = u, oF = i[0], sF = r[1])
+                    if (oF = aF = -(rF = iF = 1 / 0), fF = [], HC(e, FF), n = fF.length) {
+                        for (fF.sort(jF), t = 1, a = [r = fF[0]]; t < n; ++t) BF(r, (i = fF[t])[0]) || BF(r, i[1]) ? (IF(r[0], i[1]) > IF(r[0], r[1]) && (r[1] = i[1]), IF(i[0], r[1]) > IF(r[0], r[1]) && (r[0] = i[0])) : a.push(r = i);
+                        for (o = -1 / 0, t = 0, r = a[n = a.length - 1]; t <= n; r = i, ++t) i = a[t], (u = IF(r[1], i[0])) > o && (o = u, rF = i[0], aF = r[1])
                     }
-                    return pF = gF = null, oF === 1 / 0 || uF === 1 / 0 ? [
+                    return fF = dF = null, rF === 1 / 0 || iF === 1 / 0 ? [
                         [NaN, NaN],
                         [NaN, NaN]
                     ] : [
-                        [oF, uF],
-                        [sF, lF]
+                        [rF, iF],
+                        [aF, oF]
                     ]
                 })),
-                iN = tN("centroid", (function(e) {
-                    mF = vF = yF = bF = _F = xF = wF = SF = EF = AF = kF = 0, VC(e, WF);
-                    var t = EF,
-                        n = AF,
-                        r = kF,
+                tN = QF("centroid", (function(e) {
+                    hF = pF = gF = mF = vF = yF = bF = _F = xF = wF = SF = 0, HC(e, UF);
+                    var t = xF,
+                        n = wF,
+                        r = SF,
                         i = t * t + n * n + r * r;
-                    return i < 1e-12 && (t = xF, n = wF, r = SF, vF < sE && (t = yF, n = bF, r = _F), (i = t * t + n * n + r * r) < 1e-12) ? [NaN, NaN] : [mE(n, t) * hE, xE(r / _E(i)) * hE]
+                    return i < 1e-12 && (t = yF, n = bF, r = _F, pF < WS && (t = gF, n = mF, r = vF), (i = t * t + n * n + r * r) < 1e-12) ? [NaN, NaN] : [QS(n, t) * $S, rE(r / nE(i)) * $S]
                 }));
 
-            function aN(e) {
+            function nN(e) {
                 var t = this.context.data[e];
                 return t ? t.values.value : []
             }
 
-            function oN(e, t, n, r) {
-                t[0].type !== NC && (0, ke.error)("First argument to data functions must be a string literal.");
+            function rN(e, t, n, r) {
+                t[0].type !== MC && (0, Ee.error)("First argument to data functions must be a string literal.");
                 var i = t[0].value,
-                    a = ":" + i;
+                    a = CC + i;
                 r.hasOwnProperty(a) || (r[a] = n.getData(i).tuplesRef())
             }
-            var uN = {};
+            var iN = {};
 
-            function sN(e) {
+            function aN(e) {
                 return e.data
             }
 
-            function lN(e, t) {
-                var n = aN.call(t, e);
-                return n.root && n.root.lookup || uN
+            function oN(e, t) {
+                var n = nN.call(t, e);
+                return n.root && n.root.lookup || iN
             }
 
-            function cN(e, t, n, r) {
+            function uN(e, t, n, r) {
                 var i, a = t[0],
                     o = t[t.length - 1];
                 return a > o && (i = a, a = o, o = i), r = void 0 === r || r, ((n = void 0 === n || n) ? a <= e : a < e) && (r ? e <= o : e < o)
             }
 
-            function fN(e, t) {
-                return e === t || e != e && t != t || !(!(0, ke.isArray)(e) || !(0, ke.isArray)(t) || e.length !== t.length) && function(e, t) {
+            function sN(e, t) {
+                return e === t || e != e && t != t || !(!(0, Ee.isArray)(e) || !(0, Ee.isArray)(t) || e.length !== t.length) && function(e, t) {
                     for (var n = 0, r = e.length; n < r; ++n)
-                        if (!fN(e[n], t[n])) return !1;
+                        if (!sN(e[n], t[n])) return !1;
                     return !0
                 }(e, t)
             }
 
-            function dN(e) {
+            function lN(e) {
                 return function(t) {
                     for (var n in e)
-                        if (!fN(t[n], e[n])) return !1;
+                        if (!sN(t[n], e[n])) return !1;
                     return !0
                 }
             }
-            var hN = "bin_",
-                pN = "intersect",
-                gN = "union",
-                mN = "index:unit";
+            var cN = "bin_",
+                fN = "intersect",
+                dN = "union",
+                hN = "index:unit";
 
-            function vN(e, t) {
+            function pN(e, t) {
                 for (var n, r = t.fields, i = t.values, a = t.getter || (t.getter = []), o = r.length, u = 0; u < o; ++u)
-                    if (a[u] = a[u] || (0, ke.field)(r[u]), n = a[u](e), (0, ke.isDate)(n) && (n = (0, ke.toNumber)(n)), (0, ke.isDate)(i[u]) && (i[u] = (0, ke.toNumber)(i[u])), t[hN + r[u]]) {
-                        if ((0, ke.isDate)(i[u][0]) && (i[u] = i[u].map(ke.toNumber)), !cN(n, i[u], !0, !1)) return !1
+                    if (a[u] = a[u] || (0, Ee.field)(r[u]), n = a[u](e), (0, Ee.isDate)(n) && (n = (0, Ee.toNumber)(n)), (0, Ee.isDate)(i[u]) && (i[u] = (0, Ee.toNumber)(i[u])), t[cN + r[u]]) {
+                        if ((0, Ee.isDate)(i[u][0]) && (i[u] = i[u].map(Ee.toNumber)), !uN(n, i[u], !0, !1)) return !1
                     } else if (n !== i[u]) return !1;
                 return !0
             }
 
-            function yN(e, t) {
+            function gN(e, t) {
                 for (var n, r, i = t.intervals, a = i.length, o = 0; o < a; ++o) {
-                    if (n = i[o].extent, r = (i[o].getter || (i[o].getter = (0, ke.field)(i[o].field)))(e), !n || n[0] === n[1]) return !1;
-                    if ((0, ke.isDate)(r) && (r = (0, ke.toNumber)(r)), (0, ke.isDate)(n[0]) && (n = i[o].extent = n.map(ke.toNumber)), (0, ke.isNumber)(n[0]) && !cN(r, n)) return !1;
-                    if ((0, ke.isString)(n[0]) && n.indexOf(r) < 0) return !1
+                    if (n = i[o].extent, r = (i[o].getter || (i[o].getter = (0, Ee.field)(i[o].field)))(e), !n || n[0] === n[1]) return !1;
+                    if ((0, Ee.isDate)(r) && (r = (0, Ee.toNumber)(r)), (0, Ee.isDate)(n[0]) && (n = i[o].extent = n.map(Ee.toNumber)), (0, Ee.isNumber)(n[0]) && !uN(r, n)) return !1;
+                    if ((0, Ee.isString)(n[0]) && n.indexOf(r) < 0) return !1
                 }
                 return !0
             }
 
-            function bN(e, t, n, r) {
-                for (var i, a, o, u, s, l = this.context.data[e], c = l ? l.values.value : [], f = l ? l[mN] && l[mN].value : void 0, d = n === pN, h = c.length, p = 0; p < h; ++p)
+            function mN(e, t, n, r) {
+                for (var i, a, o, u, s, l = this.context.data[e], c = l ? l.values.value : [], f = l ? l[hN] && l[hN].value : void 0, d = n === fN, h = c.length, p = 0; p < h; ++p)
                     if (i = c[p], f && d) {
                         if (-1 === (o = (a = a || {})[u = i.unit] || 0)) continue;
                         if (s = r(t, i), a[u] = s ? -1 : ++o, s && 1 === f.size) return !0;
                         if (!s && o === f.get(u).count) return !1
                     } else if (d ^ (s = r(t, i))) return s;
                 return h && d
             }
 
-            function _N(e, t, n) {
-                return bN.call(this, e, t, n, vN)
+            function vN(e, t, n) {
+                return mN.call(this, e, t, n, pN)
             }
 
-            function xN(e, t, n, r) {
-                t[0].type !== NC && (0, ke.error)("First argument to indata must be a string literal.");
-                var i = t[0].value;
-                (t.length >= 2 && t[t.length - 1].value) !== pN || r.hasOwnProperty("@unit") || (r["@unit"] = n.getData(i).indataRef(n, "unit")), oN(0, t, n, r)
+            function yN(e, t, n, r) {
+                t[0].type !== MC && (0, Ee.error)("First argument to indata must be a string literal.");
+                var i = t[0].value,
+                    a = "unit",
+                    o = "@" + a;
+                (t.length >= 2 && t[t.length - 1].value) !== fN || r.hasOwnProperty(o) || (r[o] = n.getData(i).indataRef(n, a)), rN(0, t, n, r)
             }
 
-            function wN(e, t, n, r) {
+            function bN(e, t, n, r) {
                 var i, a, o, u, s, l = this.context.data[e],
                     c = l ? l.values.value : [],
-                    f = l ? l[mN] && l[mN].value : void 0,
+                    f = l ? l[hN] && l[hN].value : void 0,
                     d = c[0],
                     h = 0;
                 if (d) {
                     for (i = t ? d.encodings.length : d.fields.length; h < i; ++h)
                         if (t && d.encodings[h] === t || n && d.fields[h] === n) {
-                            a = h, u = d[hN + d.fields[h]];
+                            a = h, u = d[cN + d.fields[h]];
                             break
-                        } return f && 1 === f.size && (r = gN), f && r === pN ? (s = c.reduce((function(e, t) {
+                        } return f && 1 === f.size && (r = dN), f && r === fN ? (s = c.reduce((function(e, t) {
                         return (e[t.unit] || (e[t.unit] = [])).push({
                             unit: t.unit,
                             value: t.values[a]
                         }), e
                     }), {}), o = Object.keys(s).map((function(e) {
                         return {
                             unit: e,
-                            value: u ? EN(s[e], gN) : SN(s[e], gN)
+                            value: u ? xN(s[e], dN) : _N(s[e], dN)
                         }
                     }))) : o = c.map((function(e) {
                         return {
                             unit: e.unit,
                             value: e.values[a]
                         }
-                    })), u ? EN(o, r) : SN(o, r)
+                    })), u ? xN(o, r) : _N(o, r)
                 }
             }
 
-            function SN(e, t) {
+            function _N(e, t) {
                 for (var n, r, i, a, o = {}, u = 0, s = {}, l = [], c = 0, f = e.length; c < f; ++c) r = (n = e[c]).unit, a = n.value, o[r] || (o[r] = ++u), (i = s[a]) || (s[a] = i = {
                     value: a,
                     units: {},
                     count: 0
                 }), i.units[r] || (i.units[r] = ++i.count);
-                for (a in s) i = s[a], t === pN && i.count !== u || l.push(i.value);
+                for (a in s) i = s[a], t === fN && i.count !== u || l.push(i.value);
                 return l.length ? l : void 0
             }
 
-            function EN(e, t) {
-                for (var n, r, i, a, o = t === pN ? kN : AN, u = 0, s = e.length; u < s; ++u) n = e[u].value, (0, ke.isDate)(n[0]) && (n = n.map(ke.toNumber)), (i = n[0]) > (a = n[1]) && (a = n[0], i = n[1]), r = r ? o(r, i, a) : [i, a];
+            function xN(e, t) {
+                for (var n, r, i, a, o = t === fN ? SN : wN, u = 0, s = e.length; u < s; ++u) n = e[u].value, (0, Ee.isDate)(n[0]) && (n = n.map(Ee.toNumber)), (i = n[0]) > (a = n[1]) && (a = n[0], i = n[1]), r = r ? o(r, i, a) : [i, a];
                 return r && r.length && +r[0] != +r[1] ? r : void 0
             }
 
-            function AN(e, t, n) {
+            function wN(e, t, n) {
                 return e[0] > t && (e[0] = t), e[1] < n && (e[1] = n), e
             }
 
-            function kN(e, t, n) {
+            function SN(e, t, n) {
                 return n < e[0] || e[1] < t ? [] : (e[0] < t && (e[0] = t), e[1] > n && (e[1] = n), e)
             }
-            var MN = {
+            var EN = {
                     random: function() {
-                        return ea()
-                    },
-                    isArray: ke.isArray,
-                    isBoolean: ke.isBoolean,
-                    isDate: ke.isDate,
-                    isNumber: ke.isNumber,
-                    isObject: ke.isObject,
-                    isRegExp: ke.isRegExp,
-                    isString: ke.isString,
-                    isTuple: Fe,
-                    toBoolean: ke.toBoolean,
-                    toDate: ke.toDate,
-                    toNumber: ke.toNumber,
-                    toString: ke.toString,
-                    pad: ke.pad,
-                    peek: ke.peek,
-                    truncate: ke.truncate,
-                    rgb: bh,
-                    lab: vm,
-                    hcl: Em,
-                    hsl: kh,
-                    sequence: function(e, t, n) {
-                        e = +e, t = +t, n = (i = arguments.length) < 2 ? (t = e, e = 0, 1) : i < 3 ? 1 : +n;
-                        for (var r = -1, i = 0 | Math.max(0, Math.ceil((t - e) / n)), a = new Array(i); ++r < i;) a[r] = e + r * n;
-                        return a
+                        return ta()
                     },
+                    isArray: Ee.isArray,
+                    isBoolean: Ee.isBoolean,
+                    isDate: Ee.isDate,
+                    isNumber: Ee.isNumber,
+                    isObject: Ee.isObject,
+                    isRegExp: Ee.isRegExp,
+                    isString: Ee.isString,
+                    isTuple: De,
+                    toBoolean: Ee.toBoolean,
+                    toDate: Ee.toDate,
+                    toNumber: Ee.toNumber,
+                    toString: Ee.toString,
+                    pad: Ee.pad,
+                    peek: Ee.peek,
+                    truncate: Ee.truncate,
+                    rgb: Dh,
+                    lab: tm,
+                    hcl: um,
+                    hsl: Rh,
+                    sequence: Mo,
                     format: function(e, t) {
-                        return AC("format", yp, t)(e)
+                        return xC("format", Mp, t)(e)
                     },
                     utcFormat: function(e, t) {
-                        return AC("utcFormat", Bn, t)(e)
+                        return xC("utcFormat", qn, t)(e)
                     },
                     utcParse: function(e, t) {
-                        return AC("utcParse", qn, t)(e)
+                        return xC("utcParse", Hn, t)(e)
                     },
-                    timeFormat: kC,
+                    timeFormat: wC,
                     timeParse: function(e, t) {
-                        return AC("timeParse", jn, t)(e)
+                        return xC("timeParse", Un, t)(e)
                     },
                     monthFormat: function(e) {
-                        return DC(e, 1, "%B")
+                        return EC(e, 1, "%B")
                     },
                     monthAbbrevFormat: function(e) {
-                        return DC(e, 1, "%b")
+                        return EC(e, 1, "%b")
                     },
                     dayFormat: function(e) {
-                        return DC(0, 2 + e, "%A")
+                        return EC(0, 2 + e, "%A")
                     },
                     dayAbbrevFormat: function(e) {
-                        return DC(0, 2 + e, "%a")
+                        return EC(0, 2 + e, "%a")
                     },
                     quarter: function(e) {
                         return 1 + ~~(new Date(e).getMonth() / 3)
                     },
                     utcquarter: function(e) {
                         return 1 + ~~(new Date(e).getUTCMonth() / 3)
                     },
                     warn: function() {
-                        return CC(this.context.dataflow, "warn", arguments)
+                        return AC(this.context.dataflow, "warn", arguments)
                     },
                     info: function() {
-                        return CC(this.context.dataflow, "info", arguments)
+                        return AC(this.context.dataflow, "info", arguments)
                     },
                     debug: function() {
-                        return CC(this.context.dataflow, "debug", arguments)
+                        return AC(this.context.dataflow, "debug", arguments)
                     },
                     inScope: function(e) {
                         var t = this.context.group,
                             n = !1;
                         if (t)
                             for (; e;) {
                                 if (e === t) {
@@ -19878,53 +20151,53 @@
                         return Math.sqrt(n * n + r * r)
                     },
                     pinchAngle: function(e) {
                         var t = e.touches;
                         return Math.atan2(t[0].clientY - t[1].clientY, t[0].clientX - t[1].clientX)
                     },
                     screen: function() {
-                        return FC ? FC.screen : {}
+                        return kC ? kC.screen : {}
                     },
                     containerSize: function() {
                         var e = this.context.dataflow,
                             t = e.container && e.container();
                         return t ? [t.clientWidth, t.clientHeight] : [void 0, void 0]
                     },
                     windowSize: function() {
-                        return FC ? [FC.innerWidth, FC.innerHeight] : [void 0, void 0]
+                        return kC ? [kC.innerWidth, kC.innerHeight] : [void 0, void 0]
                     },
                     span: function(e) {
                         return e[e.length - 1] - e[0] || 0
                     },
                     flush: function(e, t, n, r, i, a) {
                         var o = Math.abs(t - e[0]),
-                            u = Math.abs((0, ke.peek)(e) - t);
+                            u = Math.abs((0, Ee.peek)(e) - t);
                         return o < u && o <= n ? r : u <= n ? i : a
                     },
                     bandspace: function(e, t, n) {
-                        return kd(e || 0, t || 0, n || 0)
+                        return Xd(e || 0, t || 0, n || 0)
                     },
-                    inrange: cN,
+                    inrange: uN,
                     setdata: function(e, t) {
                         var n = this.context.dataflow,
                             r = this.context.data[e].input;
-                        return n.pulse(r, n.changeset().remove(ke.truthy).insert(t)), 1
+                        return n.pulse(r, n.changeset().remove(Ee.truthy).insert(t)), 1
                     },
                     pathShape: function(e) {
                         var t = null;
                         return function(n) {
-                            return n ? ws(n, t = t || gs(e)) : e
+                            return n ? Is(n, t = t || Ns(e)) : e
                         }
                     },
-                    panLinear: ke.panLinear,
-                    panLog: ke.panLog,
-                    panPow: ke.panPow,
-                    zoomLinear: ke.zoomLinear,
-                    zoomLog: ke.zoomLog,
-                    zoomPow: ke.zoomPow,
+                    panLinear: Ee.panLinear,
+                    panLog: Ee.panLog,
+                    panPow: Ee.panPow,
+                    zoomLinear: Ee.zoomLinear,
+                    zoomLog: Ee.zoomLog,
+                    zoomPow: Ee.zoomPow,
                     encode: function(e, t, n) {
                         if (e) {
                             var r = this.context.dataflow,
                                 i = e.mark.source;
                             r.pulse(i, r.changeset().encode(e, t))
                         }
                         return void 0 !== n ? n : e
@@ -19934,72 +20207,72 @@
                             l = this.context.data[e],
                             c = l.input,
                             f = l.changes,
                             d = s.stamp();
                         if (!1 === s._trigger || !(c.value.length || t || r)) return 0;
                         if ((!f || f.stamp < d) && (l.changes = f = s.changeset(), f.stamp = d, s.runAfter((function() {
                                 l.modified = !0, s.pulse(c, f).run()
-                            }), !0, 1)), n && (o = !0 === n ? ke.truthy : (0, ke.isArray)(n) || Fe(n) ? n : dN(n), f.remove(o)), t && f.insert(t), r && (o = dN(r), c.value.some(o) ? f.remove(o) : f.insert(r)), i)
+                            }), !0, 1)), n && (o = !0 === n ? Ee.truthy : (0, Ee.isArray)(n) || De(n) ? n : lN(n), f.remove(o)), t && f.insert(t), r && (o = lN(r), c.value.some(o) ? f.remove(o) : f.insert(r)), i)
                             for (u in a) f.modify(i, u, a[u]);
                         return 1
                     }
                 },
-                DN = ["view", "item", "group", "xy", "x", "y"],
-                CN = "this.",
-                FN = {};
+                AN = ["view", "item", "group", "xy", "x", "y"],
+                kN = "this.",
+                MN = {};
 
-            function NN(e, t, n) {
-                return 1 === arguments.length ? MN[e] : (MN[e] = t, n && (FN[e] = n), ON && (ON.functions[e] = CN + e), this)
+            function DN(e, t, n) {
+                return 1 === arguments.length ? EN[e] : (EN[e] = t, n && (MN[e] = n), FN && (FN.functions[e] = kN + e), this)
             }
-            NN("bandwidth", (function(e, t) {
-                var n = OC(e, (t || this).context);
+            DN("bandwidth", (function(e, t) {
+                var n = FC(e, (t || this).context);
                 return n && n.bandwidth ? n.bandwidth() : 0
-            }), RC), NN("copy", (function(e, t) {
-                var n = OC(e, (t || this).context);
+            }), OC), DN("copy", (function(e, t) {
+                var n = FC(e, (t || this).context);
                 return n ? n.copy() : void 0
-            }), RC), NN("domain", (function(e, t) {
-                var n = OC(e, (t || this).context);
+            }), OC), DN("domain", (function(e, t) {
+                var n = FC(e, (t || this).context);
                 return n ? n.domain() : []
-            }), RC), NN("range", (function(e, t) {
-                var n = OC(e, (t || this).context);
+            }), OC), DN("range", (function(e, t) {
+                var n = FC(e, (t || this).context);
                 return n && n.range ? n.range() : []
-            }), RC), NN("invert", (function(e, t, n) {
-                var r = OC(e, (n || this).context);
-                return r ? (0, ke.isArray)(t) ? (r.invertRange || r.invert)(t) : (r.invert || r.invertExtent)(t) : void 0
-            }), RC), NN("scale", (function(e, t, n) {
-                var r = OC(e, (n || this).context);
+            }), OC), DN("invert", (function(e, t, n) {
+                var r = FC(e, (n || this).context);
+                return r ? (0, Ee.isArray)(t) ? (r.invertRange || r.invert)(t) : (r.invert || r.invertExtent)(t) : void 0
+            }), OC), DN("scale", (function(e, t, n) {
+                var r = FC(e, (n || this).context);
                 return r ? r(t) : void 0
-            }), RC), NN("gradient", (function(e, t, n, r, i) {
-                e = OC(e, (i || this).context);
-                var a = lu(t, n),
+            }), OC), DN("gradient", (function(e, t, n, r, i) {
+                e = FC(e, (i || this).context);
+                var a = ku(t, n),
                     o = e.domain(),
                     u = o[0],
                     s = o[o.length - 1],
-                    l = Xm(e, u, s);
+                    l = Fm(e, u, s);
                 e.ticks && (u !== (o = e.ticks(+r || 15))[0] && o.unshift(u), s !== o[o.length - 1] && o.push(s));
                 for (var c = 0, f = o.length; c < f; ++c) a.stop(l(o[c]), e(o[c]));
                 return a
-            }), RC), NN("geoArea", nN, RC), NN("geoBounds", rN, RC), NN("geoCentroid", iN, RC), NN("geoShape", (function(e, t, n) {
-                var r = OC(e, (n || this).context);
+            }), OC), DN("geoArea", ZF, OC), DN("geoBounds", eN, OC), DN("geoCentroid", tN, OC), DN("geoShape", (function(e, t, n) {
+                var r = FC(e, (n || this).context);
                 return function(e) {
                     return r ? r.path.context(e)(t) : ""
                 }
-            }), RC), NN("indata", (function(e, t, n) {
+            }), OC), DN("indata", (function(e, t, n) {
                 var r = this.context.data[e]["index:" + t],
                     i = r ? r.value.get(n) : void 0;
                 return i ? i.count : i
             }), (function(e, t, n, r) {
-                t[0].type !== NC && (0, ke.error)("First argument to indata must be a string literal."), t[1].type !== NC && (0, ke.error)("Second argument to indata must be a string literal.");
+                t[0].type !== MC && (0, Ee.error)("First argument to indata must be a string literal."), t[1].type !== MC && (0, Ee.error)("Second argument to indata must be a string literal.");
                 var i = t[0].value,
                     a = t[1].value,
                     o = "@" + a;
                 r.hasOwnProperty(o) || (r[o] = n.getData(i).indataRef(n, a))
-            })), NN("data", aN, oN), NN("vlSingle", _N, oN), NN("vlSingleDomain", wN, oN), NN("vlMulti", _N, xN), NN("vlMultiDomain", wN, xN), NN("vlInterval", (function(e, t, n) {
-                return bN.call(this, e, t, n, yN)
-            }), oN), NN("vlIntervalDomain", (function(e, t, n, r) {
+            })), DN("data", nN, rN), DN("vlSingle", vN, rN), DN("vlSingleDomain", bN, rN), DN("vlMulti", vN, yN), DN("vlMultiDomain", bN, yN), DN("vlInterval", (function(e, t, n) {
+                return mN.call(this, e, t, n, gN)
+            }), rN), DN("vlIntervalDomain", (function(e, t, n, r) {
                 var i, a, o, u, s, l = this.context.data[e],
                     c = l ? l.values.value : [],
                     f = c[0],
                     d = 0;
                 if (f) {
                     for (i = f.intervals.length; d < i; ++d)
                         if (a = f.intervals[d], t && a.encoding === t || n && a.field === n) {
@@ -20014,81 +20287,81 @@
                                     value: e
                                 }
                             })) : {
                                 unit: t.unit,
                                 value: n
                             };
                         return s ? e.push.apply(e, r) : e.push(r), e
-                    }), []), s ? SN(u, r) : EN(u, r)
+                    }), []), s ? _N(u, r) : xN(u, r)
                 }
-            }), oN), NN("treePath", (function(e, t, n) {
-                var r = lN(e, this),
+            }), rN), DN("treePath", (function(e, t, n) {
+                var r = oN(e, this),
                     i = r[t],
                     a = r[n];
-                return i && a ? i.path(a).map(sN) : void 0
-            }), oN), NN("treeAncestors", (function(e, t) {
-                var n = lN(e, this)[t];
-                return n ? n.ancestors().map(sN) : void 0
-            }), oN);
-            var TN = {
+                return i && a ? i.path(a).map(aN) : void 0
+            }), rN), DN("treeAncestors", (function(e, t) {
+                var n = oN(e, this)[t];
+                return n ? n.ancestors().map(aN) : void 0
+            }), rN);
+            var CN = {
                     blacklist: ["_"],
                     whitelist: ["datum", "event", "item"],
                     fieldvar: "datum",
                     globalvar: function(e) {
-                        return "_[" + (0, ke.stringValue)("$" + e) + "]"
+                        return "_[" + (0, Ee.stringValue)("$" + e) + "]"
                     },
                     functions: function(e) {
-                        var t = _C(e);
-                        for (var n in DN.forEach((function(e) {
+                        var t = bC(e);
+                        for (var n in AN.forEach((function(e) {
                                 t[e] = "event.vega." + e
-                            })), MN) t[n] = CN + n;
+                            })), EN) t[n] = kN + n;
                         return t
                     },
-                    constants: bC,
-                    visitors: FN
+                    constants: yC,
+                    visitors: MN
                 },
-                ON = function(e) {
-                    const t = (e = e || {}).whitelist ? (0, ke.toSet)(e.whitelist) : {},
-                        n = e.blacklist ? (0, ke.toSet)(e.blacklist) : {},
-                        r = e.constants || bC,
-                        i = (e.functions || _C)(f),
+                FN = function(e) {
+                    const t = (e = e || {}).whitelist ? (0, Ee.toSet)(e.whitelist) : {},
+                        n = e.blacklist ? (0, Ee.toSet)(e.blacklist) : {},
+                        r = e.constants || yC,
+                        i = (e.functions || bC)(f),
                         a = e.globalvar,
                         o = e.fieldvar,
-                        u = (0, ke.isFunction)(a) ? a : e => `${a}["${e}"]`;
+                        u = (0, Ee.isFunction)(a) ? a : e => `${a}["${e}"]`;
                     let s = {},
                         l = {},
                         c = 0;
 
                     function f(e) {
-                        if ((0, ke.isString)(e)) return e;
+                        if ((0, Ee.isString)(e)) return e;
                         const t = d[e.type];
-                        return null == t && (0, ke.error)("Unsupported type: " + e.type), t(e)
+                        return null == t && (0, Ee.error)("Unsupported type: " + e.type), t(e)
                     }
                     const d = {
                         Literal: e => e.raw,
                         Identifier: e => {
                             const i = e.name;
-                            return c > 0 ? i : (0, ke.hasOwnProperty)(n, i) ? (0, ke.error)("Illegal identifier: " + i) : (0, ke.hasOwnProperty)(r, i) ? r[i] : (0, ke.hasOwnProperty)(t, i) ? i : (s[i] = 1, u(i))
+                            return c > 0 ? i : (0, Ee.hasOwnProperty)(n, i) ? (0, Ee.error)("Illegal identifier: " + i) : (0, Ee.hasOwnProperty)(r, i) ? r[i] : (0, Ee.hasOwnProperty)(t, i) ? i : (s[i] = 1, u(i))
                         },
                         MemberExpression: e => {
                             const t = !e.computed,
                                 n = f(e.object);
                             t && (c += 1);
                             const r = f(e.property);
                             return n === o && (l[function(e) {
                                 const t = e && e.length - 1;
                                 return t && ('"' === e[0] && '"' === e[t] || "'" === e[0] && "'" === e[t]) ? e.slice(1, -1) : e
                             }(r)] = 1), t && (c -= 1), n + (t ? "." + r : "[" + r + "]")
                         },
                         CallExpression: e => {
-                            "Identifier" !== e.callee.type && (0, ke.error)("Illegal callee type: " + e.callee.type);
+                            "Identifier" !== e.callee.type && (0, Ee.error)("Illegal callee type: " + e.callee.type);
                             const t = e.callee.name,
                                 n = e.arguments,
-                                r = (0, ke.hasOwnProperty)(i, t) && i[t];
-                            return r || (0, ke.error)("Unrecognized function: " + t), (0, ke.isFunction)(r) ? r(n) : r + "(" + n.map(f).join(",") + ")"
+                                r = (0, Ee.hasOwnProperty)(i, t) && i[t];
+                            return r || (0, Ee.error)("Unrecognized function: " + t), (0, Ee.isFunction)(r) ? r(n) : r + "(" + n.map(f).join(",") + ")"
                         },
                         ArrayExpression: e => "[" + e.elements.map(f).join(",") + "]",
                         BinaryExpression: e => "(" + f(e.left) + e.operator + f(e.right) + ")",
                         UnaryExpression: e => "(" + e.operator + f(e.argument) + ")",
                         ConditionalExpression: e => "(" + f(e.test) + "?" + f(e.consequent) + ":" + f(e.alternate) + ")",
                         LogicalExpression: e => "(" + f(e.left) + e.operator + f(e.right) + ")",
                         ObjectExpression: e => "{" + e.properties.map(f).join(",") + "}",
@@ -20104,1044 +20377,1062 @@
                             code: f(e),
                             globals: Object.keys(s),
                             fields: Object.keys(l)
                         };
                         return s = {}, l = {}, t
                     }
                     return h.functions = i, h.constants = r, h
-                }(TN);
+                }(CN),
+                NN = "$";
 
-            function PN(e, t, n) {
+            function ON(e, t, n) {
                 var r, i, a = {};
                 try {
                     r = function(e) {
-                        wD = 0, SD = (xD = e).length, ED = null, JD();
-                        var t = yC();
-                        if (2 !== ED.type) throw new Error("Unexpect token after expression.");
+                        JM = 0, QM = (KM = e).length, ZM = null, KD();
+                        var t = vC();
+                        if (ZM.type !== tD) throw new Error("Unexpect token after expression.");
                         return t
                     }(e)
                 } catch (t) {
-                    (0, ke.error)("Expression parse error: " + (0, ke.stringValue)(e))
+                    (0, Ee.error)("Expression parse error: " + (0, Ee.stringValue)(e))
                 }
                 return r.visit((function(e) {
                     if ("CallExpression" === e.type) {
                         var n = e.callee.name,
-                            r = TN.visitors[n];
+                            r = CN.visitors[n];
                         r && r(n, e.arguments, t, a)
                     }
-                })), (i = ON(r)).globals.forEach((function(e) {
-                    var n = "$" + e;
+                })), (i = FN(r)).globals.forEach((function(e) {
+                    var n = NN + e;
                     !a.hasOwnProperty(n) && t.getSignal(e) && (a[n] = t.signalRef(e))
                 })), {
                     $expr: n ? n + "return(" + i.code + ");" : i.code,
                     $fields: i.fields,
                     $params: a
                 }
             }
 
-            function RN(e, t, n, r) {
+            function TN(e, t, n, r) {
                 this.id = -1, this.type = e, this.value = t, this.params = n, r && (this.parent = r)
             }
 
-            function LN(e, t, n, r) {
-                return new RN(e, t, n, r)
+            function PN(e, t, n, r) {
+                return new TN(e, t, n, r)
             }
 
-            function zN(e, t) {
-                return LN("operator", e, t)
+            function RN(e, t) {
+                return PN("operator", e, t)
             }
 
-            function IN(e) {
+            function LN(e) {
                 var t = {
                     $ref: e.id
                 };
                 return e.id < 0 && (e.refs = e.refs || []).push(t), t
             }
-            var UN = {
+            var zN = {
                 $tupleid: 1,
                 toString: function() {
                     return ":_tupleid_:"
                 }
             };
 
-            function jN(e, t) {
+            function IN(e, t) {
                 return t ? {
                     $field: e,
                     $name: t
                 } : {
                     $field: e
                 }
             }
-            var BN = jN("key");
+            var jN = IN("key");
 
-            function qN(e, t) {
+            function BN(e, t) {
                 return {
                     $compare: e,
                     $order: t
                 }
             }
 
-            function HN(e, t) {
+            function UN(e, t) {
                 return (e && e.signal ? "$" + e.signal : e || "") + (e && t ? "_" : "") + (t && t.signal ? "$" + t.signal : t || "")
             }
-            var WN = "scope",
-                YN = "view";
+            var qN = "scope",
+                HN = "view";
 
-            function VN(e) {
+            function WN(e) {
                 return e && e.signal
             }
 
-            function GN(e, t) {
+            function VN(e, t) {
                 return null != e ? e : t
             }
 
-            function XN(e, t) {
-                return e.signal ? t.getSignal(e.signal).id : e.scale ? t.getScale(e.scale).id : $N(e, t)
+            function GN(e, t) {
+                return e.signal ? t.getSignal(e.signal).id : e.scale ? t.getScale(e.scale).id : YN(e, t)
             }
 
-            function $N(e, t) {
-                return (e.merge ? KN : e.stream ? JN : e.type ? QN : (0, ke.error)("Invalid stream specification: " + (0, ke.stringValue)(e)))(e, t)
+            function YN(e, t) {
+                return (e.merge ? XN : e.stream ? $N : e.type ? KN : (0, Ee.error)("Invalid stream specification: " + (0, Ee.stringValue)(e)))(e, t)
             }
 
-            function KN(e, t) {
-                var n = ZN({
+            function XN(e, t) {
+                var n = JN({
                     merge: e.merge.map((function(e) {
-                        return $N(e, t)
+                        return YN(e, t)
                     }))
                 }, e, t);
                 return t.addStream(n).id
             }
 
-            function JN(e, t) {
-                var n = ZN({
-                    stream: $N(e.stream, t)
+            function $N(e, t) {
+                var n = JN({
+                    stream: YN(e.stream, t)
                 }, e, t);
                 return t.addStream(n).id
             }
 
-            function QN(e, t) {
-                var n, r = t.event((n = e.source) === WN ? YN : n || YN, e.type),
-                    i = ZN({
+            function KN(e, t) {
+                var n, r = t.event((n = e.source) === qN ? HN : n || HN, e.type),
+                    i = JN({
                         stream: r
                     }, e, t);
                 return 1 === Object.keys(i).length ? r : t.addStream(i).id
             }
 
-            function ZN(e, t, n) {
+            function JN(e, t, n) {
                 var r = t.between;
-                return r && (2 !== r.length && (0, ke.error)('Stream "between" parameter must have 2 entries: ' + (0, ke.stringValue)(t)), e.between = [$N(r[0], n), $N(r[1], n)]), r = t.filter ? (0, ke.array)(t.filter) : [], (t.marktype || t.markname || t.markrole) && r.push(function(e, t, n) {
+                return r && (2 !== r.length && (0, Ee.error)('Stream "between" parameter must have 2 entries: ' + (0, Ee.stringValue)(t)), e.between = [YN(r[0], n), YN(r[1], n)]), r = t.filter ? (0, Ee.array)(t.filter) : [], (t.marktype || t.markname || t.markrole) && r.push(function(e, t, n) {
                     var r = "event.item";
                     return r + (e && "*" !== e ? "&&" + r + ".mark.marktype==='" + e + "'" : "") + (n ? "&&" + r + ".mark.role==='" + n + "'" : "") + (t ? "&&" + r + ".mark.name==='" + t + "'" : "")
-                }(t.marktype, t.markname, t.markrole)), t.source === WN && r.push("inScope(event.item)"), r.length && (e.filter = PN("(" + r.join(")&&(") + ")").$expr), null != (r = t.throttle) && (e.throttle = +r), null != (r = t.debounce) && (e.debounce = +r), t.consume && (e.consume = !0), e
+                }(t.marktype, t.markname, t.markrole)), t.source === qN && r.push("inScope(event.item)"), r.length && (e.filter = ON("(" + r.join(")&&(") + ")").$expr), null != (r = t.throttle) && (e.throttle = +r), null != (r = t.debounce) && (e.debounce = +r), t.consume && (e.consume = !0), e
             }
-            var eT = n(5796),
-                tT = "var datum=event.item&&event.item.datum;";
+            var QN = n(5796),
+                ZN = "var datum=event.item&&event.item.datum;";
 
-            function nT(e) {
+            function eO(e) {
                 return function(t, n, r) {
-                    return LN(e, n, t || void 0, r)
+                    return PN(e, n, t || void 0, r)
                 }
             }
-            var rT = nT("aggregate"),
-                iT = nT("axisticks"),
-                aT = nT("bound"),
-                oT = nT("collect"),
-                uT = nT("compare"),
-                sT = nT("datajoin"),
-                lT = nT("encode"),
-                cT = (nT("extent"), nT("facet")),
-                fT = nT("field"),
-                dT = nT("key"),
-                hT = nT("legendentries"),
-                pT = nT("mark"),
-                gT = nT("multiextent"),
-                mT = nT("multivalues"),
-                vT = nT("overlap"),
-                yT = nT("params"),
-                bT = nT("prefacet"),
-                _T = nT("projection"),
-                xT = nT("proxy"),
-                wT = nT("relay"),
-                ST = nT("render"),
-                ET = nT("scale"),
-                AT = nT("sieve"),
-                kT = nT("sortitems"),
-                MT = nT("viewlayout"),
-                DT = nT("values"),
-                CT = 0,
-                FT = ["identity", "ordinal", "band", "point", "bin-linear", "bin-ordinal", "linear", "pow", "sqrt", "log", "sequential", "time", "utc", "quantize", "quantile", "threshold"],
-                NT = (0, ke.toSet)(FT),
-                TT = (0, ke.toSet)(FT.slice(1, 6));
+            var tO = eO("aggregate"),
+                nO = eO("axisticks"),
+                rO = eO("bound"),
+                iO = eO("collect"),
+                aO = eO("compare"),
+                oO = eO("datajoin"),
+                uO = eO("encode"),
+                sO = (eO("extent"), eO("facet")),
+                lO = eO("field"),
+                cO = eO("key"),
+                fO = eO("legendentries"),
+                dO = eO("mark"),
+                hO = eO("multiextent"),
+                pO = eO("multivalues"),
+                gO = eO("overlap"),
+                mO = eO("params"),
+                vO = eO("prefacet"),
+                yO = eO("projection"),
+                bO = eO("proxy"),
+                _O = eO("relay"),
+                xO = eO("render"),
+                wO = eO("scale"),
+                SO = eO("sieve"),
+                EO = eO("sortitems"),
+                AO = eO("viewlayout"),
+                kO = eO("values"),
+                MO = 0,
+                DO = ["identity", "ordinal", "band", "point", "bin-linear", "bin-ordinal", "linear", "pow", "sqrt", "log", "sequential", "time", "utc", "quantize", "quantile", "threshold"],
+                CO = (0, Ee.toSet)(DO),
+                FO = (0, Ee.toSet)(DO.slice(1, 6));
 
-            function OT(e) {
-                return TT.hasOwnProperty(e)
+            function NO(e) {
+                return FO.hasOwnProperty(e)
             }
 
-            function PT(e) {
+            function OO(e) {
                 return "quantile" === e
             }
 
-            function RT(e, t) {
+            function TO(e, t) {
                 var n, r = t.getScale(e.name).params;
-                for (n in r.domain = IT(e.domain, e, t), null != e.range && (r.range = VT(e, t, r)), null != e.interpolate && function(e, t) {
-                        t.interpolate = LT(e.type || e), null != e.gamma && (t.interpolateGamma = LT(e.gamma))
+                for (n in r.domain = LO(e.domain, e, t), null != e.range && (r.range = WO(e, t, r)), null != e.interpolate && function(e, t) {
+                        t.interpolate = PO(e.type || e), null != e.gamma && (t.interpolateGamma = PO(e.gamma))
                     }(e.interpolate, r), null != e.nice && function(e, t) {
-                        t.nice = (0, ke.isObject)(e) ? {
-                            interval: LT(e.interval),
-                            step: LT(e.step)
-                        } : LT(e)
-                    }(e.nice, r), e) r.hasOwnProperty(n) || "name" === n || (r[n] = LT(e[n], t))
+                        t.nice = (0, Ee.isObject)(e) ? {
+                            interval: PO(e.interval),
+                            step: PO(e.step)
+                        } : PO(e)
+                    }(e.nice, r), e) r.hasOwnProperty(n) || "name" === n || (r[n] = PO(e[n], t))
             }
 
-            function LT(e, t) {
-                return (0, ke.isObject)(e) ? e.signal ? t.signalRef(e.signal) : (0, ke.error)("Unsupported object: " + (0, ke.stringValue)(e)) : e
+            function PO(e, t) {
+                return (0, Ee.isObject)(e) ? e.signal ? t.signalRef(e.signal) : (0, Ee.error)("Unsupported object: " + (0, Ee.stringValue)(e)) : e
             }
 
-            function zT(e) {
-                (0, ke.error)("Can not find data set: " + (0, ke.stringValue)(e))
+            function RO(e) {
+                (0, Ee.error)("Can not find data set: " + (0, Ee.stringValue)(e))
             }
 
-            function IT(e, t, n) {
-                if (e) return e.signal ? n.signalRef(e.signal) : ((0, ke.isArray)(e) ? UT : e.fields ? BT : jT)(e, t, n);
-                null == t.domainMin && null == t.domainMax || (0, ke.error)("No scale domain defined for domainMin/domainMax to override.")
+            function LO(e, t, n) {
+                if (e) return e.signal ? n.signalRef(e.signal) : ((0, Ee.isArray)(e) ? zO : e.fields ? jO : IO)(e, t, n);
+                null == t.domainMin && null == t.domainMax || (0, Ee.error)("No scale domain defined for domainMin/domainMax to override.")
             }
 
-            function UT(e, t, n) {
+            function zO(e, t, n) {
                 return e.map((function(e) {
-                    return LT(e, n)
+                    return PO(e, n)
                 }))
             }
 
-            function jT(e, t, n) {
+            function IO(e, t, n) {
                 var r = n.getData(e.data);
-                return r || zT(e.data), OT(t.type) ? r.valuesRef(n, e.field, HT(e.sort, !1)) : PT(t.type) ? r.domainRef(n, e.field) : r.extentRef(n, e.field)
+                return r || RO(e.data), NO(t.type) ? r.valuesRef(n, e.field, UO(e.sort, !1)) : OO(t.type) ? r.domainRef(n, e.field) : r.extentRef(n, e.field)
             }
 
-            function BT(e, t, n) {
+            function jO(e, t, n) {
                 var r = e.data,
                     i = e.fields.reduce((function(e, t) {
-                        return t = (0, ke.isString)(t) ? {
+                        return t = (0, Ee.isString)(t) ? {
                             data: r,
                             field: t
-                        } : (0, ke.isArray)(t) || t.signal ? function(e, t) {
-                            var n = "_:vega:_" + CT++,
-                                r = oT({});
-                            if ((0, ke.isArray)(e)) r.value = {
+                        } : (0, Ee.isArray)(t) || t.signal ? function(e, t) {
+                            var n = "_:vega:_" + MO++,
+                                r = iO({});
+                            if ((0, Ee.isArray)(e)) r.value = {
                                 $ingest: e
                             };
                             else if (e.signal) {
-                                var i = "setdata(" + (0, ke.stringValue)(n) + "," + e.signal + ")";
+                                var i = "setdata(" + (0, Ee.stringValue)(n) + "," + e.signal + ")";
                                 r.params.input = t.signalRef(i)
                             }
-                            return t.addDataPipeline(n, [r, AT({})]), {
+                            return t.addDataPipeline(n, [r, SO({})]), {
                                 data: n,
                                 field: "data"
                             }
                         }(t, n) : t, e.push(t), e
                     }), []);
-                return (OT(t.type) ? qT : PT(t.type) ? WT : YT)(e, n, i)
+                return (NO(t.type) ? BO : OO(t.type) ? qO : HO)(e, n, i)
             }
 
-            function qT(e, t, n) {
+            function BO(e, t, n) {
                 var r, i, a, o;
                 return r = n.map((function(e) {
                     var n = t.getData(e.data);
-                    return n || zT(e.data), n.countsRef(t, e.field)
-                })), i = t.add(rT({
-                    groupby: BN,
+                    return n || RO(e.data), n.countsRef(t, e.field)
+                })), i = t.add(tO({
+                    groupby: jN,
                     ops: ["sum"],
                     fields: [t.fieldRef("count")],
                     as: ["count"],
                     pulse: r
-                })), a = t.add(oT({
-                    pulse: IN(i)
-                })), o = t.add(DT({
-                    field: BN,
-                    sort: t.sortRef(HT(e.sort, !0)),
-                    pulse: IN(a)
-                })), IN(o)
+                })), a = t.add(iO({
+                    pulse: LN(i)
+                })), o = t.add(kO({
+                    field: jN,
+                    sort: t.sortRef(UO(e.sort, !0)),
+                    pulse: LN(a)
+                })), LN(o)
             }
 
-            function HT(e, t) {
-                return e && (e.field || e.op ? e.field || "count" === e.op ? t && e.field ? (0, ke.error)("Multiple domain scales can not sort by field.") : t && e.op && "count" !== e.op && (0, ke.error)("Multiple domain scales support op count only.") : (0, ke.error)("No field provided for sort aggregate op: " + e.op) : (0, ke.isObject)(e) ? e.field = "key" : e = {
+            function UO(e, t) {
+                return e && (e.field || e.op ? e.field || "count" === e.op ? t && e.field ? (0, Ee.error)("Multiple domain scales can not sort by field.") : t && e.op && "count" !== e.op && (0, Ee.error)("Multiple domain scales support op count only.") : (0, Ee.error)("No field provided for sort aggregate op: " + e.op) : (0, Ee.isObject)(e) ? e.field = "key" : e = {
                     field: "key"
                 }), e
             }
 
-            function WT(e, t, n) {
+            function qO(e, t, n) {
                 var r = n.map((function(e) {
                     var n = t.getData(e.data);
-                    return n || zT(e.data), n.domainRef(t, e.field)
+                    return n || RO(e.data), n.domainRef(t, e.field)
                 }));
-                return IN(t.add(mT({
+                return LN(t.add(pO({
                     values: r
                 })))
             }
 
-            function YT(e, t, n) {
+            function HO(e, t, n) {
                 var r = n.map((function(e) {
                     var n = t.getData(e.data);
-                    return n || zT(e.data), n.extentRef(t, e.field)
+                    return n || RO(e.data), n.extentRef(t, e.field)
                 }));
-                return IN(t.add(gT({
+                return LN(t.add(hO({
                     extents: r
                 })))
             }
 
-            function VT(e, t, n) {
+            function WO(e, t, n) {
                 var r = e.range,
                     i = t.config.range;
                 if (r.signal) return t.signalRef(r.signal);
-                if ((0, ke.isString)(r)) {
-                    if (i && i.hasOwnProperty(r)) return VT(e = (0, ke.extend)({}, e, {
+                if ((0, Ee.isString)(r)) {
+                    if (i && i.hasOwnProperty(r)) return WO(e = (0, Ee.extend)({}, e, {
                         range: i[r]
                     }), t, n);
                     "width" === r ? r = [0, {
                         signal: "width"
-                    }] : "height" === r ? r = OT(e.type) ? [0, {
+                    }] : "height" === r ? r = NO(e.type) ? [0, {
                         signal: "height"
                     }] : [{
                         signal: "height"
-                    }, 0] : (0, ke.error)("Unrecognized scale range value: " + (0, ke.stringValue)(r))
+                    }, 0] : (0, Ee.error)("Unrecognized scale range value: " + (0, Ee.stringValue)(r))
                 } else {
-                    if (r.scheme) return n.scheme = LT(r.scheme, t), r.extent && (n.schemeExtent = function(e, t) {
+                    if (r.scheme) return n.scheme = PO(r.scheme, t), r.extent && (n.schemeExtent = function(e, t) {
                         return e.signal ? t.signalRef(e.signal) : e.map((function(e) {
-                            return LT(e, t)
+                            return PO(e, t)
                         }))
-                    }(r.extent, t)), void(r.count && (n.schemeCount = LT(r.count, t)));
-                    if (r.step) return void(n.rangeStep = LT(r.step, t));
-                    if (OT(e.type) && !(0, ke.isArray)(r)) return IT(r, e, t);
-                    (0, ke.isArray)(r) || (0, ke.error)("Unsupported range type: " + (0, ke.stringValue)(r))
+                    }(r.extent, t)), void(r.count && (n.schemeCount = PO(r.count, t)));
+                    if (r.step) return void(n.rangeStep = PO(r.step, t));
+                    if (NO(e.type) && !(0, Ee.isArray)(r)) return LO(r, e, t);
+                    (0, Ee.isArray)(r) || (0, Ee.error)("Unsupported range type: " + (0, Ee.stringValue)(r))
                 }
                 return r.map((function(e) {
-                    return LT(e, t)
+                    return PO(e, t)
                 }))
             }
 
-            function GT(e, t, n) {
-                return (0, ke.isArray)(e) ? e.map((function(e) {
-                    return GT(e, t, n)
-                })) : (0, ke.isObject)(e) ? e.signal ? n.signalRef(e.signal) : "fit" === t ? e : (0, ke.error)("Unsupported parameter object: " + (0, ke.stringValue)(e)) : e
-            }
-            var XT = "top",
-                $T = "left",
-                KT = "bottom",
-                JT = "index",
-                QT = "label",
-                ZT = "offset",
-                eO = "perc",
-                tO = "size",
-                nO = "total",
-                rO = "value",
-                iO = "guide-label",
-                aO = "guide-title",
-                oO = ["shape", "size", "fill", "stroke", "strokeDash", "opacity"],
-                uO = {
+            function VO(e, t, n) {
+                return (0, Ee.isArray)(e) ? e.map((function(e) {
+                    return VO(e, t, n)
+                })) : (0, Ee.isObject)(e) ? e.signal ? n.signalRef(e.signal) : "fit" === t ? e : (0, Ee.error)("Unsupported parameter object: " + (0, Ee.stringValue)(e)) : e
+            }
+            var GO = "top",
+                YO = "left",
+                XO = "right",
+                $O = "bottom",
+                KO = "index",
+                JO = "label",
+                QO = "offset",
+                ZO = "perc",
+                eT = "size",
+                tT = "total",
+                nT = "value",
+                rT = "guide-label",
+                iT = "guide-title",
+                aT = "group-title",
+                oT = ["shape", "size", "fill", "stroke", "strokeDash", "opacity"],
+                uT = {
                     name: 1,
                     interactive: 1
                 },
-                sO = (0, ke.toSet)(["rule"]),
-                lO = (0, ke.toSet)(["group", "image", "rect"]);
+                sT = (0, Ee.toSet)(["rule"]),
+                lT = (0, Ee.toSet)(["group", "image", "rect"]);
 
-            function cO(e, t, n, r) {
-                var i = PN(e, t);
+            function cT(e, t, n, r) {
+                var i = ON(e, t);
                 return i.$fields.forEach((function(e) {
                     r[e] = 1
-                })), (0, ke.extend)(n, i.$params), i.$expr
+                })), (0, Ee.extend)(n, i.$params), i.$expr
             }
 
-            function fO(e, t, n, r) {
-                return dO((0, ke.isObject)(e) ? e : {
+            function fT(e, t, n, r) {
+                return dT((0, Ee.isObject)(e) ? e : {
                     datum: e
                 }, t, n, r)
             }
 
-            function dO(e, t, n, r) {
+            function dT(e, t, n, r) {
                 var i, a, o;
-                if (e.signal) i = "datum", o = cO(e.signal, t, n, r);
+                if (e.signal) i = "datum", o = cT(e.signal, t, n, r);
                 else if (e.group || e.parent) {
                     for (a = Math.max(1, e.level || 1), i = "item"; a-- > 0;) i += ".mark.group";
                     e.parent ? (o = e.parent, i += ".datum") : o = e.group
-                } else e.datum ? (i = "datum", o = e.datum) : (0, ke.error)("Invalid field reference: " + (0, ke.stringValue)(e));
-                return e.signal || ((0, ke.isString)(o) ? (r[o] = 1, o = (0, ke.splitAccessPath)(o).map(ke.stringValue).join("][")) : o = dO(o, t, n, r)), i + "[" + o + "]"
+                } else e.datum ? (i = "datum", o = e.datum) : (0, Ee.error)("Invalid field reference: " + (0, Ee.stringValue)(e));
+                return e.signal || ((0, Ee.isString)(o) ? (r[o] = 1, o = (0, Ee.splitAccessPath)(o).map(Ee.stringValue).join("][")) : o = dT(o, t, n, r)), i + "[" + o + "]"
             }
 
-            function hO(e, t, n, r) {
+            function hT(e, t, n, r) {
                 var i;
-                if ((0, ke.isString)(e)) i = TC + e, n.hasOwnProperty(i) || (n[i] = t.scaleRef(e)), i = (0, ke.stringValue)(i);
+                if ((0, Ee.isString)(e)) i = DC + e, n.hasOwnProperty(i) || (n[i] = t.scaleRef(e)), i = (0, Ee.stringValue)(i);
                 else {
-                    for (i in t.scales) n[TC + i] = t.scaleRef(i);
-                    i = (0, ke.stringValue)(TC) + "+" + (e.signal ? "(" + cO(e.signal, t, n, r) + ")" : fO(e, t, n, r))
+                    for (i in t.scales) n[DC + i] = t.scaleRef(i);
+                    i = (0, Ee.stringValue)(DC) + "+" + (e.signal ? "(" + cT(e.signal, t, n, r) + ")" : fT(e, t, n, r))
                 }
                 return "_[" + i + "]"
             }
 
-            function pO(e, t, n, r) {
-                return (0, ke.isObject)(e) ? "(" + gO(0, e, t, n, r) + ")" : e
+            function pT(e, t, n, r) {
+                return (0, Ee.isObject)(e) ? "(" + gT(0, e, t, n, r) + ")" : e
             }
 
-            function gO(e, t, n, r, i) {
+            function gT(e, t, n, r, i) {
                 if (null != t.gradient) return function(e, t, n, r) {
-                    return "this.gradient(" + hO(e.gradient, t, n, r) + "," + (0, ke.stringValue)(e.start) + "," + (0, ke.stringValue)(e.stop) + "," + (0, ke.stringValue)(e.count) + ")"
+                    return "this.gradient(" + hT(e.gradient, t, n, r) + "," + (0, Ee.stringValue)(e.start) + "," + (0, Ee.stringValue)(e.stop) + "," + (0, Ee.stringValue)(e.count) + ")"
                 }(t, n, r, i);
-                var a = t.signal ? cO(t.signal, n, r, i) : t.color ? function(e, t, n, r) {
+                var a = t.signal ? cT(t.signal, n, r, i) : t.color ? function(e, t, n, r) {
                     function i(e, i, a, o) {
-                        return "this." + e + "(" + [gO(0, i, t, n, r), gO(0, a, t, n, r), gO(0, o, t, n, r)].join(",") + ").toString()"
+                        return "this." + e + "(" + [gT(0, i, t, n, r), gT(0, a, t, n, r), gT(0, o, t, n, r)].join(",") + ").toString()"
                     }
                     return e.c ? i("hcl", e.h, e.c, e.l) : e.h || e.s ? i("hsl", e.h, e.s, e.l) : e.l || e.a ? i("lab", e.l, e.a, e.b) : e.r || e.g || e.b ? i("rgb", e.r, e.g, e.b) : null
-                }(t.color, n, r, i) : null != t.field ? fO(t.field, n, r, i) : void 0 !== t.value ? (0, ke.stringValue)(t.value) : void 0;
+                }(t.color, n, r, i) : null != t.field ? fT(t.field, n, r, i) : void 0 !== t.value ? (0, Ee.stringValue)(t.value) : void 0;
                 return null != t.scale && (a = function(e, t, n, r, i) {
-                    var a, o, u, s = hO(e.scale, n, r, i);
+                    var a, o, u, s = hT(e.scale, n, r, i);
                     return null != e.range ? (o = s + ".range()", t = 0 == (a = +e.range) ? o + "[0]" : "($=" + o + "," + (1 === a ? "$[$.length-1]" : "$[0]+" + a + "*($[$.length-1]-$[0])") + ")") : (void 0 !== t && (t = s + "(" + t + ")"), e.band && (u = function(e, t) {
-                        if (!(0, ke.isString)(e)) return -1;
+                        if (!(0, Ee.isString)(e)) return -1;
                         var n = t.scaleType(e);
                         return "band" === n || "point" === n ? 1 : 0
                     }(e.scale, n)) && (a = (o = s + ".bandwidth") + "()" + (1 == (a = +e.band) ? "" : "*" + a), u < 0 && (a = "(" + o + "?" + a + ":0)"), t = (t ? t + "+" : "") + a, e.extra && (t = "(datum.extra?" + s + "(datum.extra.value):" + t + ")")), null == t && (t = "0")), t
-                }(t, a, n, r, i)), void 0 === a && (a = null), null != t.exponent && (a = "Math.pow(" + a + "," + pO(t.exponent, n, r, i) + ")"), null != t.mult && (a += "*" + pO(t.mult, n, r, i)), null != t.offset && (a += "+" + pO(t.offset, n, r, i)), t.round && (a = "Math.round(" + a + ")"), a
+                }(t, a, n, r, i)), void 0 === a && (a = null), null != t.exponent && (a = "Math.pow(" + a + "," + pT(t.exponent, n, r, i) + ")"), null != t.mult && (a += "*" + pT(t.mult, n, r, i)), null != t.offset && (a += "+" + pT(t.offset, n, r, i)), t.round && (a = "Math.round(" + a + ")"), a
             }
 
-            function mO(e, t, n) {
-                return e + "[" + (0, ke.stringValue)(t) + "]=" + n + ";"
+            function mT(e, t, n) {
+                return e + "[" + (0, Ee.stringValue)(t) + "]=" + n + ";"
             }
 
-            function vO(e, t, n, r, i) {
+            function vT(e, t, n, r, i) {
                 var a = "";
                 return t.forEach((function(e) {
-                    var t = gO(0, e, n, r, i);
-                    a += e.test ? cO(e.test, n, r, i) + "?" + t + ":" : t
-                })), mO("o", e, a)
+                    var t = gT(0, e, n, r, i);
+                    a += e.test ? cT(e.test, n, r, i) + "?" + t + ":" : t
+                })), mT("o", e, a)
             }
 
-            function yO(e, t, n, r) {
+            function yT(e, t, n, r) {
                 var i, a, o = {},
                     u = "var o=item,datum=o.datum,$;";
-                for (i in e) a = e[i], (0, ke.isArray)(a) ? u += vO(i, a, r, n, o) : u += mO("o", i, gO(0, a, r, n, o));
+                for (i in e) a = e[i], (0, Ee.isArray)(a) ? u += vT(i, a, r, n, o) : u += mT("o", i, gT(0, a, r, n, o));
                 return u += function(e, t) {
                     var n = "";
-                    return sO[t] || (e.x2 && (e.x ? (lO[t] && (n += "if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"), n += "o.width=o.x2-o.x;") : n += "o.x=o.x2-(o.width||0);"), e.xc && (n += "o.x=o.xc-(o.width||0)/2;"), e.y2 && (e.y ? (lO[t] && (n += "if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"), n += "o.height=o.y2-o.y;") : n += "o.y=o.y2-(o.height||0);"), e.yc && (n += "o.y=o.yc-(o.height||0)/2;")), n
+                    return sT[t] || (e.x2 && (e.x ? (lT[t] && (n += "if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"), n += "o.width=o.x2-o.x;") : n += "o.x=o.x2-(o.width||0);"), e.xc && (n += "o.x=o.xc-(o.width||0)/2;"), e.y2 && (e.y ? (lT[t] && (n += "if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"), n += "o.height=o.y2-o.y;") : n += "o.y=o.y2-(o.height||0);"), e.yc && (n += "o.y=o.yc-(o.height||0)/2;")), n
                 }(e, t), {
                     $expr: u += "return 1;",
                     $fields: Object.keys(o),
                     $output: Object.keys(e)
                 }
             }
-            var bO = "mark",
-                _O = "frame",
-                xO = "scope",
-                wO = "legend-label";
+            var bT = "mark",
+                _T = "frame",
+                xT = "scope",
+                wT = "axis",
+                ST = "axis-domain",
+                ET = "axis-grid",
+                AT = "axis-label",
+                kT = "axis-tick",
+                MT = "axis-title",
+                DT = "legend",
+                CT = "legend-entry",
+                FT = "legend-gradient",
+                NT = "legend-label",
+                OT = "legend-symbol",
+                TT = "legend-title",
+                PT = "title";
 
-            function SO(e) {
-                return (0, ke.isObject)(e) ? e : {
+            function RT(e) {
+                return (0, Ee.isObject)(e) ? e : {
                     value: e
                 }
             }
 
-            function EO(e, t, n) {
-                return null != n ? (e[t] = (0, ke.isObject)(n) && !(0, ke.isArray)(n) ? n : {
+            function LT(e, t, n) {
+                return null != n ? (e[t] = (0, Ee.isObject)(n) && !(0, Ee.isArray)(n) ? n : {
                     value: n
                 }, 1) : 0
             }
 
-            function AO(e, t, n) {
-                for (var r in t) n && n.hasOwnProperty(r) || (e[r] = (0, ke.extend)(e[r] || {}, t[r]));
+            function zT(e, t, n) {
+                for (var r in t) n && n.hasOwnProperty(r) || (e[r] = (0, Ee.extend)(e[r] || {}, t[r]));
                 return e
             }
 
-            function kO(e, t, n, r, i, a) {
+            function IT(e, t, n, r, i, a) {
                 var o, u;
                 for (u in (a = a || {}).encoders = {
                         $encode: o = {}
                     }, e = function(e, t, n, r, i) {
                         var a, o, u = {};
-                        for (a in "legend" != n && 0 !== String(n).indexOf("axis") || (n = null), o = n === _O ? i.group : n === bO ? (0, ke.extend)({}, i.mark, i[t]) : null) MO(a, e) || ("fill" === a || "stroke" === a) && (MO("fill", e) || MO("stroke", e)) || (u[a] = {
+                        for (a in "legend" != n && 0 !== String(n).indexOf("axis") || (n = null), o = n === _T ? i.group : n === bT ? (0, Ee.extend)({}, i.mark, i[t]) : null) jT(a, e) || ("fill" === a || "stroke" === a) && (jT("fill", e) || jT("stroke", e)) || (u[a] = {
                             value: o[a]
                         });
-                        return (0, ke.array)(r).forEach((function(t) {
+                        return (0, Ee.array)(r).forEach((function(t) {
                             var n = i.style && i.style[t];
-                            for (var r in n) MO(r, e) || (u[r] = {
+                            for (var r in n) jT(r, e) || (u[r] = {
                                 value: n[r]
                             })
-                        })), (e = (0, ke.extend)({}, e)).enter = (0, ke.extend)(u, e.enter), e
-                    }(e, t, n, r, i.config), e) o[u] = yO(e[u], t, a, i);
+                        })), (e = (0, Ee.extend)({}, e)).enter = (0, Ee.extend)(u, e.enter), e
+                    }(e, t, n, r, i.config), e) o[u] = yT(e[u], t, a, i);
                 return a
             }
 
-            function MO(e, t) {
+            function jT(e, t) {
                 return t && (t.enter && t.enter[e] || t.update && t.update[e])
             }
 
-            function DO(e, t, n, r, i, a, o) {
+            function BT(e, t, n, r, i, a, o) {
                 return {
                     type: e,
                     name: o ? o.name : void 0,
                     role: t,
                     style: o && o.style || n,
                     key: r,
                     from: i,
                     interactive: !(!o || !o.interactive),
-                    encode: AO(a, o, uO)
+                    encode: zT(a, o, uT)
                 }
             }
-            var CO = "group",
-                FO = "rule",
-                NO = "text";
+            var UT = "group",
+                qT = "rect",
+                HT = "rule",
+                WT = "symbol",
+                VT = "text";
 
-            function TO(e, t, n, r) {
+            function GT(e, t, n, r) {
                 var i, a, o = {
                         value: 0
                     },
                     u = {};
                 return u.enter = i = {
                     opacity: o,
                     x: o,
                     y: o
-                }, EO(i, "width", n.gradientWidth), EO(i, "height", n.gradientHeight), EO(i, "stroke", n.gradientStrokeColor), EO(i, "strokeWidth", n.gradientStrokeWidth), u.exit = {
+                }, LT(i, "width", n.gradientWidth), LT(i, "height", n.gradientHeight), LT(i, "stroke", n.gradientStrokeColor), LT(i, "strokeWidth", n.gradientStrokeWidth), u.exit = {
                     opacity: o
                 }, u.update = a = {
                     x: o,
                     y: o,
                     fill: {
                         gradient: t,
                         start: [0, 0],
                         stop: [1, 0]
                     },
                     opacity: {
                         value: 1
                     }
-                }, EO(a, "width", n.gradientWidth), EO(a, "height", n.gradientHeight), DO("rect", "legend-gradient", null, void 0, void 0, u, r)
+                }, LT(a, "width", n.gradientWidth), LT(a, "height", n.gradientHeight), BT(qT, FT, null, void 0, void 0, u, r)
             }
+            var YT = "datum." + ZO + '<=0?"left":datum.' + ZO + '>=1?"right":"center"';
 
-            function OO(e, t, n, r) {
+            function XT(e, t, n, r) {
                 var i, a, o = {
                         value: 0
                     },
                     u = {};
                 return u.enter = i = {
                     opacity: o
-                }, EO(i, "fill", t.labelColor), EO(i, "font", t.labelFont), EO(i, "fontSize", t.labelFontSize), EO(i, "fontWeight", t.labelFontWeight), EO(i, "baseline", t.gradientLabelBaseline), EO(i, "limit", t.gradientLabelLimit), u.exit = {
+                }, LT(i, "fill", t.labelColor), LT(i, "font", t.labelFont), LT(i, "fontSize", t.labelFontSize), LT(i, "fontWeight", t.labelFontWeight), LT(i, "baseline", t.gradientLabelBaseline), LT(i, "limit", t.gradientLabelLimit), u.exit = {
                     opacity: o
                 }, u.update = a = {
                     opacity: {
                         value: 1
                     },
                     text: {
-                        field: QT
+                        field: JO
                     }
                 }, i.x = a.x = {
-                    field: eO,
+                    field: ZO,
                     mult: t.gradientWidth
                 }, i.y = a.y = {
                     value: t.gradientHeight,
                     offset: t.gradientLabelOffset
                 }, i.align = a.align = {
-                    signal: 'datum.perc<=0?"left":datum.perc>=1?"right":"center"'
-                }, DO(NO, wO, iO, eO, r, u, n)
+                    signal: YT
+                }, BT(VT, NT, rT, ZO, r, u, n)
             }
 
-            function PO(e, t, n, r) {
+            function $T(e, t, n, r) {
                 var i, a, o = {
                         value: 0
                     },
                     u = {};
                 return u.enter = i = {
                     opacity: o
-                }, EO(i, "align", t.labelAlign), EO(i, "baseline", t.labelBaseline), EO(i, "fill", t.labelColor), EO(i, "font", t.labelFont), EO(i, "fontSize", t.labelFontSize), EO(i, "fontWeight", t.labelFontWeight), EO(i, "limit", t.labelLimit), u.exit = {
+                }, LT(i, "align", t.labelAlign), LT(i, "baseline", t.labelBaseline), LT(i, "fill", t.labelColor), LT(i, "font", t.labelFont), LT(i, "fontSize", t.labelFontSize), LT(i, "fontWeight", t.labelFontWeight), LT(i, "limit", t.labelLimit), u.exit = {
                     opacity: o
                 }, u.update = a = {
                     opacity: {
                         value: 1
                     },
                     text: {
-                        field: QT
+                        field: JO
                     }
                 }, i.x = a.x = {
-                    field: ZT,
+                    field: QO,
                     offset: t.labelOffset
                 }, i.y = a.y = {
-                    field: tO,
+                    field: eT,
                     mult: .5,
                     offset: {
-                        field: nO,
+                        field: tT,
                         offset: {
                             field: {
                                 group: "entryPadding"
                             },
                             mult: {
-                                field: JT
+                                field: KO
                             }
                         }
                     }
-                }, DO(NO, wO, iO, rO, r, u, n)
+                }, BT(VT, NT, rT, nT, r, u, n)
             }
 
-            function RO(e, t, n, r) {
+            function KT(e, t, n, r) {
                 var i, a, o = {
                         value: 0
                     },
                     u = {};
                 return u.enter = i = {
                     opacity: o
-                }, EO(i, "shape", t.symbolType), EO(i, "size", t.symbolSize), EO(i, "strokeWidth", t.symbolStrokeWidth), e.fill || (EO(i, "fill", t.symbolFillColor), EO(i, "stroke", t.symbolStrokeColor)), u.exit = {
+                }, LT(i, "shape", t.symbolType), LT(i, "size", t.symbolSize), LT(i, "strokeWidth", t.symbolStrokeWidth), e.fill || (LT(i, "fill", t.symbolFillColor), LT(i, "stroke", t.symbolStrokeColor)), u.exit = {
                     opacity: o
                 }, u.update = a = {
                     opacity: {
                         value: 1
                     }
                 }, i.x = a.x = {
-                    field: ZT,
+                    field: QO,
                     mult: .5
                 }, i.y = a.y = {
-                    field: tO,
+                    field: eT,
                     mult: .5,
                     offset: {
-                        field: nO,
+                        field: tT,
                         offset: {
                             field: {
                                 group: "entryPadding"
                             },
                             mult: {
-                                field: JT
+                                field: KO
                             }
                         }
                     }
-                }, oO.forEach((function(t) {
+                }, oT.forEach((function(t) {
                     e[t] && (a[t] = i[t] = {
                         scale: e[t],
-                        field: rO
+                        field: nT
                     })
-                })), DO("symbol", "legend-symbol", null, rO, r, u, n)
+                })), BT(WT, OT, null, nT, r, u, n)
             }
 
-            function LO(e, t, n, r, i, a, o) {
+            function JT(e, t, n, r, i, a, o) {
                 return {
-                    type: CO,
+                    type: UT,
                     name: n,
                     role: e,
                     style: t,
                     from: r,
                     interactive: i || !1,
                     encode: a,
                     marks: o
                 }
             }
 
-            function zO(e, t) {
+            function QT(e, t) {
                 var n;
-                return (0, ke.isObject)(e) && (e.signal ? n = e.signal : e.path ? n = "pathShape(" + IO(e.path) + ")" : e.sphere && (n = "geoShape(" + IO(e.sphere) + ', {type: "Sphere"})')), n ? t.signalRef(n) : !!e
+                return (0, Ee.isObject)(e) && (e.signal ? n = e.signal : e.path ? n = "pathShape(" + ZT(e.path) + ")" : e.sphere && (n = "geoShape(" + ZT(e.sphere) + ', {type: "Sphere"})')), n ? t.signalRef(n) : !!e
             }
 
-            function IO(e) {
-                return (0, ke.isObject)(e) && e.signal ? e.signal : (0, ke.stringValue)(e)
+            function ZT(e) {
+                return (0, Ee.isObject)(e) && e.signal ? e.signal : (0, Ee.stringValue)(e)
             }
 
-            function UO(e) {
+            function eP(e) {
                 var t = e.role || "";
-                return t.indexOf("axis") && t.indexOf("legend") ? e.type === CO ? xO : t || bO : t
+                return t.indexOf("axis") && t.indexOf("legend") ? e.type === UT ? xT : t || bT : t
             }
 
-            function jO(e) {
+            function tP(e) {
                 return {
                     marktype: e.type,
                     name: e.name || void 0,
-                    role: e.role || UO(e),
+                    role: e.role || eP(e),
                     zindex: +e.zindex || void 0
                 }
             }
 
-            function BO(e, t) {
+            function nP(e, t) {
                 return e && e.signal ? t.signalRef(e.signal) : !1 !== e
             }
 
-            function qO(e, t) {
-                var n = Ni(e.type);
-                n || (0, ke.error)("Unrecognized transform type: " + (0, ke.stringValue)(e.type));
-                var r = LN(n.type.toLowerCase(), null, HO(n, e, t));
+            function rP(e, t) {
+                var n = Oi(e.type);
+                n || (0, Ee.error)("Unrecognized transform type: " + (0, Ee.stringValue)(e.type));
+                var r = PN(n.type.toLowerCase(), null, iP(n, e, t));
                 return e.signal && t.addSignal(e.signal, t.proxy(r)), r.metadata = n.metadata || {}, r
             }
 
-            function HO(e, t, n) {
+            function iP(e, t, n) {
                 var r, i, a, o = {};
-                for (i = 0, a = e.params.length; i < a; ++i) o[(r = e.params[i]).name] = WO(r, t, n);
+                for (i = 0, a = e.params.length; i < a; ++i) o[(r = e.params[i]).name] = aP(r, t, n);
                 return o
             }
 
-            function WO(e, t, n) {
+            function aP(e, t, n) {
                 var r = e.type,
                     i = t[e.name];
                 return "index" === r ? function(e, t, n) {
-                    return (0, ke.isString)(t.from) || (0, ke.error)('Lookup "from" parameter must be a string literal.'), n.getData(t.from).lookupRef(n, t.key)
+                    return (0, Ee.isString)(t.from) || (0, Ee.error)('Lookup "from" parameter must be a string literal.'), n.getData(t.from).lookupRef(n, t.key)
                 }(0, t, n) : void 0 !== i ? "param" === r ? function(e, t, n) {
                     var r = t[e.name];
-                    return e.array ? ((0, ke.isArray)(r) || (0, ke.error)("Expected an array of sub-parameters. Instead: " + (0, ke.stringValue)(r)), r.map((function(t) {
-                        return VO(e, t, n)
-                    }))) : VO(e, r, n)
-                }(e, t, n) : "projection" === r ? n.projectionRef(t[e.name]) : e.array && !VN(i) ? i.map((function(t) {
-                    return YO(e, t, n)
-                })) : YO(e, i, n) : void(e.required && (0, ke.error)("Missing required " + (0, ke.stringValue)(t.type) + " parameter: " + (0, ke.stringValue)(e.name)))
+                    return e.array ? ((0, Ee.isArray)(r) || (0, Ee.error)("Expected an array of sub-parameters. Instead: " + (0, Ee.stringValue)(r)), r.map((function(t) {
+                        return uP(e, t, n)
+                    }))) : uP(e, r, n)
+                }(e, t, n) : "projection" === r ? n.projectionRef(t[e.name]) : e.array && !WN(i) ? i.map((function(t) {
+                    return oP(e, t, n)
+                })) : oP(e, i, n) : void(e.required && (0, Ee.error)("Missing required " + (0, Ee.stringValue)(t.type) + " parameter: " + (0, Ee.stringValue)(e.name)))
             }
 
-            function YO(e, t, n) {
+            function oP(e, t, n) {
                 var r = e.type;
-                if (VN(t)) return GO(r) ? (0, ke.error)("Expression references can not be signals.") : XO(r) ? n.fieldRef(t) : $O(r) ? n.compareRef(t) : n.signalRef(t.signal);
-                var i, a = e.expr || XO(r);
-                return a && (i = t) && i.expr ? PN(t.expr, n) : a && function(e) {
+                if (WN(t)) return sP(r) ? (0, Ee.error)("Expression references can not be signals.") : lP(r) ? n.fieldRef(t) : cP(r) ? n.compareRef(t) : n.signalRef(t.signal);
+                var i, a = e.expr || lP(r);
+                return a && (i = t) && i.expr ? ON(t.expr, n) : a && function(e) {
                     return e && e.field
-                }(t) ? jN(t.field) : GO(r) ? PN(t, n) : function(e) {
+                }(t) ? IN(t.field) : sP(r) ? ON(t, n) : function(e) {
                     return "data" === e
-                }(r) ? IN(n.getData(t).values) : XO(r) ? jN(t) : $O(r) ? n.compareRef(t) : t
+                }(r) ? LN(n.getData(t).values) : lP(r) ? IN(t) : cP(r) ? n.compareRef(t) : t
             }
 
-            function VO(e, t, n) {
+            function uP(e, t, n) {
                 var r, i, a, o, u;
                 for (o = 0, u = e.params.length; o < u; ++o) {
                     for (a in (i = e.params[o]).key)
                         if (i.key[a] !== t[a]) {
                             i = null;
                             break
                         } if (i) break
                 }
-                return i || (0, ke.error)("Unsupported parameter: " + (0, ke.stringValue)(t)), r = (0, ke.extend)(HO(i, t, n), i.key), IN(n.add(yT(r)))
+                return i || (0, Ee.error)("Unsupported parameter: " + (0, Ee.stringValue)(t)), r = (0, Ee.extend)(iP(i, t, n), i.key), LN(n.add(mO(r)))
             }
 
-            function GO(e) {
+            function sP(e) {
                 return "expr" === e
             }
 
-            function XO(e) {
+            function lP(e) {
                 return "field" === e
             }
 
-            function $O(e) {
+            function cP(e) {
                 return "compare" === e
             }
 
-            function KO(e, t, n, r, i) {
+            function fP(e, t, n, r, i) {
                 this.scope = e, this.input = t, this.output = n, this.values = r, this.aggregate = i, this.index = {}
             }
-            KO.fromEntries = function(e, t) {
+            fP.fromEntries = function(e, t) {
                 var n = t.length,
                     r = 1,
                     i = t[0],
                     a = t[n - 1],
                     o = t[n - 2],
                     u = null;
-                for (e.add(t[0]); r < n; ++r) t[r].params.pulse = IN(t[r - 1]), e.add(t[r]), "aggregate" === t[r].type && (u = t[r]);
-                return new KO(e, i, o, a, u)
+                for (e.add(t[0]); r < n; ++r) t[r].params.pulse = LN(t[r - 1]), e.add(t[r]), "aggregate" === t[r].type && (u = t[r]);
+                return new fP(e, i, o, a, u)
             };
-            var JO = KO.prototype;
+            var dP = fP.prototype;
 
-            function QO(e) {
-                return (0, ke.isString)(e) ? e : null
+            function hP(e) {
+                return (0, Ee.isString)(e) ? e : null
             }
 
-            function ZO(e, t, n) {
-                var r, i = HN(n.op, n.field);
+            function pP(e, t, n) {
+                var r, i = UN(n.op, n.field);
                 if (t.ops) {
                     for (var a = 0, o = t.as.length; a < o; ++a)
                         if (t.as[a] === i) return
                 } else t.ops = ["count"], t.fields = [null], t.as = ["count"];
                 n.op && (t.ops.push((r = n.op.signal) ? e.signalRef(r) : n.op), t.fields.push(e.fieldRef(n.field)), t.as.push(i))
             }
 
-            function eP(e, t, n, r, i, a, o) {
+            function gP(e, t, n, r, i, a, o) {
                 var u, s, l = t[n] || (t[n] = {}),
                     c = function(e) {
-                        return (0, ke.isObject)(e) ? ("descending" === e.order ? "-" : "+") + HN(e.op, e.field) : ""
+                        return (0, Ee.isObject)(e) ? ("descending" === e.order ? "-" : "+") + UN(e.op, e.field) : ""
                     }(a),
-                    f = QO(i);
+                    f = hP(i);
                 if (null != f && (e = t.scope, u = l[f += c ? "|" + c : ""]), !u) {
                     var d = a ? {
-                        field: BN,
+                        field: jN,
                         pulse: t.countsRef(e, i, a)
                     } : {
                         field: e.fieldRef(i),
-                        pulse: IN(t.output)
+                        pulse: LN(t.output)
                     };
-                    c && (d.sort = e.sortRef(a)), s = e.add(LN(r, void 0, d)), o && (t.index[i] = s), u = IN(s), null != f && (l[f] = u)
+                    c && (d.sort = e.sortRef(a)), s = e.add(PN(r, void 0, d)), o && (t.index[i] = s), u = LN(s), null != f && (l[f] = u)
                 }
                 return u
             }
 
-            function tP(e, t, n) {
+            function mP(e, t, n) {
                 var r, i = e.remove,
                     a = e.insert,
                     o = e.toggle,
                     u = e.modify,
                     s = e.values,
-                    l = t.add(zN());
-                r = PN("if(" + e.trigger + ',modify("' + n + '",' + [a, i, o, u, s].map((function(e) {
+                    l = t.add(RN());
+                r = ON("if(" + e.trigger + ',modify("' + n + '",' + [a, i, o, u, s].map((function(e) {
                     return null == e ? "null" : e
                 })).join(",") + "),0)", t), l.update = r.$expr, l.params = r.$params
             }
 
-            function nP(e, t) {
-                var n, r, i, a, o, u, s, l, c, f, d, h, p, g = UO(e),
-                    m = e.type === CO,
+            function vP(e, t) {
+                var n, r, i, a, o, u, s, l, c, f, d, h, p, g = eP(e),
+                    m = e.type === UT,
                     v = e.from && e.from.facet,
-                    y = e.layout || g === xO || g === _O,
-                    b = g === bO || y || v,
+                    y = e.layout || g === xT || g === _T,
+                    b = g === bT || y || v,
                     _ = e.overlap;
                 i = function(e, t, n) {
                     var r, i, a, o, u;
-                    return e ? (r = e.facet) && (t || (0, ke.error)("Only group marks can be faceted."), null != r.field ? o = u = IN(n.getData(r.data).output) : (e.data ? u = IN(n.getData(e.data).aggregate) : ((a = qO((0, ke.extend)({
+                    return e ? (r = e.facet) && (t || (0, Ee.error)("Only group marks can be faceted."), null != r.field ? o = u = LN(n.getData(r.data).output) : (e.data ? u = LN(n.getData(e.data).aggregate) : ((a = rP((0, Ee.extend)({
                         type: "aggregate",
-                        groupby: (0, ke.array)(r.groupby)
-                    }, r.aggregate), n)).params.key = n.keyRef(r.groupby), a.params.pulse = IN(n.getData(r.data).output), o = u = IN(n.add(a))), i = n.keyRef(r.groupby, !0))) : o = IN(n.add(oT(null, [{}]))), o || (o = e.$ref ? e : IN(n.getData(e.data).output)), {
+                        groupby: (0, Ee.array)(r.groupby)
+                    }, r.aggregate), n)).params.key = n.keyRef(r.groupby), a.params.pulse = LN(n.getData(r.data).output), o = u = LN(n.add(a))), i = n.keyRef(r.groupby, !0))) : o = LN(n.add(iO(null, [{}]))), o || (o = e.$ref ? e : LN(n.getData(e.data).output)), {
                         key: i,
                         pulse: o,
                         parent: u
                     }
-                }(e.from, m, t), c = IN(r = t.add(sT({
-                    key: i.key || (e.key ? jN(e.key) : void 0),
+                }(e.from, m, t), c = LN(r = t.add(oO({
+                    key: i.key || (e.key ? IN(e.key) : void 0),
                     pulse: i.pulse,
                     clean: !m
-                }))), r = a = t.add(oT({
+                }))), r = a = t.add(iO({
                     pulse: c
-                })), r = t.add(pT({
-                    markdef: jO(e),
-                    interactive: BO(e.interactive, t),
-                    clip: zO(e.clip, t),
+                })), r = t.add(dO({
+                    markdef: tP(e),
+                    interactive: nP(e.interactive, t),
+                    clip: QT(e.clip, t),
                     context: {
                         $context: !0
                     },
                     groups: t.lookup(),
                     parent: t.signals.parent ? t.signalRef("parent") : null,
                     index: t.markpath(),
-                    pulse: IN(r)
-                })), f = IN(r), (r = t.add(lT(kO(e.encode, e.type, g, e.style, t, {
+                    pulse: LN(r)
+                })), f = LN(r), (r = t.add(uO(IT(e.encode, e.type, g, e.style, t, {
                     pulse: f
                 })))).params.parent = t.encode(), e.transform && e.transform.forEach((function(e) {
-                    var n = qO(e, t);
-                    (n.metadata.generates || n.metadata.changes) && (0, ke.error)("Mark transforms should not generate new data."), n.params.pulse = IN(r), t.add(r = n)
-                })), e.sort && (r = t.add(kT({
+                    var n = rP(e, t);
+                    (n.metadata.generates || n.metadata.changes) && (0, Ee.error)("Mark transforms should not generate new data."), n.params.pulse = LN(r), t.add(r = n)
+                })), e.sort && (r = t.add(EO({
                     sort: t.compareRef(e.sort, !0),
-                    pulse: IN(r)
-                }))), d = IN(r), (v || y) && (h = IN(y = t.add(MT({
+                    pulse: LN(r)
+                }))), d = LN(r), (v || y) && (h = LN(y = t.add(AO({
                     layout: t.objectProperty(e.layout),
                     legendMargin: t.config.legendMargin,
                     mark: f,
                     pulse: d
-                })))), p = IN(o = t.add(aT({
+                })))), p = LN(o = t.add(rO({
                     mark: f,
                     pulse: h || d
                 }))), m && (b && ((n = t.operators).pop(), y && n.pop()), t.pushState(d, h || p, c), v ? function(e, t, n) {
                     var r, i, a, o, u = e.from.facet,
                         s = u.name,
-                        l = IN(t.getData(u.data).output);
-                    u.name || (0, ke.error)("Facet must have a name: " + (0, ke.stringValue)(u)), u.data || (0, ke.error)("Facet must reference a data set: " + (0, ke.stringValue)(u)), u.field ? o = t.add(bT({
+                        l = LN(t.getData(u.data).output);
+                    u.name || (0, Ee.error)("Facet must have a name: " + (0, Ee.stringValue)(u)), u.data || (0, Ee.error)("Facet must reference a data set: " + (0, Ee.stringValue)(u)), u.field ? o = t.add(vO({
                         field: t.fieldRef(u.field),
                         pulse: l
-                    })) : u.groupby ? o = t.add(cT({
+                    })) : u.groupby ? o = t.add(sO({
                         key: t.keyRef(u.groupby),
-                        group: IN(t.proxy(n.parent)),
+                        group: LN(t.proxy(n.parent)),
                         pulse: l
-                    })) : (0, ke.error)("Facet must specify groupby or field: " + (0, ke.stringValue)(u)), i = (r = t.fork()).add(oT()), a = r.add(AT({
-                        pulse: IN(i)
-                    })), r.addData(s, new KO(r, i, i, a)), r.addSignal("parent", null), o.params.subflow = {
-                        $subflow: lP(e, r).toRuntime()
+                    })) : (0, Ee.error)("Facet must specify groupby or field: " + (0, Ee.stringValue)(u)), i = (r = t.fork()).add(iO()), a = r.add(SO({
+                        pulse: LN(i)
+                    })), r.addData(s, new fP(r, i, i, a)), r.addSignal("parent", null), o.params.subflow = {
+                        $subflow: EP(e, r).toRuntime()
                     }
                 }(e, t, i) : b ? function(e, t, n) {
-                    var r = t.add(bT({
+                    var r = t.add(vO({
                             pulse: n.pulse
                         })),
                         i = t.fork();
-                    i.add(AT()), i.addSignal("parent", null), r.params.subflow = {
-                        $subflow: lP(e, i).toRuntime()
+                    i.add(SO()), i.addSignal("parent", null), r.params.subflow = {
+                        $subflow: EP(e, i).toRuntime()
                     }
-                }(e, t, i) : lP(e, t), t.popState(), b && (y && n.push(y), n.push(o))), _ && (r = {
+                }(e, t, i) : EP(e, t), t.popState(), b && (y && n.push(y), n.push(o))), _ && (r = {
                     method: !0 === _.method ? "parity" : _.method,
                     pulse: p
                 }, _.order && (r.sort = t.compareRef({
                     field: _.order
-                })), _.bound && (r.boundScale = t.scaleRef(_.bound.scale), r.boundOrient = _.bound.orient, r.boundTolerance = _.bound.tolerance), p = IN(t.add(vT(r)))), u = t.add(ST({
+                })), _.bound && (r.boundScale = t.scaleRef(_.bound.scale), r.boundOrient = _.bound.orient, r.boundTolerance = _.bound.tolerance), p = LN(t.add(gO(r)))), u = t.add(xO({
                     pulse: p
-                })), s = t.add(AT({
-                    pulse: IN(u)
-                }, void 0, t.parent())), null != e.name && (l = e.name, t.addData(l, new KO(t, a, u, s)), e.on && e.on.forEach((function(e) {
-                    (e.insert || e.remove || e.toggle) && (0, ke.error)("Marks only support modify triggers."), tP(e, t, l)
+                })), s = t.add(SO({
+                    pulse: LN(u)
+                }, void 0, t.parent())), null != e.name && (l = e.name, t.addData(l, new fP(t, a, u, s)), e.on && e.on.forEach((function(e) {
+                    (e.insert || e.remove || e.toggle) && (0, Ee.error)("Marks only support modify triggers."), mP(e, t, l)
                 })))
             }
 
-            function rP(e) {
+            function yP(e) {
                 var t = {};
-                return EO(t, "fill", e.fillColor) + EO(t, "stroke", e.strokeColor) + EO(t, "strokeWidth", e.strokeWidth) + EO(t, "strokeDash", e.strokeDash) + EO(t, "cornerRadius", e.cornerRadius) ? t : void 0
+                return LT(t, "fill", e.fillColor) + LT(t, "stroke", e.strokeColor) + LT(t, "strokeWidth", e.strokeWidth) + LT(t, "strokeDash", e.strokeDash) + LT(t, "cornerRadius", e.cornerRadius) ? t : void 0
             }
 
-            function iP(e) {
+            function bP(e) {
                 return e && e.signal || e
             }
 
-            function aP(e, t, n, r) {
+            function _P(e, t, n, r) {
                 var i = t && (t.update && t.update[e] || t.enter && t.enter[e]);
                 return i && i.signal ? i : i ? +i.value : (i = n.config.style[r]) && +i[e]
             }
 
-            function oP(e) {
-                var t = oT({}, e);
+            function xP(e) {
+                var t = iO({}, e);
                 return t.metadata = {
                     source: !0
                 }, t
             }
 
-            function uP(e, t) {
+            function wP(e, t) {
                 return {
                     scale: e.scale,
                     range: t
                 }
             }
 
-            function sP(e, t, n, r, i) {
+            function SP(e, t, n, r, i) {
                 return {
                     signal: 'flush(range("' + e + '"), scale("' + e + '", datum.value), ' + t + "," + n + "," + r + "," + i + ")"
                 }
             }
 
-            function lP(e, t, n) {
-                var r = (0, ke.array)(e.signals),
-                    i = (0, ke.array)(e.scales);
+            function EP(e, t, n) {
+                var r = (0, Ee.array)(e.signals),
+                    i = (0, Ee.array)(e.scales);
                 return n || r.forEach((function(e) {
-                    yD(e, t)
-                })), (0, ke.array)(e.projections).forEach((function(e) {
+                    YM(e, t)
+                })), (0, Ee.array)(e.projections).forEach((function(e) {
                     ! function(e, t) {
                         var n = {};
-                        for (var r in e) "name" !== r && (n[r] = GT(e[r], r, t));
+                        for (var r in e) "name" !== r && (n[r] = VO(e[r], r, t));
                         t.addProjection(e.name, n)
                     }(e, t)
                 })), i.forEach((function(e) {
                     ! function(e, t) {
                         var n = e.type || "linear";
-                        NT.hasOwnProperty(n) || (0, ke.error)("Unrecognized scale type: " + (0, ke.stringValue)(n)), t.addScale(e.name, {
+                        CO.hasOwnProperty(n) || (0, Ee.error)("Unrecognized scale type: " + (0, Ee.stringValue)(n)), t.addScale(e.name, {
                             type: n,
                             domain: void 0
                         })
                     }(e, t)
-                })), (0, ke.array)(e.data).forEach((function(e) {
+                })), (0, Ee.array)(e.data).forEach((function(e) {
                     ! function(e, t) {
                         var n = [];
                         e.transform && e.transform.forEach((function(e) {
-                            n.push(qO(e, t))
+                            n.push(rP(e, t))
                         })), e.on && e.on.forEach((function(n) {
-                            tP(n, t, e.name)
+                            mP(n, t, e.name)
                         })), t.addDataPipeline(e.name, function(e, t, n) {
                             var r, i, a, o, u, s = [],
                                 l = null,
                                 c = !1,
                                 f = !1;
-                            for (e.values ? s.push(l = oP({
+                            for (e.values ? s.push(l = xP({
                                     $ingest: e.values,
                                     $format: e.format
-                                })) : e.url ? s.push(l = oP({
+                                })) : e.url ? s.push(l = xP({
                                     $request: e.url,
                                     $format: e.format
-                                })) : e.source && (l = r = (0, ke.array)(e.source).map((function(e) {
-                                    return IN(t.getData(e).output)
-                                })), s.push(null)), i = 0, a = n.length; i < a; ++i) u = (o = n[i]).metadata, l || u.source || s.push(l = oP()), s.push(o), u.generates && (f = !0), u.modifies && !f && (c = !0), u.source ? l = o : u.changes && (l = null);
-                            return r && (a = r.length - 1, s[0] = wT({
+                                })) : e.source && (l = r = (0, Ee.array)(e.source).map((function(e) {
+                                    return LN(t.getData(e).output)
+                                })), s.push(null)), i = 0, a = n.length; i < a; ++i) u = (o = n[i]).metadata, l || u.source || s.push(l = xP()), s.push(o), u.generates && (f = !0), u.modifies && !f && (c = !0), u.source ? l = o : u.changes && (l = null);
+                            return r && (a = r.length - 1, s[0] = _O({
                                 derive: c,
                                 pulse: a ? r : r[0]
-                            }), (c || a) && s.splice(1, 0, oP())), l || s.push(oP()), s.push(AT({})), s
+                            }), (c || a) && s.splice(1, 0, xP())), l || s.push(xP()), s.push(SO({})), s
                         }(e, t, n))
                     }(e, t)
                 })), i.forEach((function(e) {
-                    RT(e, t)
+                    TO(e, t)
                 })), r.forEach((function(e) {
                     ! function(e, t) {
                         var n = t.getSignal(e.name);
                         if (e.update) {
-                            var r = PN(e.update, t);
+                            var r = ON(e.update, t);
                             n.update = r.$expr, n.params = r.$params
                         }
                         e.on && e.on.forEach((function(e) {
                             ! function(e, t, n) {
                                 var r, i, a = e.events,
                                     o = e.update,
                                     u = e.encode,
                                     s = [];
-                                a || (0, ke.error)("Signal update missing events specification."), (0, ke.isString)(a) && (a = (0, eT.selector)(a, t.isSubscope() ? WN : YN)), a = (0, ke.array)(a).filter((function(e) {
+                                a || (0, Ee.error)("Signal update missing events specification."), (0, Ee.isString)(a) && (a = (0, QN.selector)(a, t.isSubscope() ? qN : HN)), a = (0, Ee.array)(a).filter((function(e) {
                                     return e.signal || e.scale ? (s.push(e), 0) : 1
                                 })), a.length && s.push(a.length > 1 ? {
                                     merge: a
-                                } : a[0]), null != u && (o && (0, ke.error)("Signal encode and update are mutually exclusive."), o = "encode(item()," + (0, ke.stringValue)(u) + ")"), r = (0, ke.isString)(o) ? PN(o, t, tT) : null != o.expr ? PN(o.expr, t, tT) : null != o.value ? o.value : null != o.signal ? {
+                                } : a[0]), null != u && (o && (0, Ee.error)("Signal encode and update are mutually exclusive."), o = "encode(item()," + (0, Ee.stringValue)(u) + ")"), r = (0, Ee.isString)(o) ? ON(o, t, ZN) : null != o.expr ? ON(o.expr, t, ZN) : null != o.value ? o.value : null != o.signal ? {
                                     $expr: "_.value",
                                     $params: {
                                         value: t.signalRef(o.signal)
                                     }
-                                } : (0, ke.error)("Invalid signal update specification."), i = {
+                                } : (0, Ee.error)("Invalid signal update specification."), i = {
                                     target: n,
                                     update: r
                                 }, e.force && (i.options = {
                                     force: !0
                                 }), s.forEach((function(e) {
                                     e = {
-                                        source: XN(e, t)
-                                    }, t.addUpdate((0, ke.extend)(e, i))
+                                        source: GN(e, t)
+                                    }, t.addUpdate((0, Ee.extend)(e, i))
                                 }))
                             }(e, t, n.id)
                         }))
                     }(e, t)
-                })), (0, ke.array)(e.axes).forEach((function(e) {
+                })), (0, Ee.array)(e.axes).forEach((function(e) {
                     ! function(e, t) {
                         var n, r, i, a, o, u, s = function(e, t) {
                                 var n = t.config,
                                     r = e.orient,
-                                    i = r === XT || r === KT ? n.axisX : n.axisY,
+                                    i = r === GO || r === $O ? n.axisX : n.axisY,
                                     a = n["axis" + r[0].toUpperCase() + r.slice(1)],
                                     o = "band" === t.scaleType(e.scale) && n.axisBand;
-                                return i || a || o ? (0, ke.extend)({}, n.axis, i, a, o) : n.axis
+                                return i || a || o ? (0, Ee.extend)({}, n.axis, i, a, o) : n.axis
                             }(e, t),
                             l = e.encode || {},
                             c = l.axis || {},
                             f = c.name || void 0,
                             d = c.interactive,
                             h = c.style;
                         n = {
                             orient: e.orient,
-                            ticks: !!GN(e.ticks, s.ticks),
-                            labels: !!GN(e.labels, s.labels),
-                            grid: !!GN(e.grid, s.grid),
-                            domain: !!GN(e.domain, s.domain),
-                            title: !!GN(e.title, !1)
-                        }, r = IN(t.add(oT({}, [n]))), c = AO({
+                            ticks: !!VN(e.ticks, s.ticks),
+                            labels: !!VN(e.labels, s.labels),
+                            grid: !!VN(e.grid, s.grid),
+                            domain: !!VN(e.domain, s.domain),
+                            title: !!VN(e.title, !1)
+                        }, r = LN(t.add(iO({}, [n]))), c = zT({
                             update: {
                                 range: {
                                     signal: 'abs(span(range("' + e.scale + '")))'
                                 },
-                                offset: SO(GN(e.offset, 0)),
-                                position: SO(GN(e.position, 0)),
-                                titlePadding: SO(GN(e.titlePadding, s.titlePadding)),
-                                minExtent: SO(GN(e.minExtent, s.minExtent)),
-                                maxExtent: SO(GN(e.maxExtent, s.maxExtent))
+                                offset: RT(VN(e.offset, 0)),
+                                position: RT(VN(e.position, 0)),
+                                titlePadding: RT(VN(e.titlePadding, s.titlePadding)),
+                                minExtent: RT(VN(e.minExtent, s.minExtent)),
+                                maxExtent: RT(VN(e.maxExtent, s.maxExtent))
                             }
-                        }, l.axis, uO), i = IN(t.add(iT({
+                        }, l.axis, uT), i = LN(t.add(nO({
                             scale: t.scaleRef(e.scale),
                             extra: s.tickExtra,
                             count: t.objectProperty(e.tickCount),
                             values: t.objectProperty(e.values),
                             formatSpecifier: t.property(e.format)
                         }))), u = [], n.grid && u.push(function(e, t, n, r) {
                             var i, a, o, u, s, l, c, f, d = e.orient,
                                 h = e.gridScale,
-                                p = d === $T || d === XT ? 1 : -1,
+                                p = d === YO || d === GO ? 1 : -1,
                                 g = p * e.offset || 0,
                                 m = {
                                     value: 0
                                 },
                                 v = {};
                             return v.enter = i = {
                                 opacity: m
-                            }, EO(i, "stroke", t.gridColor), EO(i, "strokeWidth", t.gridWidth), EO(i, "strokeDash", t.gridDash), v.exit = a = {
+                            }, LT(i, "stroke", t.gridColor), LT(i, "strokeWidth", t.gridWidth), LT(i, "strokeDash", t.gridDash), v.exit = a = {
                                 opacity: m
-                            }, v.update = o = {}, EO(o, "opacity", t.gridOpacity), u = {
+                            }, v.update = o = {}, LT(o, "opacity", t.gridOpacity), u = {
                                 scale: e.scale,
-                                field: rO,
+                                field: nT,
                                 band: t.bandPosition,
                                 round: t.tickRound,
                                 extra: t.tickExtra,
                                 offset: t.tickOffset
-                            }, d === XT || d === KT ? (s = "x", l = "y", f = "height") : (s = "y", l = "x", f = "width"), c = l + "2", o[s] = i[s] = a[s] = u, h ? (i[l] = {
+                            }, d === GO || d === $O ? (s = "x", l = "y", f = "height") : (s = "y", l = "x", f = "width"), c = l + "2", o[s] = i[s] = a[s] = u, h ? (i[l] = {
                                 scale: h,
                                 range: 0,
                                 mult: p,
                                 offset: g
                             }, o[c] = i[c] = {
                                 scale: h,
                                 range: 1,
@@ -21149,69 +21440,69 @@
                                 offset: g
                             }) : (i[l] = {
                                 value: g
                             }, o[c] = i[c] = {
                                 signal: f,
                                 mult: p,
                                 offset: g
-                            }), DO(FO, "axis-grid", null, rO, r, v, n)
-                        }(e, s, l.grid, i)), n.ticks && (a = GN(e.tickSize, s.tickSize), u.push(function(e, t, n, r, i) {
+                            }), BT(HT, ET, null, nT, r, v, n)
+                        }(e, s, l.grid, i)), n.ticks && (a = VN(e.tickSize, s.tickSize), u.push(function(e, t, n, r, i) {
                             var a, o, u, s, l, c = e.orient,
-                                f = c === $T || c === XT ? -1 : 1,
+                                f = c === YO || c === GO ? -1 : 1,
                                 d = {
                                     value: 0
                                 },
                                 h = {};
                             return h.enter = a = {
                                 opacity: d
-                            }, EO(a, "stroke", t.tickColor), EO(a, "strokeWidth", t.tickWidth), h.exit = o = {
+                            }, LT(a, "stroke", t.tickColor), LT(a, "strokeWidth", t.tickWidth), h.exit = o = {
                                 opacity: d
                             }, h.update = u = {
                                 opacity: {
                                     value: 1
                                 }
-                            }, (s = SO(i)).mult = f, l = {
+                            }, (s = RT(i)).mult = f, l = {
                                 scale: e.scale,
-                                field: rO,
+                                field: nT,
                                 band: t.bandPosition,
                                 round: t.tickRound,
                                 extra: t.tickExtra,
                                 offset: t.tickOffset
-                            }, c === XT || c === KT ? (u.y = a.y = d, u.y2 = a.y2 = s, u.x = a.x = o.x = l) : (u.x = a.x = d, u.x2 = a.x2 = s, u.y = a.y = o.y = l), DO(FO, "axis-tick", null, rO, r, h, n)
+                            }, c === GO || c === $O ? (u.y = a.y = d, u.y2 = a.y2 = s, u.x = a.x = o.x = l) : (u.x = a.x = d, u.x2 = a.x2 = s, u.y = a.y = o.y = l), BT(HT, kT, null, nT, r, h, n)
                         }(e, s, l.ticks, i, a))), n.labels && (a = n.ticks ? a : 0, u.push(function(e, t, n, r, i) {
                             var a, o, u, s, l, c = e.orient,
-                                f = c === $T || c === XT ? -1 : 1,
+                                f = c === YO || c === GO ? -1 : 1,
                                 d = e.scale,
-                                h = GN(e.labelPadding, t.labelPadding),
-                                p = GN(e.labelBound, t.labelBound),
-                                g = GN(e.labelFlush, t.labelFlush),
+                                h = VN(e.labelPadding, t.labelPadding),
+                                p = VN(e.labelBound, t.labelBound),
+                                g = VN(e.labelFlush, t.labelFlush),
                                 m = null != g && !1 !== g && (g = +g) === g,
-                                v = +GN(e.labelFlushOffset, t.labelFlushOffset),
-                                y = GN(e.labelOverlap, t.labelOverlap),
+                                v = +VN(e.labelFlushOffset, t.labelFlushOffset),
+                                y = VN(e.labelOverlap, t.labelOverlap),
                                 b = {
                                     value: 0
                                 },
                                 _ = {};
                             return _.enter = a = {
                                 opacity: b
-                            }, EO(a, "angle", t.labelAngle), EO(a, "fill", t.labelColor), EO(a, "font", t.labelFont), EO(a, "fontSize", t.labelFontSize), EO(a, "fontWeight", t.labelFontWeight), EO(a, "limit", t.labelLimit), _.exit = o = {
+                            }, LT(a, "angle", t.labelAngle), LT(a, "fill", t.labelColor), LT(a, "font", t.labelFont), LT(a, "fontSize", t.labelFontSize), LT(a, "fontWeight", t.labelFontWeight), LT(a, "limit", t.labelLimit), _.exit = o = {
                                 opacity: b
                             }, _.update = u = {
                                 opacity: {
                                     value: 1
                                 },
                                 text: {
-                                    field: QT
+                                    field: JO
                                 }
-                            }, (s = SO(i)).mult = f, s.offset = SO(h), s.offset.mult = f, l = {
+                            }, (s = RT(i)).mult = f, s.offset = RT(h), s.offset.mult = f, l = {
                                 scale: d,
-                                field: rO,
+                                field: nT,
                                 band: .5,
                                 offset: t.tickOffset
-                            }, c === XT || c === KT ? (u.y = a.y = s, u.x = a.x = o.x = l, EO(u, "align", m ? sP(d, g, '"left"', '"right"', '"center"') : "center"), m && v && EO(u, "dx", sP(d, g, -v, v, 0)), EO(u, "baseline", c === XT ? "bottom" : "top")) : (u.x = a.x = s, u.y = a.y = o.y = l, EO(u, "align", "right" === c ? "left" : "right"), EO(u, "baseline", m ? sP(d, g, '"bottom"', '"top"', '"middle"') : "middle"), m && v && EO(u, "dy", sP(d, g, v, -v, 0))), e = DO(NO, "axis-label", iO, rO, r, _, n), (y || p) && (e.overlap = {
+                            }, c === GO || c === $O ? (u.y = a.y = s, u.x = a.x = o.x = l, LT(u, "align", m ? SP(d, g, '"left"', '"right"', '"center"') : "center"), m && v && LT(u, "dx", SP(d, g, -v, v, 0)), LT(u, "baseline", c === GO ? "bottom" : "top")) : (u.x = a.x = s, u.y = a.y = o.y = l, LT(u, "align", c === XO ? "left" : "right"), LT(u, "baseline", m ? SP(d, g, '"bottom"', '"top"', '"middle"') : "middle"), m && v && LT(u, "dy", SP(d, g, v, -v, 0))), e = BT(VT, AT, rT, nT, r, _, n), (y || p) && (e.overlap = {
                                 method: y,
                                 order: "datum.index",
                                 bound: p ? {
                                     scale: d,
                                     orient: c,
                                     tolerance: +p
                                 } : null
@@ -21220,32 +21511,32 @@
                             var i, a, o, u, s, l = e.orient,
                                 c = {
                                     value: 0
                                 },
                                 f = {};
                             return f.enter = i = {
                                 opacity: c
-                            }, EO(i, "stroke", t.domainColor), EO(i, "strokeWidth", t.domainWidth), f.exit = {
+                            }, LT(i, "stroke", t.domainColor), LT(i, "strokeWidth", t.domainWidth), f.exit = {
                                 opacity: c
                             }, f.update = a = {
                                 opacity: {
                                     value: 1
                                 }
-                            }, l === XT || l === KT ? (o = "x", s = "y") : (o = "y", s = "x"), u = o + "2", i[s] = c, a[o] = i[o] = uP(e, 0), a[u] = i[u] = uP(e, 1), DO(FO, "axis-domain", null, null, r, f, n)
+                            }, l === GO || l === $O ? (o = "x", s = "y") : (o = "y", s = "x"), u = o + "2", i[s] = c, a[o] = i[o] = wP(e, 0), a[u] = i[u] = wP(e, 1), BT(HT, ST, null, null, r, f, n)
                         }(e, s, l.domain, r)), n.title && u.push(function(e, t, n, r) {
                             var i, a, o, u = e.orient,
                                 s = e.title,
-                                l = u === $T || u === XT ? -1 : 1,
-                                c = u === XT || u === KT,
+                                l = u === YO || u === GO ? -1 : 1,
+                                c = u === GO || u === $O,
                                 f = {};
                             return f.enter = i = {
                                 opacity: {
                                     value: 0
                                 }
-                            }, EO(i, "align", t.titleAlign), EO(i, "fill", t.titleColor), EO(i, "font", t.titleFont), EO(i, "fontSize", t.titleFontSize), EO(i, "fontWeight", t.titleFontWeight), EO(i, "limit", t.titleLimit), f.exit = {
+                            }, LT(i, "align", t.titleAlign), LT(i, "fill", t.titleColor), LT(i, "font", t.titleFont), LT(i, "fontSize", t.titleFontSize), LT(i, "fontWeight", t.titleFontWeight), LT(i, "limit", t.titleLimit), f.exit = {
                                 opacity: {
                                     value: 0
                                 }
                             }, f.update = a = {
                                 opacity: {
                                     value: 1
                                 },
@@ -21256,77 +21547,77 @@
                                 }
                             }, o = {
                                 scale: e.scale,
                                 range: .5
                             }, c ? (a.x = o, a.angle = {
                                 value: 0
                             }, a.baseline = {
-                                value: u === XT ? "bottom" : "top"
+                                value: u === GO ? "bottom" : "top"
                             }) : (a.y = o, a.angle = {
                                 value: 90 * l
                             }, a.baseline = {
                                 value: "bottom"
-                            }), EO(a, "angle", t.titleAngle), EO(a, "baseline", t.titleBaseline), !EO(a, "x", t.titleX) && c && !MO("x", n) && (f.enter.auto = {
+                            }), LT(a, "angle", t.titleAngle), LT(a, "baseline", t.titleBaseline), !LT(a, "x", t.titleX) && c && !jT("x", n) && (f.enter.auto = {
                                 value: !0
-                            }), !EO(a, "y", t.titleY) && !c && !MO("y", n) && (f.enter.auto = {
+                            }), !LT(a, "y", t.titleY) && !c && !jT("y", n) && (f.enter.auto = {
                                 value: !0
-                            }), DO(NO, "axis-title", aO, null, r, f, n)
-                        }(e, s, l.title, r)), o = LO("axis", h, f, r, d, c, u), e.zindex && (o.zindex = e.zindex), nP(o, t)
+                            }), BT(VT, MT, iT, null, r, f, n)
+                        }(e, s, l.title, r)), o = JT(wT, h, f, r, d, c, u), e.zindex && (o.zindex = e.zindex), vP(o, t)
                     }(e, t)
-                })), (0, ke.array)(e.marks).forEach((function(e) {
-                    nP(e, t)
-                })), (0, ke.array)(e.legends).forEach((function(e) {
+                })), (0, Ee.array)(e.marks).forEach((function(e) {
+                    vP(e, t)
+                })), (0, Ee.array)(e.legends).forEach((function(e) {
                     ! function(e, t) {
                         var n, r, i, a, o, u, s, l, c = e.type || "symbol",
                             f = t.config.legend,
                             d = e.encode || {},
                             h = d.legend || {},
                             p = h.name || void 0,
                             g = h.interactive,
                             m = h.style,
                             v = e.size || e.shape || e.fill || e.stroke || e.strokeDash || e.opacity;
-                        v || (0, ke.error)("Missing valid scale for legend."), n = {
-                            orient: GN(e.orient, f.orient),
+                        v || (0, Ee.error)("Missing valid scale for legend."), n = {
+                            orient: VN(e.orient, f.orient),
                             title: null != e.title
-                        }, r = IN(t.add(oT(null, [n]))), h = AO({
-                            enter: rP(f),
+                        }, r = LN(t.add(iO(null, [n]))), h = zT({
+                            enter: yP(f),
                             update: {
-                                offset: SO(GN(e.offset, f.offset)),
-                                padding: SO(GN(e.padding, f.padding)),
-                                titlePadding: SO(GN(e.titlePadding, f.titlePadding))
+                                offset: RT(VN(e.offset, f.offset)),
+                                padding: RT(VN(e.padding, f.padding)),
+                                titlePadding: RT(VN(e.titlePadding, f.titlePadding))
                             }
-                        }, h, uO), u = {
+                        }, h, uT), u = {
                             update: {
                                 x: {
                                     field: {
                                         group: "padding"
                                     }
                                 },
                                 y: {
                                     field: {
                                         group: "padding"
                                     }
                                 },
-                                entryPadding: SO(GN(e.entryPadding, f.entryPadding))
+                                entryPadding: RT(VN(e.entryPadding, f.entryPadding))
                             }
-                        }, "gradient" === c ? (i = IN(t.add(hT({
+                        }, "gradient" === c ? (i = LN(t.add(fO({
                             type: "gradient",
                             scale: t.scaleRef(v),
                             count: t.objectProperty(e.tickCount),
                             values: t.objectProperty(e.values),
                             formatSpecifier: t.property(e.format)
-                        }))), l = [TO(0, v, f, d.gradient), OO(0, f, d.labels, i)]) : (i = IN(t.add(hT(s = {
+                        }))), l = [GT(0, v, f, d.gradient), XT(0, f, d.labels, i)]) : (i = LN(t.add(fO(s = {
                             scale: t.scaleRef(v),
                             count: t.objectProperty(e.tickCount),
                             values: t.objectProperty(e.values),
                             formatSpecifier: t.property(e.format)
-                        }))), l = [RO(e, f, d.symbols, i), PO(0, f, d.labels, i)], s.size = function(e, t, n) {
-                            var r = aP("fontSize", n[1].encode, t, iO);
-                            return PN("max(ceil(sqrt(" + (e.size ? 'scale("' + e.size + '",datum)' : iP(aP("size", n[0].encode, t))) + "))," + iP(r) + ")", t)
-                        }(e, t, l)), l = [LO("legend-entry", null, null, r, g, u, l)], n.title && (o = function(e, t, n, r) {
+                        }))), l = [KT(e, f, d.symbols, i), $T(0, f, d.labels, i)], s.size = function(e, t, n) {
+                            var r = _P("fontSize", n[1].encode, t, rT);
+                            return ON("max(ceil(sqrt(" + (e.size ? 'scale("' + e.size + '",datum)' : bP(_P("size", n[0].encode, t))) + "))," + bP(r) + ")", t)
+                        }(e, t, l)), l = [JT(CT, null, null, r, g, u, l)], n.title && (o = function(e, t, n, r) {
                             var i, a = {
                                     value: 0
                                 },
                                 o = e.title,
                                 u = {};
                             return u.enter = i = {
                                 x: {
@@ -21336,67 +21627,67 @@
                                 },
                                 y: {
                                     field: {
                                         group: "padding"
                                     }
                                 },
                                 opacity: a
-                            }, EO(i, "align", t.titleAlign), EO(i, "baseline", t.titleBaseline), EO(i, "fill", t.titleColor), EO(i, "font", t.titleFont), EO(i, "fontSize", t.titleFontSize), EO(i, "fontWeight", t.titleFontWeight), EO(i, "limit", t.titleLimit), u.exit = {
+                            }, LT(i, "align", t.titleAlign), LT(i, "baseline", t.titleBaseline), LT(i, "fill", t.titleColor), LT(i, "font", t.titleFont), LT(i, "fontSize", t.titleFontSize), LT(i, "fontWeight", t.titleFontWeight), LT(i, "limit", t.titleLimit), u.exit = {
                                 opacity: a
                             }, u.update = {
                                 opacity: {
                                     value: 1
                                 },
                                 text: o && o.signal ? {
                                     signal: o.signal
                                 } : {
                                     value: o + ""
                                 }
-                            }, DO(NO, "legend-title", aO, null, r, u, n)
+                            }, BT(VT, TT, iT, null, r, u, n)
                         }(e, f, d.title, r), u.update.y.offset = {
                             field: {
                                 group: "titlePadding"
                             },
-                            offset: aP("fontSize", o.encode, t, aO)
-                        }, l.push(o)), a = LO("legend", m, p, r, g, h, l), e.zindex && (a.zindex = e.zindex), nP(a, t)
+                            offset: _P("fontSize", o.encode, t, iT)
+                        }, l.push(o)), a = JT(DT, m, p, r, g, h, l), e.zindex && (a.zindex = e.zindex), vP(a, t)
                     }(e, t)
                 })), e.title && function(e, t) {
-                    e = (0, ke.isString)(e) ? {
+                    e = (0, Ee.isString)(e) ? {
                         text: e
                     } : e;
                     var n, r, i, a = t.config.title,
-                        o = (0, ke.extend)({}, e.encode);
+                        o = (0, Ee.extend)({}, e.encode);
                     n = {
                         orient: null != e.orient ? e.orient : a.orient
-                    }, r = IN(t.add(oT(null, [n]))), o.name = e.name, o.interactive = e.interactive, i = function(e, t, n, r) {
+                    }, r = LN(t.add(iO(null, [n]))), o.name = e.name, o.interactive = e.interactive, i = function(e, t, n, r) {
                         var i, a, o, u, s, l, c = e.text,
                             f = e.orient || t.orient,
                             d = e.anchor || t.anchor,
-                            h = f === $T || f === XT ? -1 : 1,
-                            p = f === XT || f === KT,
+                            h = f === YO || f === GO ? -1 : 1,
+                            p = f === GO || f === $O,
                             g = {
                                 group: p ? "width" : "height"
                             },
                             m = {};
                         return m.enter = i = {
                             opacity: {
                                 value: 0
                             }
-                        }, EO(i, "fill", t.color), EO(i, "font", t.font), EO(i, "fontSize", t.fontSize), EO(i, "fontWeight", t.fontWeight), m.exit = {
+                        }, LT(i, "fill", t.color), LT(i, "font", t.font), LT(i, "fontSize", t.fontSize), LT(i, "fontWeight", t.fontWeight), m.exit = {
                             opacity: {
                                 value: 0
                             }
                         }, m.update = a = {
                             opacity: {
                                 value: 1
                             },
-                            text: (0, ke.isObject)(c) ? c : {
+                            text: (0, Ee.isObject)(c) ? c : {
                                 value: c + ""
                             },
-                            offset: SO((null != e.offset ? e.offset : t.offset) || 0)
+                            offset: RT((null != e.offset ? e.offset : t.offset) || 0)
                         }, "start" === d ? (s = 0, l = "left") : "end" === d ? (s = 1, l = "right") : (s = .5, l = "center"), o = {
                             field: g,
                             mult: s
                         }, u = h < 0 ? {
                             value: 0
                         } : p ? {
                             field: {
@@ -21405,260 +21696,261 @@
                         } : {
                             field: {
                                 group: "width"
                             }
                         }, p ? (a.x = o, a.y = u, a.angle = {
                             value: 0
                         }, a.baseline = {
-                            value: f === XT ? "bottom" : "top"
+                            value: f === GO ? "bottom" : "top"
                         }) : (a.x = u, a.y = o, a.angle = {
                             value: 90 * h
                         }, a.baseline = {
                             value: "bottom"
                         }), a.align = {
                             value: l
                         }, a.limit = {
                             field: g
-                        }, EO(a, "angle", t.angle), EO(a, "baseline", t.baseline), EO(a, "limit", t.limit), DO(NO, "title", e.style || "group-title", null, r, m, n)
-                    }(e, a, o, r), e.zindex && (i.zindex = e.zindex), nP(i, t)
+                        }, LT(a, "angle", t.angle), LT(a, "baseline", t.baseline), LT(a, "limit", t.limit), BT(VT, PT, e.style || aT, null, r, m, n)
+                    }(e, a, o, r), e.zindex && (i.zindex = e.zindex), vP(i, t)
                 }(e.title, t), t.parseLambdas(), t
             }
-            JO.countsRef = function(e, t, n) {
+            dP.countsRef = function(e, t, n) {
                 var r, i, a, o = this,
                     u = o.counts || (o.counts = {}),
-                    s = QO(t);
-                return null != s && (e = o.scope, r = u[s]), r ? n && n.field && ZO(e, r.agg.params, n) : (a = {
+                    s = hP(t);
+                return null != s && (e = o.scope, r = u[s]), r ? n && n.field && pP(e, r.agg.params, n) : (a = {
                     groupby: e.fieldRef(t, "key"),
-                    pulse: IN(o.output)
-                }, n && n.field && ZO(e, a, n), i = e.add(rT(a)), r = e.add(oT({
-                    pulse: IN(i)
+                    pulse: LN(o.output)
+                }, n && n.field && pP(e, a, n), i = e.add(tO(a)), r = e.add(iO({
+                    pulse: LN(i)
                 })), r = {
                     agg: i,
-                    ref: IN(r)
+                    ref: LN(r)
                 }, null != s && (u[s] = r)), r.ref
-            }, JO.tuplesRef = function() {
-                return IN(this.values)
-            }, JO.extentRef = function(e, t) {
-                return eP(e, this, "extent", "extent", t, !1)
-            }, JO.domainRef = function(e, t) {
-                return eP(e, this, "domain", "values", t, !1)
-            }, JO.valuesRef = function(e, t, n) {
-                return eP(e, this, "vals", "values", t, n || !0)
-            }, JO.lookupRef = function(e, t) {
-                return eP(e, this, "lookup", "tupleindex", t, !1)
-            }, JO.indataRef = function(e, t) {
-                return eP(e, this, "indata", "tupleindex", t, !0, !0)
+            }, dP.tuplesRef = function() {
+                return LN(this.values)
+            }, dP.extentRef = function(e, t) {
+                return gP(e, this, "extent", "extent", t, !1)
+            }, dP.domainRef = function(e, t) {
+                return gP(e, this, "domain", "values", t, !1)
+            }, dP.valuesRef = function(e, t, n) {
+                return gP(e, this, "vals", "values", t, n || !0)
+            }, dP.lookupRef = function(e, t) {
+                return gP(e, this, "lookup", "tupleindex", t, !1)
+            }, dP.indataRef = function(e, t) {
+                return gP(e, this, "indata", "tupleindex", t, !0, !0)
             };
-            var cP = (0, ke.toSet)(["width", "height", "padding", "autosize"]);
+            var AP = (0, Ee.toSet)(["width", "height", "padding", "autosize"]);
 
-            function fP(e) {
+            function kP(e) {
                 this.config = e, this.bindings = [], this.field = {}, this.signals = {}, this.lambdas = {}, this.scales = {}, this.events = {}, this.data = {}, this.streams = [], this.updates = [], this.operators = [], this.background = null, this.eventConfig = null, this._id = 0, this._subid = 0, this._nextsub = [0], this._parent = [], this._encode = [], this._lookup = [], this._markpath = []
             }
 
-            function dP(e) {
+            function MP(e) {
                 this.config = e.config, this.field = Object.create(e.field), this.signals = Object.create(e.signals), this.lambdas = Object.create(e.lambdas), this.scales = Object.create(e.scales), this.events = Object.create(e.events), this.data = Object.create(e.data), this.streams = [], this.updates = [], this.operators = [], this._id = 0, this._subid = ++e._nextsub[0], this._nextsub = e._nextsub, this._parent = e._parent.slice(), this._encode = e._encode.slice(), this._lookup = e._lookup.slice(), this._markpath = e._markpath
             }
-            var hP = fP.prototype = dP.prototype;
+            var DP = kP.prototype = MP.prototype;
 
-            function pP(e) {
-                return ((0, ke.isArray)(e) ? gP : mP)(e)
+            function CP(e) {
+                return ((0, Ee.isArray)(e) ? FP : NP)(e)
             }
 
-            function gP(e) {
-                for (var t, n = "[", r = 0, i = e.length; r < i; ++r) t = e[r], n += (r > 0 ? "," : "") + ((0, ke.isObject)(t) ? t.signal || pP(t) : (0, ke.stringValue)(t));
+            function FP(e) {
+                for (var t, n = "[", r = 0, i = e.length; r < i; ++r) t = e[r], n += (r > 0 ? "," : "") + ((0, Ee.isObject)(t) ? t.signal || CP(t) : (0, Ee.stringValue)(t));
                 return n + "]"
             }
 
-            function mP(e) {
+            function NP(e) {
                 var t, n, r = "{",
                     i = 0;
-                for (t in e) n = e[t], r += (++i > 1 ? "," : "") + (0, ke.stringValue)(t) + ":" + ((0, ke.isObject)(n) ? n.signal || pP(n) : (0, ke.stringValue)(n));
+                for (t in e) n = e[t], r += (++i > 1 ? "," : "") + (0, Ee.stringValue)(t) + ":" + ((0, Ee.isObject)(n) ? n.signal || CP(n) : (0, Ee.stringValue)(n));
                 return r + "}"
             }
-            hP.fork = function() {
-                return new dP(this)
-            }, hP.isSubscope = function() {
+            DP.fork = function() {
+                return new MP(this)
+            }, DP.isSubscope = function() {
                 return this._subid > 0
-            }, hP.toRuntime = function() {
+            }, DP.toRuntime = function() {
                 return this.finish(), {
                     background: this.background,
                     operators: this.operators,
                     streams: this.streams,
                     updates: this.updates,
                     bindings: this.bindings,
                     eventConfig: this.eventConfig
                 }
-            }, hP.id = function() {
+            }, DP.id = function() {
                 return (this._subid ? this._subid + ":" : 0) + this._id++
-            }, hP.add = function(e) {
+            }, DP.add = function(e) {
                 return this.operators.push(e), e.id = this.id(), e.refs && (e.refs.forEach((function(t) {
                     t.$ref = e.id
                 })), e.refs = null), e
-            }, hP.proxy = function(e) {
-                var t = e instanceof RN ? IN(e) : e;
-                return this.add(xT({
+            }, DP.proxy = function(e) {
+                var t = e instanceof TN ? LN(e) : e;
+                return this.add(bO({
                     value: t
                 }))
-            }, hP.addStream = function(e) {
+            }, DP.addStream = function(e) {
                 return this.streams.push(e), e.id = this.id(), e
-            }, hP.addUpdate = function(e) {
+            }, DP.addUpdate = function(e) {
                 return this.updates.push(e), e
-            }, hP.finish = function() {
+            }, DP.finish = function() {
                 var e, t;
                 for (e in this.root && (this.root.root = !0), this.signals) this.signals[e].signal = e;
                 for (e in this.scales) this.scales[e].scale = e;
 
                 function n(e, t, n) {
                     var r;
                     e && ((r = e.data || (e.data = {}))[t] || (r[t] = [])).push(n)
                 }
                 for (e in this.data)
                     for (var r in n((t = this.data[e]).input, e, "input"), n(t.output, e, "output"), n(t.values, e, "values"), t.index) n(t.index[r], e, "index:" + r);
                 return this
-            }, hP.pushState = function(e, t, n) {
-                this._encode.push(IN(this.add(AT({
+            }, DP.pushState = function(e, t, n) {
+                this._encode.push(LN(this.add(SO({
                     pulse: e
-                })))), this._parent.push(t), this._lookup.push(n ? IN(this.proxy(n)) : null), this._markpath.push(-1)
-            }, hP.popState = function() {
+                })))), this._parent.push(t), this._lookup.push(n ? LN(this.proxy(n)) : null), this._markpath.push(-1)
+            }, DP.popState = function() {
                 this._encode.pop(), this._parent.pop(), this._lookup.pop(), this._markpath.pop()
-            }, hP.parent = function() {
-                return (0, ke.peek)(this._parent)
-            }, hP.encode = function() {
-                return (0, ke.peek)(this._encode)
-            }, hP.lookup = function() {
-                return (0, ke.peek)(this._lookup)
-            }, hP.markpath = function() {
+            }, DP.parent = function() {
+                return (0, Ee.peek)(this._parent)
+            }, DP.encode = function() {
+                return (0, Ee.peek)(this._encode)
+            }, DP.lookup = function() {
+                return (0, Ee.peek)(this._lookup)
+            }, DP.markpath = function() {
                 var e = this._markpath;
                 return ++e[e.length - 1]
-            }, hP.fieldRef = function(e, t) {
-                if ((0, ke.isString)(e)) return jN(e, t);
-                e.signal || (0, ke.error)("Unsupported field reference: " + (0, ke.stringValue)(e));
+            }, DP.fieldRef = function(e, t) {
+                if ((0, Ee.isString)(e)) return IN(e, t);
+                e.signal || (0, Ee.error)("Unsupported field reference: " + (0, Ee.stringValue)(e));
                 var n, r = e.signal,
                     i = this.field[r];
                 return i || (n = {
                     name: this.signalRef(r)
-                }, t && (n.as = t), this.field[r] = i = IN(this.add(fT(n)))), i
-            }, hP.compareRef = function(e, t) {
+                }, t && (n.as = t), this.field[r] = i = LN(this.add(lO(n)))), i
+            }, DP.compareRef = function(e, t) {
                 function n(e) {
-                    return VN(e) ? (i = !0, IN(r[e.signal])) : e
+                    return WN(e) ? (i = !0, LN(r[e.signal])) : e
                 }
                 var r = this.signals,
                     i = !1,
-                    a = (0, ke.array)(e.field).map(n),
-                    o = (0, ke.array)(e.order).map(n);
-                return t && a.push(UN), i ? IN(this.add(uT({
+                    a = (0, Ee.array)(e.field).map(n),
+                    o = (0, Ee.array)(e.order).map(n);
+                return t && a.push(zN), i ? LN(this.add(aO({
                     fields: a,
                     orders: o
-                }))) : qN(a, o)
-            }, hP.keyRef = function(e, t) {
+                }))) : BN(a, o)
+            }, DP.keyRef = function(e, t) {
                 var n = this.signals,
                     r = !1;
-                return e = (0, ke.array)(e).map((function(e) {
-                    return VN(e) ? (r = !0, IN(n[e.signal])) : e
-                })), r ? IN(this.add(dT({
+                return e = (0, Ee.array)(e).map((function(e) {
+                    return WN(e) ? (r = !0, LN(n[e.signal])) : e
+                })), r ? LN(this.add(cO({
                     fields: e,
                     flat: t
                 }))) : function(e, t) {
                     var n = {
                         $key: e
                     };
                     return t && (n.$flat = !0), n
                 }(e, t)
-            }, hP.sortRef = function(e) {
+            }, DP.sortRef = function(e) {
                 if (!e) return e;
-                var t = [HN(e.op, e.field), UN],
+                var t = [UN(e.op, e.field), zN],
                     n = e.order || "ascending";
-                return n.signal ? IN(this.add(uT({
+                return n.signal ? LN(this.add(aO({
                     fields: t,
                     orders: [n = this.signalRef(n.signal), n]
-                }))) : qN(t, [n, n])
-            }, hP.event = function(e, t) {
+                }))) : BN(t, [n, n])
+            }, DP.event = function(e, t) {
                 var n = e + ":" + t;
                 if (!this.events[n]) {
                     var r = this.id();
                     this.streams.push({
                         id: r,
                         source: e,
                         type: t
                     }), this.events[n] = r
                 }
                 return this.events[n]
-            }, hP.addSignal = function(e, t) {
-                this.signals.hasOwnProperty(e) && (0, ke.error)("Duplicate signal name: " + (0, ke.stringValue)(e));
-                var n = t instanceof RN ? t : this.add(zN(t));
+            }, DP.addSignal = function(e, t) {
+                this.signals.hasOwnProperty(e) && (0, Ee.error)("Duplicate signal name: " + (0, Ee.stringValue)(e));
+                var n = t instanceof TN ? t : this.add(RN(t));
                 return this.signals[e] = n
-            }, hP.getSignal = function(e) {
-                return this.signals[e] || (0, ke.error)("Unrecognized signal name: " + (0, ke.stringValue)(e)), this.signals[e]
-            }, hP.signalRef = function(e) {
-                return this.signals[e] ? IN(this.signals[e]) : (this.lambdas.hasOwnProperty(e) || (this.lambdas[e] = this.add(zN(null))), IN(this.lambdas[e]))
-            }, hP.parseLambdas = function() {
+            }, DP.getSignal = function(e) {
+                return this.signals[e] || (0, Ee.error)("Unrecognized signal name: " + (0, Ee.stringValue)(e)), this.signals[e]
+            }, DP.signalRef = function(e) {
+                return this.signals[e] ? LN(this.signals[e]) : (this.lambdas.hasOwnProperty(e) || (this.lambdas[e] = this.add(RN(null))), LN(this.lambdas[e]))
+            }, DP.parseLambdas = function() {
                 for (var e = Object.keys(this.lambdas), t = 0, n = e.length; t < n; ++t) {
                     var r = e[t],
-                        i = PN(r, this),
+                        i = ON(r, this),
                         a = this.lambdas[r];
                     a.params = i.$params, a.update = i.$expr
                 }
-            }, hP.property = function(e) {
+            }, DP.property = function(e) {
                 return e && e.signal ? this.signalRef(e.signal) : e
-            }, hP.objectProperty = function(e) {
-                return e && (0, ke.isObject)(e) ? this.signalRef(e.signal || pP(e)) : e
-            }, hP.addBinding = function(e, t) {
-                this.bindings || (0, ke.error)("Nested signals do not support binding: " + (0, ke.stringValue)(e)), this.bindings.push((0, ke.extend)({
+            }, DP.objectProperty = function(e) {
+                return e && (0, Ee.isObject)(e) ? this.signalRef(e.signal || CP(e)) : e
+            }, DP.addBinding = function(e, t) {
+                this.bindings || (0, Ee.error)("Nested signals do not support binding: " + (0, Ee.stringValue)(e)), this.bindings.push((0, Ee.extend)({
                     signal: e
                 }, t))
-            }, hP.addScaleProj = function(e, t) {
-                this.scales.hasOwnProperty(e) && (0, ke.error)("Duplicate scale or projection name: " + (0, ke.stringValue)(e)), this.scales[e] = this.add(t)
-            }, hP.addScale = function(e, t) {
-                this.addScaleProj(e, ET(t))
-            }, hP.addProjection = function(e, t) {
-                this.addScaleProj(e, _T(t))
-            }, hP.getScale = function(e) {
-                return this.scales[e] || (0, ke.error)("Unrecognized scale name: " + (0, ke.stringValue)(e)), this.scales[e]
-            }, hP.projectionRef = hP.scaleRef = function(e) {
-                return IN(this.getScale(e))
-            }, hP.projectionType = hP.scaleType = function(e) {
+            }, DP.addScaleProj = function(e, t) {
+                this.scales.hasOwnProperty(e) && (0, Ee.error)("Duplicate scale or projection name: " + (0, Ee.stringValue)(e)), this.scales[e] = this.add(t)
+            }, DP.addScale = function(e, t) {
+                this.addScaleProj(e, wO(t))
+            }, DP.addProjection = function(e, t) {
+                this.addScaleProj(e, yO(t))
+            }, DP.getScale = function(e) {
+                return this.scales[e] || (0, Ee.error)("Unrecognized scale name: " + (0, Ee.stringValue)(e)), this.scales[e]
+            }, DP.projectionRef = DP.scaleRef = function(e) {
+                return LN(this.getScale(e))
+            }, DP.projectionType = DP.scaleType = function(e) {
                 return this.getScale(e).params.type
-            }, hP.addData = function(e, t) {
-                return this.data.hasOwnProperty(e) && (0, ke.error)("Duplicate data set name: " + (0, ke.stringValue)(e)), this.data[e] = t
-            }, hP.getData = function(e) {
-                return this.data[e] || (0, ke.error)("Undefined data set name: " + (0, ke.stringValue)(e)), this.data[e]
-            }, hP.addDataPipeline = function(e, t) {
-                return this.data.hasOwnProperty(e) && (0, ke.error)("Duplicate data set name: " + (0, ke.stringValue)(e)), this.addData(e, KO.fromEntries(this, t))
-            };
-            var vP = "sans-serif",
-                yP = 30,
-                bP = "#4c78a8",
-                _P = "#000",
-                xP = "#888",
-                wP = "#ddd";
+            }, DP.addData = function(e, t) {
+                return this.data.hasOwnProperty(e) && (0, Ee.error)("Duplicate data set name: " + (0, Ee.stringValue)(e)), this.data[e] = t
+            }, DP.getData = function(e) {
+                return this.data[e] || (0, Ee.error)("Undefined data set name: " + (0, Ee.stringValue)(e)), this.data[e]
+            }, DP.addDataPipeline = function(e, t) {
+                return this.data.hasOwnProperty(e) && (0, Ee.error)("Duplicate data set name: " + (0, Ee.stringValue)(e)), this.addData(e, fP.fromEntries(this, t))
+            };
+            var OP = "sans-serif",
+                TP = 30,
+                PP = 2,
+                RP = "#4c78a8",
+                LP = "#000",
+                zP = "#888",
+                IP = "#ddd";
 
-            function SP(e, t) {
-                return (0, ke.isObject)(e) || (0, ke.error)("Input Vega specification must be an object."),
+            function jP(e, t) {
+                return (0, Ee.isObject)(e) || (0, Ee.error)("Input Vega specification must be an object."),
                     function(e, t) {
                         var n, r, i, a, o, u = t.config;
-                        return t.background = e.background || u.background, t.eventConfig = u.events, o = IN(t.root = t.add(zN())), t.addSignal("width", e.width || 0), t.addSignal("height", e.height || 0), t.addSignal("padding", function(e, t) {
-                            return e = e || t.padding, (0, ke.isObject)(e) ? {
-                                top: gD(e.top),
-                                bottom: gD(e.bottom),
-                                left: gD(e.left),
-                                right: gD(e.right)
+                        return t.background = e.background || u.background, t.eventConfig = u.events, o = LN(t.root = t.add(RN())), t.addSignal("width", e.width || 0), t.addSignal("height", e.height || 0), t.addSignal("padding", function(e, t) {
+                            return e = e || t.padding, (0, Ee.isObject)(e) ? {
+                                top: HM(e.top),
+                                bottom: HM(e.bottom),
+                                left: HM(e.left),
+                                right: HM(e.right)
                             } : {
-                                top: n = gD(e),
+                                top: n = HM(e),
                                 bottom: n,
                                 left: n,
                                 right: n
                             };
                             var n
                         }(e.padding, u)), t.addSignal("autosize", function(e, t) {
-                            return e = e || t.autosize, (0, ke.isObject)(e) ? e : {
+                            return e = e || t.autosize, (0, Ee.isObject)(e) ? e : {
                                 type: e = e || "pad"
                             }
-                        }(e.autosize, u)), (0, ke.array)(e.signals).forEach((function(e) {
-                            cP[e.name] || yD(e, t)
-                        })), r = t.add(oT()), i = AO({
+                        }(e.autosize, u)), (0, Ee.array)(e.signals).forEach((function(e) {
+                            AP[e.name] || YM(e, t)
+                        })), r = t.add(iO()), i = zT({
                             enter: {
                                 x: {
                                     value: 0
                                 },
                                 y: {
                                     value: 0
                                 }
@@ -21667,127 +21959,127 @@
                                 width: {
                                     signal: "width"
                                 },
                                 height: {
                                     signal: "height"
                                 }
                             }
-                        }, e.encode), i = t.add(lT(kO(i, CO, _O, e.style, t, {
-                            pulse: IN(r)
-                        }))), a = t.add(MT({
+                        }, e.encode), i = t.add(uO(IT(i, UT, _T, e.style, t, {
+                            pulse: LN(r)
+                        }))), a = t.add(AO({
                             layout: t.objectProperty(e.layout),
                             legendMargin: u.legendMargin,
                             autosize: t.signalRef("autosize"),
                             mark: o,
-                            pulse: IN(i)
-                        })), t.operators.pop(), t.pushState(IN(i), IN(a), null), lP(e, t, !0), t.operators.push(a), n = t.add(aT({
+                            pulse: LN(i)
+                        })), t.operators.pop(), t.pushState(LN(i), LN(a), null), EP(e, t, !0), t.operators.push(a), n = t.add(rO({
                             mark: o,
-                            pulse: IN(a)
-                        })), n = t.add(ST({
-                            pulse: IN(n)
-                        })), n = t.add(AT({
-                            pulse: IN(n)
-                        })), t.addData("root", new KO(t, r, r, n)), t
-                    }(e, new fP((n = [t, e.config], r = {
+                            pulse: LN(a)
+                        })), n = t.add(xO({
+                            pulse: LN(n)
+                        })), n = t.add(SO({
+                            pulse: LN(n)
+                        })), t.addData("root", new fP(t, r, r, n)), t
+                    }(e, new kP((n = [t, e.config], r = {
                         padding: 0,
                         autosize: "pad",
                         background: null,
                         events: {
                             defaults: {
                                 allow: ["wheel"]
                             }
                         },
                         group: null,
                         mark: null,
                         arc: {
-                            fill: bP
+                            fill: RP
                         },
                         area: {
-                            fill: bP
+                            fill: RP
                         },
                         image: null,
                         line: {
-                            stroke: bP,
-                            strokeWidth: 2
+                            stroke: RP,
+                            strokeWidth: PP
                         },
                         path: {
-                            stroke: bP
+                            stroke: RP
                         },
                         rect: {
-                            fill: bP
+                            fill: RP
                         },
                         rule: {
-                            stroke: _P
+                            stroke: LP
                         },
                         shape: {
-                            stroke: bP
+                            stroke: RP
                         },
                         symbol: {
-                            fill: bP,
+                            fill: RP,
                             size: 64
                         },
                         text: {
-                            fill: _P,
-                            font: vP,
+                            fill: LP,
+                            font: OP,
                             fontSize: 11
                         },
                         style: {
                             "guide-label": {
-                                fill: _P,
-                                font: vP,
+                                fill: LP,
+                                font: OP,
                                 fontSize: 10
                             },
                             "guide-title": {
-                                fill: _P,
-                                font: vP,
+                                fill: LP,
+                                font: OP,
                                 fontSize: 11,
                                 fontWeight: "bold"
                             },
                             "group-title": {
-                                fill: _P,
-                                font: vP,
+                                fill: LP,
+                                font: OP,
                                 fontSize: 13,
                                 fontWeight: "bold"
                             },
                             point: {
-                                size: yP,
-                                strokeWidth: 2,
+                                size: TP,
+                                strokeWidth: PP,
                                 shape: "circle"
                             },
                             circle: {
-                                size: yP,
-                                strokeWidth: 2
+                                size: TP,
+                                strokeWidth: PP
                             },
                             square: {
-                                size: yP,
-                                strokeWidth: 2,
+                                size: TP,
+                                strokeWidth: PP,
                                 shape: "square"
                             },
                             cell: {
                                 fill: "transparent",
-                                stroke: wP
+                                stroke: IP
                             }
                         },
                         axis: {
                             minExtent: 0,
                             maxExtent: 200,
                             bandPosition: .5,
                             domain: !0,
                             domainWidth: 1,
-                            domainColor: xP,
+                            domainColor: zP,
                             grid: !1,
                             gridWidth: 1,
-                            gridColor: wP,
+                            gridColor: IP,
                             gridOpacity: 1,
                             labels: !0,
                             labelAngle: 0,
                             labelLimit: 180,
                             labelPadding: 2,
                             ticks: !0,
-                            tickColor: xP,
+                            tickColor: zP,
                             tickOffset: 0,
                             tickRound: !0,
                             tickSize: 5,
                             tickWidth: 1,
                             titleAlign: "center",
                             titlePadding: 4
                         },
@@ -21798,26 +22090,26 @@
                             orient: "right",
                             offset: 18,
                             padding: 0,
                             entryPadding: 5,
                             titlePadding: 5,
                             gradientWidth: 100,
                             gradientHeight: 20,
-                            gradientStrokeColor: wP,
+                            gradientStrokeColor: IP,
                             gradientStrokeWidth: 0,
                             gradientLabelBaseline: "top",
                             gradientLabelOffset: 2,
                             labelAlign: "left",
                             labelBaseline: "middle",
                             labelOffset: 8,
                             labelLimit: 160,
                             symbolType: "circle",
                             symbolSize: 100,
                             symbolFillColor: "transparent",
-                            symbolStrokeColor: xP,
+                            symbolStrokeColor: zP,
                             symbolStrokeWidth: 1.5,
                             titleAlign: "left",
                             titleBaseline: "top",
                             titleLimit: 180
                         },
                         title: {
                             orient: "top",
@@ -21845,181 +22137,181 @@
                             symbol: ["circle", "square", "triangle-up", "cross", "diamond", "triangle-right", "triangle-down", "triangle-left"]
                         }
                     }, (n || []).forEach((function(e) {
                         var t, n, i;
                         if (e)
                             for (t in e)
                                 if ("style" === t)
-                                    for (t in i = r.style || (r.style = {}), e.style) i[t] = (0, ke.extend)(i[t] || {}, e.style[t]);
-                                else n = e[t], r[t] = (0, ke.isObject)(n) && !(0, ke.isArray)(n) ? (0, ke.extend)((0, ke.isObject)(r[t]) ? r[t] : {}, n) : n
+                                    for (t in i = r.style || (r.style = {}), e.style) i[t] = (0, Ee.extend)(i[t] || {}, e.style[t]);
+                                else n = e[t], r[t] = (0, Ee.isObject)(n) && !(0, Ee.isArray)(n) ? (0, Ee.extend)((0, Ee.isObject)(r[t]) ? r[t] : {}, n) : n
                     })), r))).toRuntime();
                 var n, r
             }
 
-            function EP(e, t, n) {
+            function BP(e, t, n) {
                 ";" !== t[t.length - 1] && (t = "return(" + t + ");");
                 var r = Function.apply(null, e.concat(t));
                 return n && n.functions ? r.bind(n.functions) : r
             }
 
-            function AP(e, t) {
-                return EP(["event"], e, t)
+            function UP(e, t) {
+                return BP(["event"], e, t)
             }
 
-            function kP(e, t) {
-                return EP(["item", "_"], e, t)
+            function qP(e, t) {
+                return BP(["item", "_"], e, t)
             }
 
-            function MP(e, t, n) {
+            function HP(e, t, n) {
                 var r, i;
-                for (r in n = n || {}, e)(i = e[r]) && i.$expr && i.$params && MP(i.$params, t, n), n[r] = (0, ke.isArray)(i) ? i.map((function(e) {
-                    return DP(e, t)
-                })) : DP(i, t);
+                for (r in n = n || {}, e)(i = e[r]) && i.$expr && i.$params && HP(i.$params, t, n), n[r] = (0, Ee.isArray)(i) ? i.map((function(e) {
+                    return WP(e, t)
+                })) : WP(i, t);
                 return n
             }
 
-            function DP(e, t) {
-                if (!e || !(0, ke.isObject)(e)) return e;
-                for (var n, r = 0, i = CP.length; r < i; ++r)
-                    if (n = CP[r], e.hasOwnProperty(n.key)) return n.parse(e, t);
+            function WP(e, t) {
+                if (!e || !(0, Ee.isObject)(e)) return e;
+                for (var n, r = 0, i = VP.length; r < i; ++r)
+                    if (n = VP[r], e.hasOwnProperty(n.key)) return n.parse(e, t);
                 return e
             }
-            var CP = [{
+            var VP = [{
                 key: "$ref",
                 parse: function(e, t) {
-                    return t.get(e.$ref) || (0, ke.error)("Operator not defined: " + e.$ref)
+                    return t.get(e.$ref) || (0, Ee.error)("Operator not defined: " + e.$ref)
                 }
             }, {
                 key: "$key",
                 parse: function(e, t) {
                     var n = "k:" + e.$key + "_" + !!e.$flat;
-                    return t.fn[n] || (t.fn[n] = (0, ke.key)(e.$key, e.$flat))
+                    return t.fn[n] || (t.fn[n] = (0, Ee.key)(e.$key, e.$flat))
                 }
             }, {
                 key: "$expr",
                 parse: function(e, t) {
                     var n = "e:" + e.$expr;
-                    return t.fn[n] || (t.fn[n] = (0, ke.accessor)(function(e, t) {
-                        return EP(["datum", "_"], e, t)
+                    return t.fn[n] || (t.fn[n] = (0, Ee.accessor)(function(e, t) {
+                        return BP(["datum", "_"], e, t)
                     }(e.$expr, t), e.$fields, e.$name))
                 }
             }, {
                 key: "$field",
                 parse: function(e, t) {
                     if (!e.$field) return null;
                     var n = "f:" + e.$field + "_" + e.$name;
-                    return t.fn[n] || (t.fn[n] = (0, ke.field)(e.$field, e.$name))
+                    return t.fn[n] || (t.fn[n] = (0, Ee.field)(e.$field, e.$name))
                 }
             }, {
                 key: "$encode",
                 parse: function(e, t) {
                     var n, r, i = e.$encode,
                         a = {};
-                    for (n in i) r = i[n], a[n] = (0, ke.accessor)(kP(r.$expr, t), r.$fields), a[n].output = r.$output;
+                    for (n in i) r = i[n], a[n] = (0, Ee.accessor)(qP(r.$expr, t), r.$fields), a[n].output = r.$output;
                     return a
                 }
             }, {
                 key: "$compare",
                 parse: function(e, t) {
                     var n = "c:" + e.$compare + "_" + e.$order,
-                        r = (0, ke.array)(e.$compare).map((function(e) {
-                            return e && e.$tupleid ? Ne : e
+                        r = (0, Ee.array)(e.$compare).map((function(e) {
+                            return e && e.$tupleid ? Ce : e
                         }));
-                    return t.fn[n] || (t.fn[n] = (0, ke.compare)(r, e.$order))
+                    return t.fn[n] || (t.fn[n] = (0, Ee.compare)(r, e.$order))
                 }
             }, {
                 key: "$context",
                 parse: function(e, t) {
                     return t
                 }
             }, {
                 key: "$subflow",
                 parse: function(e, t) {
                     var n = e.$subflow;
                     return function(e, r, i) {
-                        var a = NP(n, t.fork()),
+                        var a = YP(n, t.fork()),
                             o = a.get(n.operators[0].id),
                             u = a.signals.parent;
                         return u && u.set(i), o
                     }
                 }
             }, {
                 key: "$tupleid",
                 parse: function() {
-                    return Ne
+                    return Ce
                 }
             }];
 
-            function FP(e) {
+            function GP(e) {
                 return (e + "").toLowerCase()
             }
 
-            function NP(e, t) {
+            function YP(e, t) {
                 var n = e.operators || [];
                 return e.background && (t.background = e.background), e.eventConfig && (t.eventConfig = e.eventConfig), n.forEach((function(e) {
                     ! function(e, t) {
                         ! function(e) {
-                            return "operator" === FP(e)
+                            return "operator" === GP(e)
                         }(e.type) && e.type ? t.transform(e, e.type) : t.operator(e, e.update ? function(e, t) {
-                            return EP(["_"], e, t)
+                            return BP(["_"], e, t)
                         }(e.update, t) : null)
                     }(e, t)
                 })), n.forEach((function(e) {
                     ! function(e, t) {
                         var n, r;
-                        e.params && ((n = t.get(e.id)) || (0, ke.error)("Invalid operator id: " + e.id), r = MP(e.params, t), t.dataflow.connect(n, n.parameters(r)))
+                        e.params && ((n = t.get(e.id)) || (0, Ee.error)("Invalid operator id: " + e.id), r = HP(e.params, t), t.dataflow.connect(n, n.parameters(r)))
                     }(e, t)
                 })), (e.streams || []).forEach((function(e) {
                     ! function(e, t) {
-                        var n, r = null != e.filter ? AP(e.filter, t) : void 0,
+                        var n, r = null != e.filter ? UP(e.filter, t) : void 0,
                             i = null != e.stream ? t.get(e.stream) : void 0;
-                        e.source ? i = t.events(e.source, e.type, r) : e.merge && (i = (n = e.merge.map(t.get.bind(t)))[0].merge.apply(n[0], n.slice(1))), e.between && (n = e.between.map(t.get.bind(t)), i = i.between(n[0], n[1])), e.filter && (i = i.filter(r)), null != e.throttle && (i = i.throttle(+e.throttle)), null != e.debounce && (i = i.debounce(+e.debounce)), null == i && (0, ke.error)("Invalid stream definition: " + JSON.stringify(e)), e.consume && i.consume(!0), t.stream(e, i)
+                        e.source ? i = t.events(e.source, e.type, r) : e.merge && (i = (n = e.merge.map(t.get.bind(t)))[0].merge.apply(n[0], n.slice(1))), e.between && (n = e.between.map(t.get.bind(t)), i = i.between(n[0], n[1])), e.filter && (i = i.filter(r)), null != e.throttle && (i = i.throttle(+e.throttle)), null != e.debounce && (i = i.debounce(+e.debounce)), null == i && (0, Ee.error)("Invalid stream definition: " + JSON.stringify(e)), e.consume && i.consume(!0), t.stream(e, i)
                     }(e, t)
                 })), (e.updates || []).forEach((function(e) {
                     ! function(e, t) {
                         var n, r = t.get(e.source),
                             i = e.update,
                             a = void 0;
-                        r || (0, ke.error)("Source not defined: " + e.source), n = e.target && e.target.$expr ? AP(e.target.$expr, t) : t.get(e.target), i && i.$expr && (i.$params && (a = MP(i.$params, t)), i = function(e, t) {
-                            return EP(["_", "event"], e, t)
+                        r || (0, Ee.error)("Source not defined: " + e.source), n = e.target && e.target.$expr ? UP(e.target.$expr, t) : t.get(e.target), i && i.$expr && (i.$params && (a = HP(i.$params, t)), i = function(e, t) {
+                            return BP(["_", "event"], e, t)
                         }(i.$expr, t)), t.update(e, r, n, i, a)
                     }(e, t)
                 })), t.resolve()
             }
-            var TP = {
+            var XP = {
                 skip: !0
             };
 
-            function OP(e, t, n) {
-                return new PP(e, t, n)
+            function $P(e, t, n) {
+                return new KP(e, t, n)
             }
 
-            function PP(e, t, n) {
+            function KP(e, t, n) {
                 this.dataflow = e, this.transforms = t, this.events = e.events.bind(e), this.signals = {}, this.scales = {}, this.nodes = {}, this.data = {}, this.fn = {}, n && (this.functions = Object.create(n), this.functions.context = this)
             }
 
-            function RP(e) {
+            function JP(e) {
                 this.dataflow = e.dataflow, this.transforms = e.transforms, this.functions = e.functions, this.events = e.events, this.signals = Object.create(e.signals), this.scales = Object.create(e.scales), this.nodes = Object.create(e.nodes), this.data = Object.create(e.data), this.fn = Object.create(e.fn), e.functions && (this.functions = Object.create(e.functions), this.functions.context = this)
             }
-            PP.prototype = RP.prototype = {
+            KP.prototype = JP.prototype = {
                 fork: function() {
-                    var e = new RP(this);
+                    var e = new JP(this);
                     return (this.subcontext || (this.subcontext = [])).push(e), e
                 },
                 get: function(e) {
                     return this.nodes[e]
                 },
                 set: function(e, t) {
                     return this.nodes[e] = t
                 },
                 add: function(e, t) {
                     var n, r = this,
                         i = r.dataflow;
                     if (r.set(e.id, t), function(e) {
-                            return "collect" === FP(e)
+                            return "collect" === GP(e)
                         }(e.type) && (n = e.value) && (n.$ingest ? i.ingest(t, n.$ingest, n.$format) : n.$request ? i.request(t, n.$request, n.$format) : i.pulse(t, i.changeset().insert(n))), e.root && (r.root = t), e.parent) {
                         var a = r.get(e.parent.$ref);
                         a ? (i.connect(a, [t]), t.targets().add(a)) : (r.unresolved = r.unresolved || []).push((function() {
                             a = r.get(e.parent.$ref), i.connect(a, [t]), t.targets().add(a)
                         }))
                     }
                     if (e.signal && (r.signals[e.signal] = t), e.scale && (r.scales[e.scale] = t), e.data)
@@ -22032,15 +22324,15 @@
                         e()
                     })), delete this.unresolved, this
                 },
                 operator: function(e, t, n) {
                     this.add(e, this.dataflow.add(e.value, t, n, e.react))
                 },
                 transform: function(e, t, n) {
-                    this.add(e, this.dataflow.add(this.transforms[FP(t)], n))
+                    this.add(e, this.dataflow.add(this.transforms[GP(t)], n))
                 },
                 stream: function(e, t) {
                     this.set(e.id, t)
                 },
                 update: function(e, t, n, r, i) {
                     this.dataflow.on(t, n, r, i, e.options)
                 },
@@ -22067,255 +22359,257 @@
                 },
                 setState: function(e) {
                     var t = this,
                         n = t.dataflow,
                         r = e.data,
                         i = e.signals;
                     Object.keys(i || {}).forEach((function(e) {
-                        n.update(t.signals[e], i[e], TP)
+                        n.update(t.signals[e], i[e], XP)
                     })), Object.keys(r || {}).forEach((function(e) {
-                        n.pulse(t.data[e].input, n.changeset().remove(ke.truthy).insert(r[e]))
+                        n.pulse(t.data[e].input, n.changeset().remove(Ee.truthy).insert(r[e]))
                     })), (e.subcontext || []).forEach((function(e, n) {
                         var r = t.subcontext[n];
                         r && r.setState(e)
                     }))
                 }
             };
-            var LP = "padding",
-                zP = {
+            var QP = "width",
+                ZP = "height",
+                eR = "padding",
+                tR = {
                     skip: !0
                 };
 
-            function IP(e, t) {
+            function nR(e, t) {
                 var n = e.autosize(),
                     r = e.padding();
-                return t - (n && n.contains === LP ? r.left + r.right : 0)
+                return t - (n && n.contains === eR ? r.left + r.right : 0)
             }
 
-            function UP(e, t) {
+            function rR(e, t) {
                 var n = e.autosize(),
                     r = e.padding();
-                return t - (n && n.contains === LP ? r.top + r.bottom : 0)
+                return t - (n && n.contains === eR ? r.top + r.bottom : 0)
             }
 
-            function jP(e, t) {
-                return t.modified && (0, ke.isArray)(t.input.value) && e.indexOf("_:vega:_")
+            function iR(e, t) {
+                return t.modified && (0, Ee.isArray)(t.input.value) && e.indexOf("_:vega:_")
             }
 
-            function BP(e, t) {
-                return !("parent" === e || t instanceof Fi.proxy)
+            function aR(e, t) {
+                return !("parent" === e || t instanceof Ni.proxy)
             }
 
-            function qP(e, t, n, r) {
+            function oR(e, t, n, r) {
                 e.element().setAttribute("title", function(e) {
-                    return null == e ? "" : (0, ke.isArray)(e) ? HP(e) : (0, ke.isObject)(e) && !(0, ke.isDate)(e) ? (t = e, Object.keys(t).map((function(e) {
+                    return null == e ? "" : (0, Ee.isArray)(e) ? uR(e) : (0, Ee.isObject)(e) && !(0, Ee.isDate)(e) ? (t = e, Object.keys(t).map((function(e) {
                         var n = t[e];
-                        return e + ": " + ((0, ke.isArray)(n) ? HP(n) : WP(n))
+                        return e + ": " + ((0, Ee.isArray)(n) ? uR(n) : sR(n))
                     })).join("\n")) : e + "";
                     var t
                 }(r))
             }
 
-            function HP(e) {
-                return "[" + e.map(WP).join(", ") + "]"
+            function uR(e) {
+                return "[" + e.map(sR).join(", ") + "]"
             }
 
-            function WP(e) {
-                return (0, ke.isArray)(e) ? "[…]" : (0, ke.isObject)(e) && !(0, ke.isDate)(e) ? "{…}" : e
+            function sR(e) {
+                return (0, Ee.isArray)(e) ? "[…]" : (0, Ee.isObject)(e) && !(0, Ee.isDate)(e) ? "{…}" : e
             }
 
-            function YP(e, t) {
+            function lR(e, t) {
                 var n = this;
-                t = t || {}, Ai.call(n), n.loader(t.loader || n._loader), n.logLevel(t.logLevel || 0), n._el = null, n._renderType = t.renderer || Of.Canvas, n._scenegraph = new Pc;
+                t = t || {}, ki.call(n), n.loader(t.loader || n._loader), n.logLevel(t.logLevel || 0), n._el = null, n._renderType = t.renderer || Jf.Canvas, n._scenegraph = new Kc;
                 var r = n._scenegraph.root;
-                n._renderer = null, n._tooltip = t.tooltip || qP, n._redraw = !0, n._handler = (new Jc).scene(r), n._preventDefault = !1, n._eventListeners = [], n._resizeListeners = [];
+                n._renderer = null, n._tooltip = t.tooltip || oR, n._redraw = !0, n._handler = (new pf).scene(r), n._preventDefault = !1, n._eventListeners = [], n._resizeListeners = [];
                 var i = function(e, t, n) {
-                    return NP(t, OP(e, Fi, n || MN))
+                    return YP(t, $P(e, Ni, n || EN))
                 }(n, e, t.functions);
                 n._runtime = i, n._signals = i.signals, n._bind = (e.bindings || []).map((function(e) {
                         return {
                             state: null,
-                            param: (0, ke.extend)({}, e)
+                            param: (0, Ee.extend)({}, e)
                         }
                     })), i.root && i.root.set(r), r.source = i.data.root.input, n.pulse(i.data.root.input, n.changeset().insert(r.items)), n._background = i.background || null, n._eventConfig = function(e) {
-                        var t = (e = (0, ke.extend)({}, e)).defaults;
-                        return t && ((0, ke.isArray)(t.prevent) && (t.prevent = (0, ke.toSet)(t.prevent)), (0, ke.isArray)(t.allow) && (t.allow = (0, ke.toSet)(t.allow))), e
-                    }(i.eventConfig), n._width = n.width(), n._height = n.height(), n._viewWidth = IP(n, n._width), n._viewHeight = UP(n, n._height), n._origin = [0, 0], n._resize = 0, n._autosize = 1,
+                        var t = (e = (0, Ee.extend)({}, e)).defaults;
+                        return t && ((0, Ee.isArray)(t.prevent) && (t.prevent = (0, Ee.toSet)(t.prevent)), (0, Ee.isArray)(t.allow) && (t.allow = (0, Ee.toSet)(t.allow))), e
+                    }(i.eventConfig), n._width = n.width(), n._height = n.height(), n._viewWidth = nR(n, n._width), n._viewHeight = rR(n, n._height), n._origin = [0, 0], n._resize = 0, n._autosize = 1,
                     function(e) {
                         var t = e._signals,
-                            n = t.width,
-                            r = t.height,
-                            i = t.padding;
+                            n = t[QP],
+                            r = t[ZP],
+                            i = t[eR];
 
                         function a() {
                             e._autosize = e._resize = 1
                         }
                         e._resizeWidth = e.add(null, (function(t) {
-                            e._width = t.size, e._viewWidth = IP(e, t.size), a()
+                            e._width = t.size, e._viewWidth = nR(e, t.size), a()
                         }), {
                             size: n
                         }), e._resizeHeight = e.add(null, (function(t) {
-                            e._height = t.size, e._viewHeight = UP(e, t.size), a()
+                            e._height = t.size, e._viewHeight = rR(e, t.size), a()
                         }), {
                             size: r
                         });
                         var o = e.add(null, a, {
                             pad: i
                         });
                         e._resizeWidth.rank = n.rank + 1, e._resizeHeight.rank = r.rank + 1, o.rank = i.rank + 1
                     }(n),
                     function(e) {
                         var t = e._signals.cursor;
                         t || (e._signals.cursor = t = e.add({
-                            user: HM,
+                            user: xM,
                             item: null
                         })), e.on(e.events("view", "mousemove"), t, (function(e, n) {
                             var r = t.value,
-                                i = r ? (0, ke.isString)(r) ? r : r.user : HM,
+                                i = r ? (0, Ee.isString)(r) ? r : r.user : xM,
                                 a = n.item && n.item.cursor || null;
                             return r && i === r.user && a == r.item ? r : {
                                 user: i,
                                 item: a
                             }
                         })), e.add(null, (function(e) {
                             var t = e.cursor,
                                 n = this.value;
-                            return (0, ke.isString)(t) || (n = t.item, t = t.user),
+                            return (0, Ee.isString)(t) || (n = t.item, t = t.user),
                                 function(e) {
                                     "undefined" != typeof document && document.body && (document.body.style.cursor = e)
-                                }(t && t !== HM ? t : n || t), n
+                                }(t && t !== xM ? t : n || t), n
                         }), {
                             cursor: t
                         })
                     }(n)
             }
-            var VP = (0, ke.inherits)(YP, Ai);
+            var cR = (0, Ee.inherits)(lR, ki);
 
-            function GP(e, t) {
-                return e._signals.hasOwnProperty(t) ? e._signals[t] : (0, ke.error)("Unrecognized signal name: " + (0, ke.stringValue)(t))
+            function fR(e, t) {
+                return e._signals.hasOwnProperty(t) ? e._signals[t] : (0, Ee.error)("Unrecognized signal name: " + (0, Ee.stringValue)(t))
             }
 
-            function XP(e, t) {
+            function dR(e, t) {
                 var n = (e._targets || []).filter((function(e) {
                     var n = e._update;
                     return n && n.handler === t
                 }));
                 return n.length ? n[0] : null
             }
-            VP.run = function(e) {
-                if (Ai.prototype.run.call(this, e), this._redraw || this._resize) try {
+            cR.run = function(e) {
+                if (ki.prototype.run.call(this, e), this._redraw || this._resize) try {
                     this.render()
                 } catch (e) {
                     this.error(e)
                 }
                 return this
-            }, VP.render = function() {
-                return this._renderer && (this._resize && (this._resize = 0, t = XM(e = this), n = VM(e), r = GM(e), e._renderer.background(e._background), e._renderer.resize(n, r, t), e._handler.origin(t), e._resizeListeners.forEach((function(e) {
+            }, cR.render = function() {
+                return this._renderer && (this._resize && (this._resize = 0, t = kM(e = this), n = EM(e), r = AM(e), e._renderer.background(e._background), e._renderer.resize(n, r, t), e._handler.origin(t), e._resizeListeners.forEach((function(e) {
                     e(n, r)
                 }))), this._renderer.render(this._scenegraph.root)), this._redraw = !1, this;
                 var e, t, n, r
-            }, VP.dirty = function(e) {
+            }, cR.dirty = function(e) {
                 this._redraw = !0, this._renderer && this._renderer.dirty(e)
-            }, VP.container = function() {
+            }, cR.container = function() {
                 return this._el
-            }, VP.scenegraph = function() {
+            }, cR.scenegraph = function() {
                 return this._scenegraph
-            }, VP.origin = function() {
+            }, cR.origin = function() {
                 return this._origin.slice()
-            }, VP.signal = function(e, t, n) {
-                var r = GP(this, e);
+            }, cR.signal = function(e, t, n) {
+                var r = fR(this, e);
                 return 1 === arguments.length ? r.value : this.update(r, t, n)
-            }, VP.background = function(e) {
+            }, cR.background = function(e) {
                 return arguments.length ? (this._background = e, this._resize = 1, this) : this._background
-            }, VP.width = function(e) {
+            }, cR.width = function(e) {
                 return arguments.length ? this.signal("width", e) : this.signal("width")
-            }, VP.height = function(e) {
+            }, cR.height = function(e) {
                 return arguments.length ? this.signal("height", e) : this.signal("height")
-            }, VP.padding = function(e) {
+            }, cR.padding = function(e) {
                 return arguments.length ? this.signal("padding", e) : this.signal("padding")
-            }, VP.autosize = function(e) {
+            }, cR.autosize = function(e) {
                 return arguments.length ? this.signal("autosize", e) : this.signal("autosize")
-            }, VP.renderer = function(e) {
-                return arguments.length ? (Rf(e) || (0, ke.error)("Unrecognized renderer type: " + e), e !== this._renderType && (this._renderType = e, this._resetRenderer()), this) : this._renderType
-            }, VP.tooltip = function(e) {
+            }, cR.renderer = function(e) {
+                return arguments.length ? (Zf(e) || (0, Ee.error)("Unrecognized renderer type: " + e), e !== this._renderType && (this._renderType = e, this._resetRenderer()), this) : this._renderType
+            }, cR.tooltip = function(e) {
                 return arguments.length ? (e !== this._tooltip && (this._tooltip = e, this._resetRenderer()), this) : this._tooltip
-            }, VP.loader = function(e) {
-                return arguments.length ? (e !== this._loader && (Ai.prototype.loader.call(this, e), this._resetRenderer()), this) : this._loader
-            }, VP.resize = function() {
+            }, cR.loader = function(e) {
+                return arguments.length ? (e !== this._loader && (ki.prototype.loader.call(this, e), this._resetRenderer()), this) : this._loader
+            }, cR.resize = function() {
                 return this._autosize = 1, this
-            }, VP._resetRenderer = function() {
+            }, cR._resetRenderer = function() {
                 this._renderer && (this._renderer = null, this.initialize(this._el))
-            }, VP._resizeView = function(e, t, n, r, i, a) {
+            }, cR._resizeView = function(e, t, n, r, i, a) {
                 this.runAfter((function(o) {
                     var u = 0;
-                    o._autosize = 0, o.width() !== n && (u = 1, o.signal("width", n, zP), o._resizeWidth.skip(!0)), o.height() !== r && (u = 1, o.signal("height", r, zP), o._resizeHeight.skip(!0)), o._viewWidth !== e && (o._resize = 1, o._viewWidth = e), o._viewHeight !== t && (o._resize = 1, o._viewHeight = t), o._origin[0] === i[0] && o._origin[1] === i[1] || (o._resize = 1, o._origin = i), u && o.run("enter"), a && o.runAfter((function() {
+                    o._autosize = 0, o.width() !== n && (u = 1, o.signal(QP, n, tR), o._resizeWidth.skip(!0)), o.height() !== r && (u = 1, o.signal(ZP, r, tR), o._resizeHeight.skip(!0)), o._viewWidth !== e && (o._resize = 1, o._viewWidth = e), o._viewHeight !== t && (o._resize = 1, o._viewHeight = t), o._origin[0] === i[0] && o._origin[1] === i[1] || (o._resize = 1, o._origin = i), u && o.run("enter"), a && o.runAfter((function() {
                         o.resize()
                     }))
                 }), !1, 1)
-            }, VP.addEventListener = function(e, t) {
+            }, cR.addEventListener = function(e, t) {
                 return this._handler.on(e, t), this
-            }, VP.removeEventListener = function(e, t) {
+            }, cR.removeEventListener = function(e, t) {
                 return this._handler.off(e, t), this
-            }, VP.addResizeListener = function(e) {
+            }, cR.addResizeListener = function(e) {
                 var t = this._resizeListeners;
                 return t.indexOf(e) < 0 && t.push(e), this
-            }, VP.removeResizeListener = function(e) {
+            }, cR.removeResizeListener = function(e) {
                 var t = this._resizeListeners,
                     n = t.indexOf(e);
                 return n >= 0 && t.splice(n, 1), this
-            }, VP.addSignalListener = function(e, t) {
-                var n = GP(this, e),
-                    r = XP(n, t);
+            }, cR.addSignalListener = function(e, t) {
+                var n = fR(this, e),
+                    r = dR(n, t);
                 return r || ((r = function() {
                     t(e, n.value)
                 }).handler = t, this.on(n, null, r)), this
-            }, VP.removeSignalListener = function(e, t) {
-                var n = GP(this, e),
-                    r = XP(n, t);
+            }, cR.removeSignalListener = function(e, t) {
+                var n = fR(this, e),
+                    r = dR(n, t);
                 return r && n._targets.remove(r), this
-            }, VP.preventDefault = function(e) {
+            }, cR.preventDefault = function(e) {
                 return arguments.length ? (this._preventDefault = e, this) : this._preventDefault
-            }, VP.tooltipHandler = function(e) {
+            }, cR.tooltipHandler = function(e) {
                 var t = this._handler;
-                return arguments.length ? (t.handleTooltip = e || Hc.prototype.handleTooltip, this) : t.handleTooltip
-            }, VP.events = function(e, t, n) {
+                return arguments.length ? (t.handleTooltip = e || of.prototype.handleTooltip, this) : t.handleTooltip
+            }, cR.events = function(e, t, n) {
                 var r, i = this,
-                    a = new Xe(n),
+                    a = new Ge(n),
                     o = function(n, r) {
-                        e === $M && function(e, t) {
+                        e === MM && function(e, t) {
                             var n = e._eventConfig.defaults,
                                 r = n && n.prevent,
                                 i = n && n.allow;
                             return !1 !== r && !0 !== i && (!0 === r || !1 === i || (r ? r[t] : i ? !i[t] : e.preventDefault()))
                         }(i, t) && n.preventDefault();
                         try {
                             a.receive(function(e, t, n) {
                                 var r, i, a = e._renderer.scene();
-                                return a && (i = XM(e), (r = qc(t.changedTouches ? t.changedTouches[0] : t, a))[0] -= i[0], r[1] -= i[1]), t.dataflow = e, t.vega = function(e, t, n) {
+                                return a && (i = kM(e), (r = af(t.changedTouches ? t.changedTouches[0] : t, a))[0] -= i[0], r[1] -= i[1]), t.dataflow = e, t.vega = function(e, t, n) {
                                     var r = t ? "group" === t.mark.marktype ? t : t.mark.group : null;
 
                                     function i(e) {
                                         var n, i = r;
                                         if (e)
                                             for (n = t; n; n = n.mark.group)
                                                 if (n.mark.name === e) {
                                                     i = n;
                                                     break
                                                 } return i && i.mark && i.mark.interactive ? i : {}
                                     }
 
                                     function a(e) {
                                         if (!e) return n;
-                                        (0, ke.isString)(e) && (e = i(e));
+                                        (0, Ee.isString)(e) && (e = i(e));
                                         for (var t = n.slice(); e;) t[0] -= e.x || 0, t[1] -= e.y || 0, e = e.mark && e.mark.group;
                                         return t
                                     }
                                     return {
-                                        view: (0, ke.constant)(e),
-                                        item: (0, ke.constant)(t || {}),
+                                        view: (0, Ee.constant)(e),
+                                        item: (0, Ee.constant)(t || {}),
                                         group: i,
                                         xy: a,
                                         x: function(e) {
                                             return a(e)[0]
                                         },
                                         y: function(e) {
                                             return a(e)[1]
@@ -22325,173 +22619,173 @@
                             }(i, n, r))
                         } catch (e) {
                             i.error(e)
                         } finally {
                             i.run()
                         }
                     };
-                if (e === $M) return i.addEventListener(t, o), a;
+                if (e === MM) return i.addEventListener(t, o), a;
                 if ("window" === e ? "undefined" != typeof window && (r = [window]) : "undefined" != typeof document && (r = document.querySelectorAll(e)), !r) return i.warn("Can not resolve event source: " + e), a;
                 for (var u = 0, s = r.length; u < s; ++u) r[u].addEventListener(t, o);
                 return i._eventListeners.push({
                     type: t,
                     sources: r,
                     handler: o
                 }), a
-            }, VP.finalize = function() {
+            }, cR.finalize = function() {
                 for (var e, t, n = this._eventListeners, r = n.length; --r >= 0;)
                     for (e = (t = n[r]).sources.length; --e >= 0;) t.sources[e].removeEventListener(t.type, t.handler)
-            }, VP.hover = function(e, t) {
-                return t = [t || "update", (e = [e || "hover"])[0]], this.on(this.events("view", "mouseover", KM), JM, QM(e)), this.on(this.events("view", "mouseout", KM), JM, QM(t)), this
-            }, VP.data = function(e) {
-                return WM(this, e).values.value
-            }, VP.change = YM, VP.insert = function(e, t) {
-                return YM.call(this, e, Ie().insert(t))
-            }, VP.remove = function(e, t) {
-                return YM.call(this, e, Ie().remove(t))
-            }, VP.initialize = function(e, t) {
+            }, cR.hover = function(e, t) {
+                return t = [t || "update", (e = [e || "hover"])[0]], this.on(this.events("view", "mouseover", DM), CM, FM(e)), this.on(this.events("view", "mouseout", DM), CM, FM(t)), this
+            }, cR.data = function(e) {
+                return wM(this, e).values.value
+            }, cR.change = SM, cR.insert = function(e, t) {
+                return SM.call(this, e, Le().insert(t))
+            }, cR.remove = function(e, t) {
+                return SM.call(this, e, Le().remove(t))
+            }, cR.initialize = function(e, t) {
                 var n, r, i = this,
                     a = i._renderType,
-                    o = Rf(a);
-                return e = i._el = e ? hD(i, e) : null, o || i.error("Unrecognized renderer type: " + a), n = o.handler || Jc, r = e ? o.renderer : o.headless, i._renderer = r ? dD(i, i._renderer, e, r) : null, i._handler = function(e, t, n, r) {
+                    o = Zf(a);
+                return e = i._el = e ? UM(i, e) : null, o || i.error("Unrecognized renderer type: " + a), n = o.handler || pf, r = e ? o.renderer : o.headless, i._renderer = r ? BM(i, i._renderer, e, r) : null, i._handler = function(e, t, n, r) {
                     var i = new r(e.loader(), function(e) {
                         var t = e.tooltip(),
                             n = null;
                         return t && (n = function() {
                             try {
                                 t.apply(this, arguments)
                             } catch (t) {
                                 e.error(t)
                             }
                         }), n
-                    }(e)).scene(e.scenegraph().root).initialize(n, XM(e), e);
+                    }(e)).scene(e.scenegraph().root).initialize(n, kM(e), e);
                     return t && t.handlers().forEach((function(e) {
                         i.on(e.type, e.handler)
                     })), i
-                }(i, i._handler, e, n), i._redraw = !0, e && (t = t ? hD(i, t) : e.appendChild(ZM("div", {
+                }(i, i._handler, e, n), i._redraw = !0, e && (t = t ? UM(i, t) : e.appendChild(NM("div", {
                     class: "vega-bindings"
                 })), i._bind.forEach((function(e) {
-                    e.param.element && (e.element = hD(i, e.param.element))
+                    e.param.element && (e.element = UM(i, e.param.element))
                 })), i._bind.forEach((function(e) {
                     ! function(e, t, n) {
                         if (t) {
                             var r = n.param,
                                 i = n.state;
                             i || (i = n.state = {
                                     elements: null,
                                     active: !1,
                                     set: null,
                                     update: function(t) {
                                         i.source = !0, e.signal(r.signal, t).run()
                                     }
-                                }, r.debounce && (i.update = (0, ke.debounce)(r.debounce, i.update))),
+                                }, r.debounce && (i.update = (0, Ee.debounce)(r.debounce, i.update))),
                                 function(e, t, n, r) {
-                                    var i = ZM("div", {
+                                    var i = NM("div", {
                                         class: "vega-bind"
                                     });
-                                    i.appendChild(ZM("span", {
+                                    i.appendChild(NM("span", {
                                         class: "vega-bind-name"
                                     }, n.name || n.signal)), t.appendChild(i);
-                                    var a = oD;
+                                    var a = PM;
                                     switch (n.input) {
                                         case "checkbox":
-                                            a = uD;
+                                            a = RM;
                                             break;
                                         case "select":
-                                            a = sD;
+                                            a = LM;
                                             break;
                                         case "radio":
-                                            a = lD;
+                                            a = zM;
                                             break;
                                         case "range":
-                                            a = cD
+                                            a = IM
                                     }
                                     a(e, i, n, r)
                                 }(i, t, r, e.signal(r.signal)), i.active || (e.on(e._signals[r.signal], null, (function() {
                                     i.source ? i.source = !1 : i.set(e.signal(r.signal))
                                 })), i.active = !0)
                         }
                     }(i, e.element || t, e)
                 }))), i
-            }, VP.toImageURL = function(e, t) {
-                return e !== Of.Canvas && e !== Of.SVG && e !== Of.PNG ? Promise.reject("Unrecognized image type: " + e) : pD(this, e, t).then((function(t) {
-                    return e === Of.SVG ? (n = t.svg(), r = new Blob([n], {
+            }, cR.toImageURL = function(e, t) {
+                return e !== Jf.Canvas && e !== Jf.SVG && e !== Jf.PNG ? Promise.reject("Unrecognized image type: " + e) : qM(this, e, t).then((function(t) {
+                    return e === Jf.SVG ? (n = t.svg(), r = new Blob([n], {
                         type: "image/svg+xml"
                     }), window.URL.createObjectURL(r)) : t.canvas().toDataURL("image/png");
                     var n, r
                 }))
-            }, VP.toCanvas = function(e) {
-                return pD(this, Of.Canvas, e).then((function(e) {
+            }, cR.toCanvas = function(e) {
+                return qM(this, Jf.Canvas, e).then((function(e) {
                     return e.canvas()
                 }))
-            }, VP.toSVG = function(e) {
-                return pD(this, Of.SVG, e).then((function(e) {
+            }, cR.toSVG = function(e) {
+                return qM(this, Jf.SVG, e).then((function(e) {
                     return e.svg()
                 }))
-            }, VP.getState = function(e) {
+            }, cR.getState = function(e) {
                 return this._runtime.getState(e || {
-                    data: jP,
-                    signals: BP,
+                    data: iR,
+                    signals: aR,
                     recurse: !0
                 })
-            }, VP.setState = function(e) {
+            }, cR.setState = function(e) {
                 var t = this;
                 return t.runAfter((function() {
                     t._trigger = !1, t._runtime.setState(e), t.run().runAfter((function() {
                         t._trigger = !0
                     }))
                 })), this
-            }, (0, ke.extend)(Fi, r, i, u, s, l, c, f, d, h);
-            var $P = n(242),
-                KP = n(5136);
-            const JP = "#fff",
-                QP = {
+            }, (0, Ee.extend)(Ni, r, i, u, s, l, c, f, d, h);
+            var hR = n(242),
+                pR = n(5136);
+            const gR = "#fff",
+                mR = {
                     background: "#333",
                     title: {
-                        color: JP,
-                        subtitleColor: JP
+                        color: gR,
+                        subtitleColor: gR
                     },
                     style: {
                         "guide-label": {
-                            fill: JP
+                            fill: gR
                         },
                         "guide-title": {
-                            fill: JP
+                            fill: gR
                         }
                     },
                     axis: {
-                        domainColor: JP,
+                        domainColor: gR,
                         gridColor: "#888",
-                        tickColor: JP
+                        tickColor: gR
                     }
                 },
-                ZP = "#4572a7",
-                eR = {
+                vR = "#4572a7",
+                yR = {
                     background: "#fff",
                     arc: {
-                        fill: ZP
+                        fill: vR
                     },
                     area: {
-                        fill: ZP
+                        fill: vR
                     },
                     line: {
-                        stroke: ZP,
+                        stroke: vR,
                         strokeWidth: 2
                     },
                     path: {
-                        stroke: ZP
+                        stroke: vR
                     },
                     rect: {
-                        fill: ZP
+                        fill: vR
                     },
                     shape: {
-                        stroke: ZP
+                        stroke: vR
                     },
                     symbol: {
-                        fill: ZP,
+                        fill: vR,
                         strokeWidth: 1.5,
                         size: 50
                     },
                     axis: {
                         bandPosition: .5,
                         grid: !0,
                         gridColor: "#000000",
@@ -22511,116 +22805,116 @@
                         symbolSize: 50,
                         symbolType: "square"
                     },
                     range: {
                         category: ["#4572a7", "#aa4643", "#8aa453", "#71598e", "#4598ae", "#d98445", "#94aace", "#d09393", "#b9cc98", "#a99cbc"]
                     }
                 },
-                tR = "#30a2da",
-                nR = "#cbcbcb",
-                rR = "#f0f0f0",
-                iR = "#333",
-                aR = {
+                bR = "#30a2da",
+                _R = "#cbcbcb",
+                xR = "#f0f0f0",
+                wR = "#333",
+                SR = {
                     arc: {
-                        fill: tR
+                        fill: bR
                     },
                     area: {
-                        fill: tR
+                        fill: bR
                     },
                     axis: {
-                        domainColor: nR,
+                        domainColor: _R,
                         grid: !0,
-                        gridColor: nR,
+                        gridColor: _R,
                         gridWidth: 1,
                         labelColor: "#999",
                         labelFontSize: 10,
                         titleColor: "#333",
-                        tickColor: nR,
+                        tickColor: _R,
                         tickSize: 10,
                         titleFontSize: 14,
                         titlePadding: 10,
                         labelPadding: 4
                     },
                     axisBand: {
                         grid: !1
                     },
-                    background: rR,
+                    background: xR,
                     group: {
-                        fill: rR
+                        fill: xR
                     },
                     legend: {
-                        labelColor: iR,
+                        labelColor: wR,
                         labelFontSize: 11,
                         padding: 1,
                         symbolSize: 30,
                         symbolType: "square",
-                        titleColor: iR,
+                        titleColor: wR,
                         titleFontSize: 14,
                         titlePadding: 10
                     },
                     line: {
-                        stroke: tR,
+                        stroke: bR,
                         strokeWidth: 2
                     },
                     path: {
-                        stroke: tR,
+                        stroke: bR,
                         strokeWidth: .5
                     },
                     rect: {
-                        fill: tR
+                        fill: bR
                     },
                     range: {
                         category: ["#30a2da", "#fc4f30", "#e5ae38", "#6d904f", "#8b8b8b", "#b96db8", "#ff9e27", "#56cc60", "#52d2ca", "#52689e", "#545454", "#9fe4f8"],
                         diverging: ["#cc0020", "#e77866", "#f6e7e1", "#d6e8ed", "#91bfd9", "#1d78b5"],
                         heatmap: ["#d6e8ed", "#cee0e5", "#91bfd9", "#549cc6", "#1d78b5"]
                     },
                     point: {
                         filled: !0,
                         shape: "circle"
                     },
                     shape: {
-                        stroke: tR
+                        stroke: bR
                     },
                     bar: {
                         binSpacing: 2,
-                        fill: tR,
+                        fill: bR,
                         stroke: null
                     },
                     title: {
                         anchor: "start",
                         fontSize: 24,
                         fontWeight: 600,
                         offset: 20
                     }
                 },
-                oR = "#000",
-                uR = {
+                ER = "#000",
+                AR = {
                     group: {
                         fill: "#e5e5e5"
                     },
                     arc: {
-                        fill: oR
+                        fill: ER
                     },
                     area: {
-                        fill: oR
+                        fill: ER
                     },
                     line: {
-                        stroke: oR
+                        stroke: ER
                     },
                     path: {
-                        stroke: oR
+                        stroke: ER
                     },
                     rect: {
-                        fill: oR
+                        fill: ER
                     },
                     shape: {
-                        stroke: oR
+                        stroke: ER
                     },
                     symbol: {
-                        fill: oR,
+                        fill: ER,
                         size: 40
                     },
                     axis: {
                         domain: !1,
                         grid: !0,
                         gridColor: "#FFFFFF",
                         gridOpacity: 1,
@@ -22636,63 +22930,63 @@
                         labelFontSize: 11,
                         symbolSize: 40
                     },
                     range: {
                         category: ["#000000", "#7F7F7F", "#1A1A1A", "#999999", "#333333", "#B0B0B0", "#4D4D4D", "#C9C9C9", "#666666", "#DCDCDC"]
                     }
                 },
-                sR = "Benton Gothic, sans-serif",
-                lR = "#82c6df",
-                cR = "Benton Gothic Bold, sans-serif",
-                fR = "normal",
-                dR = {
+                kR = "Benton Gothic, sans-serif",
+                MR = "#82c6df",
+                DR = "Benton Gothic Bold, sans-serif",
+                CR = "normal",
+                FR = {
                     "category-6": ["#ec8431", "#829eb1", "#c89d29", "#3580b1", "#adc839", "#ab7fb4"],
                     "fire-7": ["#fbf2c7", "#f9e39c", "#f8d36e", "#f4bb6a", "#e68a4f", "#d15a40", "#ab4232"],
                     "fireandice-6": ["#e68a4f", "#f4bb6a", "#f9e39c", "#dadfe2", "#a6b7c6", "#849eae"],
                     "ice-7": ["#edefee", "#dadfe2", "#c4ccd2", "#a6b7c6", "#849eae", "#607785", "#47525d"]
                 },
-                hR = {
+                NR = {
                     background: "#ffffff",
                     title: {
                         anchor: "start",
                         color: "#000000",
-                        font: cR,
+                        font: DR,
                         fontSize: 22,
                         fontWeight: "normal"
                     },
                     arc: {
-                        fill: lR
+                        fill: MR
                     },
                     area: {
-                        fill: lR
+                        fill: MR
                     },
                     line: {
-                        stroke: lR,
+                        stroke: MR,
                         strokeWidth: 2
                     },
                     path: {
-                        stroke: lR
+                        stroke: MR
                     },
                     rect: {
-                        fill: lR
+                        fill: MR
                     },
                     shape: {
-                        stroke: lR
+                        stroke: MR
                     },
                     symbol: {
-                        fill: lR,
+                        fill: MR,
                         size: 30
                     },
                     axis: {
-                        labelFont: sR,
+                        labelFont: kR,
                         labelFontSize: 11.5,
                         labelFontWeight: "normal",
-                        titleFont: cR,
+                        titleFont: DR,
                         titleFontSize: 13,
-                        titleFontWeight: fR
+                        titleFontWeight: CR
                     },
                     axisX: {
                         labelAngle: 0,
                         labelPadding: 4,
                         tickSize: 3
                     },
                     axisY: {
@@ -22702,63 +22996,63 @@
                         tickSize: 2,
                         titleAlign: "left",
                         titleAngle: 0,
                         titleX: -45,
                         titleY: -11
                     },
                     legend: {
-                        labelFont: sR,
+                        labelFont: kR,
                         labelFontSize: 11.5,
                         symbolType: "square",
-                        titleFont: cR,
+                        titleFont: DR,
                         titleFontSize: 13,
-                        titleFontWeight: fR
+                        titleFontWeight: CR
                     },
                     range: {
-                        category: dR["category-6"],
-                        diverging: dR["fireandice-6"],
-                        heatmap: dR["fire-7"],
-                        ordinal: dR["fire-7"],
-                        ramp: dR["fire-7"]
+                        category: FR["category-6"],
+                        diverging: FR["fireandice-6"],
+                        heatmap: FR["fire-7"],
+                        ordinal: FR["fire-7"],
+                        ramp: FR["fire-7"]
                     }
                 },
-                pR = "#ab5787",
-                gR = "#979797",
-                mR = {
+                OR = "#ab5787",
+                TR = "#979797",
+                PR = {
                     background: "#f9f9f9",
                     arc: {
-                        fill: pR
+                        fill: OR
                     },
                     area: {
-                        fill: pR
+                        fill: OR
                     },
                     line: {
-                        stroke: pR
+                        stroke: OR
                     },
                     path: {
-                        stroke: pR
+                        stroke: OR
                     },
                     rect: {
-                        fill: pR
+                        fill: OR
                     },
                     shape: {
-                        stroke: pR
+                        stroke: OR
                     },
                     symbol: {
-                        fill: pR,
+                        fill: OR,
                         size: 30
                     },
                     axis: {
-                        domainColor: gR,
+                        domainColor: TR,
                         domainWidth: .5,
                         gridWidth: .2,
-                        labelColor: gR,
-                        tickColor: gR,
+                        labelColor: TR,
+                        tickColor: TR,
                         tickWidth: .2,
-                        titleColor: gR
+                        titleColor: TR
                     },
                     axisBand: {
                         grid: !1
                     },
                     axisX: {
                         grid: !0,
                         tickSize: 10
@@ -22774,37 +23068,37 @@
                         symbolSize: 30,
                         symbolType: "square"
                     },
                     range: {
                         category: ["#ab5787", "#51b2e5", "#703c5c", "#168dd9", "#d190b6", "#00609f", "#d365ba", "#154866", "#666666", "#c4c4c4"]
                     }
                 },
-                vR = "#3e5c69",
-                yR = {
+                RR = "#3e5c69",
+                LR = {
                     background: "#fff",
                     arc: {
-                        fill: vR
+                        fill: RR
                     },
                     area: {
-                        fill: vR
+                        fill: RR
                     },
                     line: {
-                        stroke: vR
+                        stroke: RR
                     },
                     path: {
-                        stroke: vR
+                        stroke: RR
                     },
                     rect: {
-                        fill: vR
+                        fill: RR
                     },
                     shape: {
-                        stroke: vR
+                        stroke: RR
                     },
                     symbol: {
-                        fill: vR
+                        fill: RR
                     },
                     axis: {
                         domainWidth: .5,
                         grid: !0,
                         labelPadding: 2,
                         tickSize: 5,
                         tickWidth: .5,
@@ -22825,19 +23119,19 @@
                         padding: 1,
                         symbolType: "square"
                     },
                     range: {
                         category: ["#3e5c69", "#6793a6", "#182429", "#0570b0", "#3690c0", "#74a9cf", "#a6bddb", "#e2ddf2"]
                     }
                 },
-                bR = "#1696d2",
-                _R = "#000000",
-                xR = "Lato",
-                wR = "Lato",
-                SR = {
+                zR = "#1696d2",
+                IR = "#000000",
+                jR = "Lato",
+                BR = "Lato",
+                UR = {
                     "main-colors": ["#1696d2", "#d2d2d2", "#000000", "#fdbf11", "#ec008b", "#55b748", "#5c5859", "#db2b27"],
                     "shades-blue": ["#CFE8F3", "#A2D4EC", "#73BFE2", "#46ABDB", "#1696D2", "#12719E", "#0A4C6A", "#062635"],
                     "shades-gray": ["#F5F5F5", "#ECECEC", "#E3E3E3", "#DCDBDB", "#D2D2D2", "#9D9D9D", "#696969", "#353535"],
                     "shades-yellow": ["#FFF2CF", "#FCE39E", "#FDD870", "#FCCB41", "#FDBF11", "#E88E2D", "#CA5800", "#843215"],
                     "shades-magenta": ["#F5CBDF", "#EB99C2", "#E46AA7", "#E54096", "#EC008B", "#AF1F6B", "#761548", "#351123"],
                     "shades-green": ["#DCEDD9", "#BCDEB4", "#98CF90", "#78C26D", "#55B748", "#408941", "#2C5C2D", "#1A2E19"],
                     "shades-black": ["#D5D5D4", "#ADABAC", "#848081", "#5C5859", "#332D2F", "#262223", "#1A1717", "#0E0C0D"],
@@ -22856,231 +23150,231 @@
                     "five-groups-cat-2": ["#1696d2", "#0a4c6a", "#d2d2d2", "#fdbf11", "#332d2f"],
                     "five-groups-seq": ["#cfe8f3", "#73bf42", "#1696d2", "#0a4c6a", "#000000"],
                     "six-groups-cat-1": ["#1696d2", "#ec008b", "#fdbf11", "#000000", "#d2d2d2", "#55b748"],
                     "six-groups-cat-2": ["#1696d2", "#d2d2d2", "#ec008b", "#fdbf11", "#332d2f", "#0a4c6a"],
                     "six-groups-seq": ["#cfe8f3", "#a2d4ec", "#73bfe2", "#46abdb", "#1696d2", "#12719e"],
                     "diverging-colors": ["#ca5800", "#fdbf11", "#fdd870", "#fff2cf", "#cfe8f3", "#73bfe2", "#1696d2", "#0a4c6a"]
                 },
-                ER = {
+                qR = {
                     background: "#FFFFFF",
                     title: {
                         anchor: "start",
                         fontSize: 18,
-                        font: xR
+                        font: jR
                     },
                     axisX: {
                         domain: !0,
-                        domainColor: _R,
+                        domainColor: IR,
                         domainWidth: 1,
                         grid: !1,
                         labelFontSize: 12,
-                        labelFont: wR,
+                        labelFont: BR,
                         labelAngle: 0,
-                        tickColor: _R,
+                        tickColor: IR,
                         tickSize: 5,
                         titleFontSize: 12,
                         titlePadding: 10,
-                        titleFont: xR
+                        titleFont: jR
                     },
                     axisY: {
                         domain: !1,
                         domainWidth: 1,
                         grid: !0,
                         gridColor: "#DEDDDD",
                         gridWidth: 1,
                         labelFontSize: 12,
-                        labelFont: wR,
+                        labelFont: BR,
                         labelPadding: 8,
                         ticks: !1,
                         titleFontSize: 12,
                         titlePadding: 10,
-                        titleFont: xR,
+                        titleFont: jR,
                         titleAngle: 0,
                         titleY: -10,
                         titleX: 18
                     },
                     legend: {
                         labelFontSize: 12,
-                        labelFont: wR,
+                        labelFont: BR,
                         symbolSize: 100,
                         titleFontSize: 12,
                         titlePadding: 10,
-                        titleFont: xR,
+                        titleFont: jR,
                         orient: "right",
                         offset: 10
                     },
                     view: {
                         stroke: "transparent"
                     },
                     range: {
-                        category: SR["six-groups-cat-1"],
-                        diverging: SR["diverging-colors"],
-                        heatmap: SR["diverging-colors"],
-                        ordinal: SR["six-groups-seq"],
-                        ramp: SR["shades-blue"]
+                        category: UR["six-groups-cat-1"],
+                        diverging: UR["diverging-colors"],
+                        heatmap: UR["diverging-colors"],
+                        ordinal: UR["six-groups-seq"],
+                        ramp: UR["shades-blue"]
                     },
                     area: {
-                        fill: bR
+                        fill: zR
                     },
                     rect: {
-                        fill: bR
+                        fill: zR
                     },
                     line: {
-                        color: bR,
-                        stroke: bR,
+                        color: zR,
+                        stroke: zR,
                         strokeWidth: 5
                     },
                     trail: {
-                        color: bR,
-                        stroke: bR,
+                        color: zR,
+                        stroke: zR,
                         strokeWidth: 0,
                         size: 1
                     },
                     path: {
-                        stroke: bR,
+                        stroke: zR,
                         strokeWidth: .5
                     },
                     point: {
                         filled: !0
                     },
                     text: {
                         font: "Lato",
-                        color: bR,
+                        color: zR,
                         fontSize: 11,
                         align: "center",
                         fontWeight: 400,
                         size: 11
                     },
                     style: {
                         bar: {
-                            fill: bR,
+                            fill: zR,
                             stroke: null
                         }
                     },
                     arc: {
-                        fill: bR
+                        fill: zR
                     },
                     shape: {
-                        stroke: bR
+                        stroke: zR
                     },
                     symbol: {
-                        fill: bR,
+                        fill: zR,
                         size: 30
                     }
                 },
-                AR = "#3366CC",
-                kR = "#ccc",
-                MR = "Arial, sans-serif",
-                DR = {
+                HR = "#3366CC",
+                WR = "#ccc",
+                VR = "Arial, sans-serif",
+                GR = {
                     arc: {
-                        fill: AR
+                        fill: HR
                     },
                     area: {
-                        fill: AR
+                        fill: HR
                     },
                     path: {
-                        stroke: AR
+                        stroke: HR
                     },
                     rect: {
-                        fill: AR
+                        fill: HR
                     },
                     shape: {
-                        stroke: AR
+                        stroke: HR
                     },
                     symbol: {
-                        stroke: AR
+                        stroke: HR
                     },
                     circle: {
-                        fill: AR
+                        fill: HR
                     },
                     background: "#fff",
                     padding: {
                         top: 10,
                         right: 10,
                         bottom: 10,
                         left: 10
                     },
                     style: {
                         "guide-label": {
-                            font: MR,
+                            font: VR,
                             fontSize: 12
                         },
                         "guide-title": {
-                            font: MR,
+                            font: VR,
                             fontSize: 12
                         },
                         "group-title": {
-                            font: MR,
+                            font: VR,
                             fontSize: 12
                         }
                     },
                     title: {
-                        font: MR,
+                        font: VR,
                         fontSize: 14,
                         fontWeight: "bold",
                         dy: -3,
                         anchor: "start"
                     },
                     axis: {
-                        gridColor: kR,
-                        tickColor: kR,
+                        gridColor: WR,
+                        tickColor: WR,
                         domain: !1,
                         grid: !0
                     },
                     range: {
                         category: ["#4285F4", "#DB4437", "#F4B400", "#0F9D58", "#AB47BC", "#00ACC1", "#FF7043", "#9E9D24", "#5C6BC0", "#F06292", "#00796B", "#C2185B"],
                         heatmap: ["#c6dafc", "#5e97f6", "#2a56c6"]
                     }
                 },
-                CR = "2.10.0";
-            var FR = {
+                YR = "2.10.0";
+            var XR = {
                 offsetX: 10,
                 offsetY: 10,
                 id: "vg-tooltip-element",
                 styleId: "vega-tooltip-style",
                 theme: "light",
                 disableDefaultStyle: !1,
-                sanitize: NR,
+                sanitize: $R,
                 maxDepth: 2
             };
 
-            function NR(e) {
+            function $R(e) {
                 return String(e).replace(/&/g, "&amp;").replace(/</g, "&lt;")
             }
 
-            function TR(e, t) {
+            function KR(e, t) {
                 return JSON.stringify(e, function(e) {
                     var t = [];
                     return function(n, r) {
                         if ("object" != typeof r || null === r) return r;
                         var i = t.indexOf(this) + 1;
                         return t.length = i, t.length > e ? "[Object]" : t.indexOf(r) >= 0 ? "[Circular]" : (t.push(r), r)
                     }
                 }(t))
             }
-            var OR = function() {
+            var JR = function() {
                 function e(e) {
-                    this.options = m({}, FR, e);
+                    this.options = m({}, XR, e);
                     var t = this.options.id;
                     if (this.call = this.tooltip_handler.bind(this), !this.options.disableDefaultStyle && !document.getElementById(this.options.styleId)) {
                         var n = document.createElement("style");
                         n.setAttribute("id", this.options.styleId), n.innerHTML = function(e) {
                             if (!/^[A-Za-z]+[-:.\w]*$/.test(e)) throw new Error("Invalid HTML ID");
                             return "\n#" + e + " {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0,0,0,0.1);\n\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#" + e + ".visible {\n  visibility: visible;\n}\n#" + e + " h2 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n#" + e + " table {\n  border-spacing: 0;\n}\n#" + e + " td {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n#" + e + " td.key {\n  color: #808080;\n  max-width: 150px;\n  text-align: right;\n  padding-right: 4px;\n}\n#" + e + " td.value {\n  display: block;\n  max-width: 300px;\n  max-height: 7em;\n  text-align: left;\n}\n\n/* Dark and light color themes */\n#" + e + ".dark-theme {\n  background-color: rgba(32, 32, 32, 0.9);\n  border: 1px solid #f5f5f5;\n  color: white;\n}\n#" + e + ".dark-theme td.key {\n  color: #bfbfbf;\n}\n\n#" + e + ".light-theme {\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#" + e + ".light-theme td.key {\n  color: #808080;\n}\n"
                         }(t), document.head.childNodes.length > 0 ? document.head.insertBefore(n, document.head.childNodes[0]) : document.head.appendChild(n)
                     }
                     this.el = document.getElementById(t), this.el || (this.el = document.createElement("div"), this.el.setAttribute("id", t), this.el.classList.add("vg-tooltip"), document.body.appendChild(this.el))
                 }
                 return e.prototype.tooltip_handler = function(e, t, n, r) {
                     if (null != r && "" !== r) {
                         this.el.innerHTML = function(e, t, n) {
-                            if ((0, ke.isArray)(e)) return "[" + e.map((function(e) {
-                                return t((0, ke.isString)(e) ? e : TR(e, n))
+                            if ((0, Ee.isArray)(e)) return "[" + e.map((function(e) {
+                                return t((0, Ee.isString)(e) ? e : KR(e, n))
                             })).join(", ") + "]";
-                            if ((0, ke.isObject)(e)) {
+                            if ((0, Ee.isObject)(e)) {
                                 var r = "",
                                     i = e,
                                     a = i.title,
                                     o = function(e, t) {
                                         var n = {};
                                         for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);
                                         if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
@@ -23092,22 +23386,22 @@
                                 a && (r += "<h2>" + t(a) + "</h2>");
                                 var u = Object.keys(o);
                                 if (u.length > 0) {
                                     r += "<table>";
                                     for (var s = 0, l = u; s < l.length; s++) {
                                         var c = l[s],
                                             f = o[c];
-                                        (0, ke.isObject)(f) && (f = TR(f, n)), r += '<tr><td class="key">' + t(c) + ':</td><td class="value">' + t(f) + "</td></tr>"
+                                        (0, Ee.isObject)(f) && (f = KR(f, n)), r += '<tr><td class="key">' + t(c) + ':</td><td class="value">' + t(f) + "</td></tr>"
                                     }
                                     r += "</table>"
                                 }
                                 return r || "{}"
                             }
                             return t(e)
-                        }(r, NR, this.options.maxDepth), this.el.classList.add("visible", this.options.theme + "-theme");
+                        }(r, $R, this.options.maxDepth), this.el.classList.add("visible", this.options.theme + "-theme");
                         var i = function(e, t, n, r) {
                                 var i = e.clientX + n;
                                 i + t.width > window.innerWidth && (i = +e.clientX - n - t.width);
                                 var a = e.clientY + r;
                                 return a + t.height > window.innerHeight && (a = +e.clientY - r - t.height), {
                                     x: i,
                                     y: a
@@ -23116,58 +23410,55 @@
                             a = i.x,
                             o = i.y;
                         this.el.setAttribute("style", "top: " + o + "px; left: " + a + "px")
                     } else this.el.classList.remove("visible", this.options.theme + "-theme")
                 }, e
             }();
 
-            function PR(e) {
+            function QR(e) {
                 for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
-                for (var r = 0, i = t; r < i.length; r++) {
-                    var a = i[r];
-                    e = RR(e, a)
-                }
+                for (var r = 0, i = t; r < i.length; r++) e = ZR(e, i[r]);
                 return e
             }
 
-            function RR(e, t) {
+            function ZR(e, t) {
                 if ("object" != typeof t || null === t) return e;
-                for (var n in t) t.hasOwnProperty(n) && void 0 !== t[n] && ("object" != typeof t[n] || (0, ke.isArray)(t[n]) || null === t[n] ? e[n] = t[n] : "object" != typeof e[n] || null === e[n] ? e[n] = PR((0, ke.isArray)(t[n].constructor) ? [] : {}, t[n]) : PR(e[n], t[n]));
+                for (var n in t) t.hasOwnProperty(n) && void 0 !== t[n] && ("object" != typeof t[n] || (0, Ee.isArray)(t[n]) || null === t[n] ? e[n] = t[n] : "object" != typeof e[n] || null === e[n] ? e[n] = QR((0, Ee.isArray)(t[n].constructor) ? [] : {}, t[n]) : QR(e[n], t[n]));
                 return e
             }
-            var LR = Ee() || Se,
-                zR = p,
-                IR = $P,
-                UR = {
+            var eL = we() || xe,
+                tL = p,
+                nL = hR,
+                rL = {
                     vega: "Vega",
                     "vega-lite": "Vega-Lite"
                 },
-                jR = {
-                    vega: zR.version,
-                    "vega-lite": IR ? IR.version : "not available"
+                iL = {
+                    vega: tL.version,
+                    "vega-lite": nL ? nL.version : "not available"
                 },
-                BR = {
+                aL = {
                     vega: function(e, t) {
                         return e
                     },
                     "vega-lite": function(e, t) {
-                        return IR.compile(e, {
+                        return nL.compile(e, {
                             config: t
                         }).spec
                     }
                 };
 
-            function qR(e, t, n, r) {
+            function oL(e, t, n, r) {
                 var i = "<html><head>" + t + '</head><body><pre><code class="json">',
                     a = "</code></pre>" + n + "</body></html>",
                     o = window.open("");
-                o.document.write(i + e + a), o.document.title = UR[r] + " JSON Source"
+                o.document.write(i + e + a), o.document.title = rL[r] + " JSON Source"
             }
 
-            function HR(e, t, n) {
+            function uL(e, t, n) {
                 return r = this, i = void 0, o = function() {
                     var r, i, a, o, u, s, l, c, f, d, h, p, v, y, b, _;
                     return function(e, t) {
                         var n, r, i, a, o = {
                             label: 0,
                             sent: function() {
                                 if (1 & i[0]) throw i[1];
@@ -23180,130 +23471,130 @@
                             next: u(0),
                             throw: u(1),
                             return: u(2)
                         }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                             return this
                         }), a;
 
-                        function u(a) {
-                            return function(u) {
-                                return function(a) {
+                        function u(u) {
+                            return function(s) {
+                                return function(u) {
                                     if (n) throw new TypeError("Generator is already executing.");
-                                    for (; o;) try {
-                                        if (n = 1, r && (i = 2 & a[0] ? r.return : a[0] ? r.throw || ((i = r.return) && i.call(r), 0) : r.next) && !(i = i.call(r, a[1])).done) return i;
-                                        switch (r = 0, i && (a = [2 & a[0], i.value]), a[0]) {
+                                    for (; a && (a = 0, u[0] && (o = 0)), o;) try {
+                                        if (n = 1, r && (i = 2 & u[0] ? r.return : u[0] ? r.throw || ((i = r.return) && i.call(r), 0) : r.next) && !(i = i.call(r, u[1])).done) return i;
+                                        switch (r = 0, i && (u = [2 & u[0], i.value]), u[0]) {
                                             case 0:
                                             case 1:
-                                                i = a;
+                                                i = u;
                                                 break;
                                             case 4:
                                                 return o.label++, {
-                                                    value: a[1],
+                                                    value: u[1],
                                                     done: !1
                                                 };
                                             case 5:
-                                                o.label++, r = a[1], a = [0];
+                                                o.label++, r = u[1], u = [0];
                                                 continue;
                                             case 7:
-                                                a = o.ops.pop(), o.trys.pop();
+                                                u = o.ops.pop(), o.trys.pop();
                                                 continue;
                                             default:
-                                                if (!((i = (i = o.trys).length > 0 && i[i.length - 1]) || 6 !== a[0] && 2 !== a[0])) {
+                                                if (!((i = (i = o.trys).length > 0 && i[i.length - 1]) || 6 !== u[0] && 2 !== u[0])) {
                                                     o = 0;
                                                     continue
                                                 }
-                                                if (3 === a[0] && (!i || a[1] > i[0] && a[1] < i[3])) {
-                                                    o.label = a[1];
+                                                if (3 === u[0] && (!i || u[1] > i[0] && u[1] < i[3])) {
+                                                    o.label = u[1];
                                                     break
                                                 }
-                                                if (6 === a[0] && o.label < i[1]) {
-                                                    o.label = i[1], i = a;
+                                                if (6 === u[0] && o.label < i[1]) {
+                                                    o.label = i[1], i = u;
                                                     break
                                                 }
                                                 if (i && o.label < i[2]) {
-                                                    o.label = i[2], o.ops.push(a);
+                                                    o.label = i[2], o.ops.push(u);
                                                     break
                                                 }
                                                 i[2] && o.ops.pop(), o.trys.pop();
                                                 continue
                                         }
-                                        a = t.call(e, o)
+                                        u = t.call(e, o)
                                     } catch (e) {
-                                        a = [6, e], r = 0
+                                        u = [6, e], r = 0
                                     } finally {
                                         n = i = 0
                                     }
-                                    if (5 & a[0]) throw a[1];
+                                    if (5 & u[0]) throw u[1];
                                     return {
-                                        value: a[0] ? a[1] : void 0,
+                                        value: u[0] ? u[1] : void 0,
                                         done: !0
                                     }
-                                }([a, u])
+                                }([u, s])
                             }
                         }
                     }(this, (function(x) {
                         switch (x.label) {
                             case 0:
                                 return r = !0 === (n = n || {}).actions || !1 === n.actions ? n.actions : m({
                                     export: !0,
                                     source: !0,
                                     compiled: !1,
                                     editor: !0
-                                }, n.actions || {}), i = n.loader || zR.loader(), a = n.renderer || "canvas", o = n.logLevel || zR.Warn, zR.isString(t) ? [4, i.load(t)] : [3, 2];
+                                }, n.actions || {}), i = n.loader || tL.loader(), a = n.renderer || "canvas", o = n.logLevel || tL.Warn, tL.isString(t) ? [4, i.load(t)] : [3, 2];
                             case 1:
-                                return s = x.sent(), [2, HR(e, JSON.parse(s), n)];
+                                return s = x.sent(), [2, uL(e, JSON.parse(s), n)];
                             case 2:
-                                return u = n.config || {}, zR.isString(u) ? [4, i.load(u)] : [3, 4];
+                                return u = n.config || {}, tL.isString(u) ? [4, i.load(u)] : [3, 4];
                             case 3:
-                                return s = x.sent(), [2, HR(e, t, m({}, n, {
+                                return s = x.sent(), [2, uL(e, t, m({}, n, {
                                     config: JSON.parse(s)
                                 }))];
                             case 4:
-                                return n.theme && (u = PR({}, g[n.theme], u)), t.$schema ? (l = (0, KP.Z)(t.$schema), n.mode && n.mode !== l.library && console.warn("The given visualization spec is written in " + UR[l.library] + ", but mode argument sets " + UR[n.mode] + "."), c = l.library, (0, Ae.satisfies)(jR[c], "^" + l.version.slice(1)) || console.warn("The input spec uses " + c + " " + l.version + ", but the current version of " + UR[c] + " is " + jR[c] + ".")) : c = n.mode || "vega", f = BR[c](t, u), "vega-lite" === c && f.$schema && (l = (0, KP.Z)(f.$schema), (0, Ae.satisfies)(jR.vega, "^" + l.version.slice(1)) || console.warn("The compiled spec uses Vega " + l.version + ", but current version is " + jR.vega + ".")), d = function(e) {
-                                    return "string" == typeof e ? new we([
+                                return n.theme && (u = QR({}, g[n.theme], u)), t.$schema ? (l = (0, pR.Z)(t.$schema), n.mode && n.mode !== l.library && console.warn("The given visualization spec is written in " + rL[l.library] + ", but mode argument sets " + rL[n.mode] + "."), c = l.library, (0, Se.satisfies)(iL[c], "^" + l.version.slice(1)) || console.warn("The input spec uses " + c + " " + l.version + ", but the current version of " + rL[c] + " is " + iL[c] + ".")) : c = n.mode || "vega", f = aL[c](t, u), "vega-lite" === c && f.$schema && (l = (0, pR.Z)(f.$schema), (0, Se.satisfies)(iL.vega, "^" + l.version.slice(1)) || console.warn("The compiled spec uses Vega " + l.version + ", but current version is " + iL.vega + ".")), d = function(e) {
+                                    return "string" == typeof e ? new _e([
                                         [document.querySelector(e)]
-                                    ], [document.documentElement]) : new we([
+                                    ], [document.documentElement]) : new _e([
                                         [e]
-                                    ], xe)
-                                }(e).classed("vega-embed", !0).html(""), n.onBeforeParse && (f = n.onBeforeParse(f)), h = zR.parse(f, "vega-lite" === c ? {} : u), p = new zR.View(h, {
+                                    ], be)
+                                }(e).classed("vega-embed", !0).html(""), n.onBeforeParse && (f = n.onBeforeParse(f)), h = tL.parse(f, "vega-lite" === c ? {} : u), p = new tL.View(h, {
                                     loader: i,
                                     logLevel: o,
                                     renderer: a
-                                }).initialize(e), !1 !== n.tooltip && (v = void 0, w = n.tooltip, v = "function" == typeof w ? n.tooltip : new OR(!0 === n.tooltip ? {} : n.tooltip).call, p.tooltip(v)), (void 0 === n.hover ? "vega-lite" !== c : n.hover) && p.hover(), n && (n.width && p.width(n.width), n.height && p.height(n.height), n.padding && p.padding(n.padding)), n.runAsync ? [4, p.runAsync()] : [3, 6];
+                                }).initialize(e), !1 !== n.tooltip && (v = void 0, w = n.tooltip, v = "function" == typeof w ? n.tooltip : new JR(!0 === n.tooltip ? {} : n.tooltip).call, p.tooltip(v)), (void 0 === n.hover ? "vega-lite" !== c : n.hover) && p.hover(), n && (n.width && p.width(n.width), n.height && p.height(n.height), n.padding && p.padding(n.padding)), n.runAsync ? [4, p.runAsync()] : [3, 6];
                             case 5:
                                 return x.sent(), [3, 7];
                             case 6:
                                 p.run(), x.label = 7;
                             case 7:
                                 return !1 !== r && (y = d.append("div").attr("class", "vega-actions"), !0 !== r && !1 === r.export || (b = "canvas" === a ? "png" : "svg", y.append("a").text("Export as " + b.toUpperCase()).attr("href", "#").attr("target", "_blank").attr("download", "visualization." + b).on("mousedown", (function() {
                                     var e = this;
                                     p.toImageURL(b, n.scaleFactor).then((function(t) {
                                         e.href = t
                                     })).catch((function(e) {
                                         throw e
-                                    })), de.preventDefault()
+                                    })), fe.preventDefault()
                                 }))), !0 !== r && !1 === r.source || y.append("a").text("View Source").attr("href", "#").on("click", (function() {
-                                    qR(LR(t), n.sourceHeader || "", n.sourceFooter || "", c), de.preventDefault()
+                                    oL(eL(t), n.sourceHeader || "", n.sourceFooter || "", c), fe.preventDefault()
                                 })), "vega-lite" !== c || !0 !== r && !1 === r.compiled || y.append("a").text("View Vega").attr("href", "#").on("click", (function() {
-                                    qR(LR(f), n.sourceHeader || "", n.sourceFooter || "", "vega"), de.preventDefault()
+                                    oL(eL(f), n.sourceHeader || "", n.sourceFooter || "", "vega"), fe.preventDefault()
                                 })), !0 !== r && !1 === r.editor || (_ = n.editorUrl || "https://vega.github.io/editor/", y.append("a").text("Open in Vega Editor").attr("href", "#").on("click", (function() {
                                     ! function(e, t, n) {
                                         var r = e.open(t),
                                             i = 40;
                                         e.addEventListener("message", (function t(n) {
                                             n.source === r && (i = 0, e.removeEventListener("message", t, !1))
                                         }), !1), setTimeout((function e() {
                                             i <= 0 || (r.postMessage(n, "*"), setTimeout(e, 250), i -= 1)
                                         }), 250)
                                     }(window, _, {
                                         config: u,
                                         mode: c,
                                         renderer: a,
-                                        spec: LR(t)
-                                    }), de.preventDefault()
+                                        spec: eL(t)
+                                    }), fe.preventDefault()
                                 })))), [2, {
                                     view: p,
                                     spec: t
                                 }]
                         }
                         var w
                     }))
@@ -23334,163 +23625,164 @@
                     s((o = o.apply(r, i || [])).next())
                 }));
                 var r, i, a, o
             }
         },
         3338: (e, t, n) => {
             var r, i = n(4406);
-            t = e.exports = X, r = "object" == typeof i && i.env && i.env.NODE_DEBUG && /\bsemver\b/i.test(i.env.NODE_DEBUG) ? function() {
+            t = e.exports = $, r = "object" == typeof i && i.env && i.env.NODE_DEBUG && /\bsemver\b/i.test(i.env.NODE_DEBUG) ? function() {
                 var e = Array.prototype.slice.call(arguments, 0);
                 e.unshift("SEMVER"), console.log.apply(console, e)
             } : function() {}, t.SEMVER_SPEC_VERSION = "2.0.0";
-            var a = Number.MAX_SAFE_INTEGER || 9007199254740991,
-                o = t.re = [],
-                u = t.src = [],
-                s = 0,
-                l = s++;
-            u[l] = "0|[1-9]\\d*";
-            var c = s++;
-            u[c] = "[0-9]+";
-            var f = s++;
-            u[f] = "\\d*[a-zA-Z-][a-zA-Z0-9-]*";
-            var d = s++;
-            u[d] = "(" + u[l] + ")\\.(" + u[l] + ")\\.(" + u[l] + ")";
-            var h = s++;
-            u[h] = "(" + u[c] + ")\\.(" + u[c] + ")\\.(" + u[c] + ")";
-            var p = s++;
-            u[p] = "(?:" + u[l] + "|" + u[f] + ")";
-            var g = s++;
-            u[g] = "(?:" + u[c] + "|" + u[f] + ")";
-            var m = s++;
-            u[m] = "(?:-(" + u[p] + "(?:\\." + u[p] + ")*))";
-            var v = s++;
-            u[v] = "(?:-?(" + u[g] + "(?:\\." + u[g] + ")*))";
-            var y = s++;
-            u[y] = "[0-9A-Za-z-]+";
-            var b = s++;
-            u[b] = "(?:\\+(" + u[y] + "(?:\\." + u[y] + ")*))";
-            var _ = s++,
-                x = "v?" + u[d] + u[m] + "?" + u[b] + "?";
-            u[_] = "^" + x + "$";
-            var w = "[v=\\s]*" + u[h] + u[v] + "?" + u[b] + "?",
-                S = s++;
-            u[S] = "^" + w + "$";
-            var E = s++;
-            u[E] = "((?:<|>)?=?)";
-            var A = s++;
-            u[A] = u[c] + "|x|X|\\*";
-            var k = s++;
-            u[k] = u[l] + "|x|X|\\*";
-            var M = s++;
-            u[M] = "[v=\\s]*(" + u[k] + ")(?:\\.(" + u[k] + ")(?:\\.(" + u[k] + ")(?:" + u[m] + ")?" + u[b] + "?)?)?";
-            var D = s++;
-            u[D] = "[v=\\s]*(" + u[A] + ")(?:\\.(" + u[A] + ")(?:\\.(" + u[A] + ")(?:" + u[v] + ")?" + u[b] + "?)?)?";
-            var C = s++;
-            u[C] = "^" + u[E] + "\\s*" + u[M] + "$";
-            var F = s++;
-            u[F] = "^" + u[E] + "\\s*" + u[D] + "$";
-            var N = s++;
-            u[N] = "(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";
-            var T = s++;
-            u[T] = "(?:~>?)";
-            var O = s++;
-            u[O] = "(\\s*)" + u[T] + "\\s+", o[O] = new RegExp(u[O], "g");
-            var P = s++;
-            u[P] = "^" + u[T] + u[M] + "$";
-            var R = s++;
-            u[R] = "^" + u[T] + u[D] + "$";
-            var L = s++;
-            u[L] = "(?:\\^)";
-            var z = s++;
-            u[z] = "(\\s*)" + u[L] + "\\s+", o[z] = new RegExp(u[z], "g");
-            var I = s++;
-            u[I] = "^" + u[L] + u[M] + "$";
-            var U = s++;
-            u[U] = "^" + u[L] + u[D] + "$";
-            var j = s++;
-            u[j] = "^" + u[E] + "\\s*(" + w + ")$|^$";
-            var B = s++;
-            u[B] = "^" + u[E] + "\\s*(" + x + ")$|^$";
-            var q = s++;
-            u[q] = "(\\s*)" + u[E] + "\\s*(" + w + "|" + u[M] + ")", o[q] = new RegExp(u[q], "g");
-            var H = s++;
-            u[H] = "^\\s*(" + u[M] + ")\\s+-\\s+(" + u[M] + ")\\s*$";
-            var W = s++;
-            u[W] = "^\\s*(" + u[D] + ")\\s+-\\s+(" + u[D] + ")\\s*$";
-            var Y = s++;
-            u[Y] = "(<|>)?=?\\s*\\*";
-            for (var V = 0; V < 35; V++) r(V, u[V]), o[V] || (o[V] = new RegExp(u[V]));
+            var a = 256,
+                o = Number.MAX_SAFE_INTEGER || 9007199254740991,
+                u = t.re = [],
+                s = t.src = [],
+                l = 0,
+                c = l++;
+            s[c] = "0|[1-9]\\d*";
+            var f = l++;
+            s[f] = "[0-9]+";
+            var d = l++;
+            s[d] = "\\d*[a-zA-Z-][a-zA-Z0-9-]*";
+            var h = l++;
+            s[h] = "(" + s[c] + ")\\.(" + s[c] + ")\\.(" + s[c] + ")";
+            var p = l++;
+            s[p] = "(" + s[f] + ")\\.(" + s[f] + ")\\.(" + s[f] + ")";
+            var g = l++;
+            s[g] = "(?:" + s[c] + "|" + s[d] + ")";
+            var m = l++;
+            s[m] = "(?:" + s[f] + "|" + s[d] + ")";
+            var v = l++;
+            s[v] = "(?:-(" + s[g] + "(?:\\." + s[g] + ")*))";
+            var y = l++;
+            s[y] = "(?:-?(" + s[m] + "(?:\\." + s[m] + ")*))";
+            var b = l++;
+            s[b] = "[0-9A-Za-z-]+";
+            var _ = l++;
+            s[_] = "(?:\\+(" + s[b] + "(?:\\." + s[b] + ")*))";
+            var x = l++,
+                w = "v?" + s[h] + s[v] + "?" + s[_] + "?";
+            s[x] = "^" + w + "$";
+            var S = "[v=\\s]*" + s[p] + s[y] + "?" + s[_] + "?",
+                E = l++;
+            s[E] = "^" + S + "$";
+            var A = l++;
+            s[A] = "((?:<|>)?=?)";
+            var k = l++;
+            s[k] = s[f] + "|x|X|\\*";
+            var M = l++;
+            s[M] = s[c] + "|x|X|\\*";
+            var D = l++;
+            s[D] = "[v=\\s]*(" + s[M] + ")(?:\\.(" + s[M] + ")(?:\\.(" + s[M] + ")(?:" + s[v] + ")?" + s[_] + "?)?)?";
+            var C = l++;
+            s[C] = "[v=\\s]*(" + s[k] + ")(?:\\.(" + s[k] + ")(?:\\.(" + s[k] + ")(?:" + s[y] + ")?" + s[_] + "?)?)?";
+            var F = l++;
+            s[F] = "^" + s[A] + "\\s*" + s[D] + "$";
+            var N = l++;
+            s[N] = "^" + s[A] + "\\s*" + s[C] + "$";
+            var O = l++;
+            s[O] = "(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";
+            var T = l++;
+            s[T] = "(?:~>?)";
+            var P = l++;
+            s[P] = "(\\s*)" + s[T] + "\\s+", u[P] = new RegExp(s[P], "g");
+            var R = l++;
+            s[R] = "^" + s[T] + s[D] + "$";
+            var L = l++;
+            s[L] = "^" + s[T] + s[C] + "$";
+            var z = l++;
+            s[z] = "(?:\\^)";
+            var I = l++;
+            s[I] = "(\\s*)" + s[z] + "\\s+", u[I] = new RegExp(s[I], "g");
+            var j = l++;
+            s[j] = "^" + s[z] + s[D] + "$";
+            var B = l++;
+            s[B] = "^" + s[z] + s[C] + "$";
+            var U = l++;
+            s[U] = "^" + s[A] + "\\s*(" + S + ")$|^$";
+            var q = l++;
+            s[q] = "^" + s[A] + "\\s*(" + w + ")$|^$";
+            var H = l++;
+            s[H] = "(\\s*)" + s[A] + "\\s*(" + S + "|" + s[D] + ")", u[H] = new RegExp(s[H], "g");
+            var W = l++;
+            s[W] = "^\\s*(" + s[D] + ")\\s+-\\s+(" + s[D] + ")\\s*$";
+            var V = l++;
+            s[V] = "^\\s*(" + s[C] + ")\\s+-\\s+(" + s[C] + ")\\s*$";
+            var G = l++;
+            s[G] = "(<|>)?=?\\s*\\*";
+            for (var Y = 0; Y < 35; Y++) r(Y, s[Y]), u[Y] || (u[Y] = new RegExp(s[Y]));
 
-            function G(e, t) {
+            function X(e, t) {
                 if (t && "object" == typeof t || (t = {
                         loose: !!t,
                         includePrerelease: !1
-                    }), e instanceof X) return e;
+                    }), e instanceof $) return e;
                 if ("string" != typeof e) return null;
-                if (e.length > 256) return null;
-                if (!(t.loose ? o[S] : o[_]).test(e)) return null;
+                if (e.length > a) return null;
+                if (!(t.loose ? u[E] : u[x]).test(e)) return null;
                 try {
-                    return new X(e, t)
+                    return new $(e, t)
                 } catch (e) {
                     return null
                 }
             }
 
-            function X(e, t) {
+            function $(e, t) {
                 if (t && "object" == typeof t || (t = {
                         loose: !!t,
                         includePrerelease: !1
-                    }), e instanceof X) {
+                    }), e instanceof $) {
                     if (e.loose === t.loose) return e;
                     e = e.version
                 } else if ("string" != typeof e) throw new TypeError("Invalid Version: " + e);
-                if (e.length > 256) throw new TypeError("version is longer than 256 characters");
-                if (!(this instanceof X)) return new X(e, t);
+                if (e.length > a) throw new TypeError("version is longer than " + a + " characters");
+                if (!(this instanceof $)) return new $(e, t);
                 r("SemVer", e, t), this.options = t, this.loose = !!t.loose;
-                var n = e.trim().match(t.loose ? o[S] : o[_]);
+                var n = e.trim().match(t.loose ? u[E] : u[x]);
                 if (!n) throw new TypeError("Invalid Version: " + e);
-                if (this.raw = e, this.major = +n[1], this.minor = +n[2], this.patch = +n[3], this.major > a || this.major < 0) throw new TypeError("Invalid major version");
-                if (this.minor > a || this.minor < 0) throw new TypeError("Invalid minor version");
-                if (this.patch > a || this.patch < 0) throw new TypeError("Invalid patch version");
+                if (this.raw = e, this.major = +n[1], this.minor = +n[2], this.patch = +n[3], this.major > o || this.major < 0) throw new TypeError("Invalid major version");
+                if (this.minor > o || this.minor < 0) throw new TypeError("Invalid minor version");
+                if (this.patch > o || this.patch < 0) throw new TypeError("Invalid patch version");
                 n[4] ? this.prerelease = n[4].split(".").map((function(e) {
                     if (/^[0-9]+$/.test(e)) {
                         var t = +e;
-                        if (t >= 0 && t < a) return t
+                        if (t >= 0 && t < o) return t
                     }
                     return e
                 })) : this.prerelease = [], this.build = n[5] ? n[5].split(".") : [], this.format()
             }
-            t.parse = G, t.valid = function(e, t) {
-                var n = G(e, t);
+            t.parse = X, t.valid = function(e, t) {
+                var n = X(e, t);
                 return n ? n.version : null
             }, t.clean = function(e, t) {
-                var n = G(e.trim().replace(/^[=v]+/, ""), t);
+                var n = X(e.trim().replace(/^[=v]+/, ""), t);
                 return n ? n.version : null
-            }, t.SemVer = X, X.prototype.format = function() {
+            }, t.SemVer = $, $.prototype.format = function() {
                 return this.version = this.major + "." + this.minor + "." + this.patch, this.prerelease.length && (this.version += "-" + this.prerelease.join(".")), this.version
-            }, X.prototype.toString = function() {
+            }, $.prototype.toString = function() {
                 return this.version
-            }, X.prototype.compare = function(e) {
-                return r("SemVer.compare", this.version, this.options, e), e instanceof X || (e = new X(e, this.options)), this.compareMain(e) || this.comparePre(e)
-            }, X.prototype.compareMain = function(e) {
-                return e instanceof X || (e = new X(e, this.options)), K(this.major, e.major) || K(this.minor, e.minor) || K(this.patch, e.patch)
-            }, X.prototype.comparePre = function(e) {
-                if (e instanceof X || (e = new X(e, this.options)), this.prerelease.length && !e.prerelease.length) return -1;
+            }, $.prototype.compare = function(e) {
+                return r("SemVer.compare", this.version, this.options, e), e instanceof $ || (e = new $(e, this.options)), this.compareMain(e) || this.comparePre(e)
+            }, $.prototype.compareMain = function(e) {
+                return e instanceof $ || (e = new $(e, this.options)), J(this.major, e.major) || J(this.minor, e.minor) || J(this.patch, e.patch)
+            }, $.prototype.comparePre = function(e) {
+                if (e instanceof $ || (e = new $(e, this.options)), this.prerelease.length && !e.prerelease.length) return -1;
                 if (!this.prerelease.length && e.prerelease.length) return 1;
                 if (!this.prerelease.length && !e.prerelease.length) return 0;
                 var t = 0;
                 do {
                     var n = this.prerelease[t],
                         i = e.prerelease[t];
                     if (r("prerelease compare", t, n, i), void 0 === n && void 0 === i) return 0;
                     if (void 0 === i) return 1;
                     if (void 0 === n) return -1;
-                    if (n !== i) return K(n, i)
+                    if (n !== i) return J(n, i)
                 } while (++t)
-            }, X.prototype.inc = function(e, t) {
+            }, $.prototype.inc = function(e, t) {
                 switch (e) {
                     case "premajor":
                         this.prerelease.length = 0, this.patch = 0, this.minor = 0, this.major++, this.inc("pre", t);
                         break;
                     case "preminor":
                         this.prerelease.length = 0, this.patch = 0, this.minor++, this.inc("pre", t);
                         break;
@@ -23519,467 +23811,476 @@
                     default:
                         throw new Error("invalid increment argument: " + e)
                 }
                 return this.format(), this.raw = this.version, this
             }, t.inc = function(e, t, n, r) {
                 "string" == typeof n && (r = n, n = void 0);
                 try {
-                    return new X(e, n).inc(t, r).version
+                    return new $(e, n).inc(t, r).version
                 } catch (e) {
                     return null
                 }
             }, t.diff = function(e, t) {
-                if (ee(e, t)) return null;
-                var n = G(e),
-                    r = G(t),
+                if (te(e, t)) return null;
+                var n = X(e),
+                    r = X(t),
                     i = "";
                 if (n.prerelease.length || r.prerelease.length) {
                     i = "pre";
                     var a = "prerelease"
                 }
                 for (var o in n)
                     if (("major" === o || "minor" === o || "patch" === o) && n[o] !== r[o]) return i + o;
                 return a
-            }, t.compareIdentifiers = K;
-            var $ = /^[0-9]+$/;
+            }, t.compareIdentifiers = J;
+            var K = /^[0-9]+$/;
 
-            function K(e, t) {
-                var n = $.test(e),
-                    r = $.test(t);
+            function J(e, t) {
+                var n = K.test(e),
+                    r = K.test(t);
                 return n && r && (e = +e, t = +t), e === t ? 0 : n && !r ? -1 : r && !n ? 1 : e < t ? -1 : 1
             }
 
-            function J(e, t, n) {
-                return new X(e, n).compare(new X(t, n))
-            }
-
             function Q(e, t, n) {
-                return J(e, t, n) > 0
+                return new $(e, n).compare(new $(t, n))
             }
 
             function Z(e, t, n) {
-                return J(e, t, n) < 0
+                return Q(e, t, n) > 0
             }
 
             function ee(e, t, n) {
-                return 0 === J(e, t, n)
+                return Q(e, t, n) < 0
             }
 
             function te(e, t, n) {
-                return 0 !== J(e, t, n)
+                return 0 === Q(e, t, n)
             }
 
             function ne(e, t, n) {
-                return J(e, t, n) >= 0
+                return 0 !== Q(e, t, n)
             }
 
             function re(e, t, n) {
-                return J(e, t, n) <= 0
+                return Q(e, t, n) >= 0
+            }
+
+            function ie(e, t, n) {
+                return Q(e, t, n) <= 0
             }
 
-            function ie(e, t, n, r) {
+            function ae(e, t, n, r) {
                 switch (t) {
                     case "===":
                         return "object" == typeof e && (e = e.version), "object" == typeof n && (n = n.version), e === n;
                     case "!==":
                         return "object" == typeof e && (e = e.version), "object" == typeof n && (n = n.version), e !== n;
                     case "":
                     case "=":
                     case "==":
-                        return ee(e, n, r);
-                    case "!=":
                         return te(e, n, r);
+                    case "!=":
+                        return ne(e, n, r);
                     case ">":
-                        return Q(e, n, r);
+                        return Z(e, n, r);
                     case ">=":
-                        return ne(e, n, r);
+                        return re(e, n, r);
                     case "<":
-                        return Z(e, n, r);
+                        return ee(e, n, r);
                     case "<=":
-                        return re(e, n, r);
+                        return ie(e, n, r);
                     default:
                         throw new TypeError("Invalid operator: " + t)
                 }
             }
 
-            function ae(e, t) {
+            function oe(e, t) {
                 if (t && "object" == typeof t || (t = {
                         loose: !!t,
                         includePrerelease: !1
-                    }), e instanceof ae) {
+                    }), e instanceof oe) {
                     if (e.loose === !!t.loose) return e;
                     e = e.value
                 }
-                if (!(this instanceof ae)) return new ae(e, t);
-                r("comparator", e, t), this.options = t, this.loose = !!t.loose, this.parse(e), this.semver === oe ? this.value = "" : this.value = this.operator + this.semver.version, r("comp", this)
+                if (!(this instanceof oe)) return new oe(e, t);
+                r("comparator", e, t), this.options = t, this.loose = !!t.loose, this.parse(e), this.semver === ue ? this.value = "" : this.value = this.operator + this.semver.version, r("comp", this)
             }
             t.rcompareIdentifiers = function(e, t) {
-                return K(t, e)
+                return J(t, e)
             }, t.major = function(e, t) {
-                return new X(e, t).major
+                return new $(e, t).major
             }, t.minor = function(e, t) {
-                return new X(e, t).minor
+                return new $(e, t).minor
             }, t.patch = function(e, t) {
-                return new X(e, t).patch
-            }, t.compare = J, t.compareLoose = function(e, t) {
-                return J(e, t, !0)
+                return new $(e, t).patch
+            }, t.compare = Q, t.compareLoose = function(e, t) {
+                return Q(e, t, !0)
             }, t.rcompare = function(e, t, n) {
-                return J(t, e, n)
+                return Q(t, e, n)
             }, t.sort = function(e, n) {
                 return e.sort((function(e, r) {
                     return t.compare(e, r, n)
                 }))
             }, t.rsort = function(e, n) {
                 return e.sort((function(e, r) {
                     return t.rcompare(e, r, n)
                 }))
-            }, t.gt = Q, t.lt = Z, t.eq = ee, t.neq = te, t.gte = ne, t.lte = re, t.cmp = ie, t.Comparator = ae;
-            var oe = {};
+            }, t.gt = Z, t.lt = ee, t.eq = te, t.neq = ne, t.gte = re, t.lte = ie, t.cmp = ae, t.Comparator = oe;
+            var ue = {};
 
-            function ue(e, t) {
+            function se(e, t) {
                 if (t && "object" == typeof t || (t = {
                         loose: !!t,
                         includePrerelease: !1
-                    }), e instanceof ue) return e.loose === !!t.loose && e.includePrerelease === !!t.includePrerelease ? e : new ue(e.raw, t);
-                if (e instanceof ae) return new ue(e.value, t);
-                if (!(this instanceof ue)) return new ue(e, t);
+                    }), e instanceof se) return e.loose === !!t.loose && e.includePrerelease === !!t.includePrerelease ? e : new se(e.raw, t);
+                if (e instanceof oe) return new se(e.value, t);
+                if (!(this instanceof se)) return new se(e, t);
                 if (this.options = t, this.loose = !!t.loose, this.includePrerelease = !!t.includePrerelease, this.raw = e, this.set = e.split(/\s*\|\|\s*/).map((function(e) {
                         return this.parseRange(e.trim())
                     }), this).filter((function(e) {
                         return e.length
                     })), !this.set.length) throw new TypeError("Invalid SemVer Range: " + e);
                 this.format()
             }
 
-            function se(e) {
+            function le(e) {
                 return !e || "x" === e.toLowerCase() || "*" === e
             }
 
-            function le(e, t, n, r, i, a, o, u, s, l, c, f, d) {
-                return ((t = se(n) ? "" : se(r) ? ">=" + n + ".0.0" : se(i) ? ">=" + n + "." + r + ".0" : ">=" + t) + " " + (u = se(s) ? "" : se(l) ? "<" + (+s + 1) + ".0.0" : se(c) ? "<" + s + "." + (+l + 1) + ".0" : f ? "<=" + s + "." + l + "." + c + "-" + f : "<=" + u)).trim()
+            function ce(e, t, n, r, i, a, o, u, s, l, c, f, d) {
+                return ((t = le(n) ? "" : le(r) ? ">=" + n + ".0.0" : le(i) ? ">=" + n + "." + r + ".0" : ">=" + t) + " " + (u = le(s) ? "" : le(l) ? "<" + (+s + 1) + ".0.0" : le(c) ? "<" + s + "." + (+l + 1) + ".0" : f ? "<=" + s + "." + l + "." + c + "-" + f : "<=" + u)).trim()
             }
 
-            function ce(e, t, n) {
+            function fe(e, t, n) {
                 for (var i = 0; i < e.length; i++)
                     if (!e[i].test(t)) return !1;
                 if (t.prerelease.length && !n.includePrerelease) {
                     for (i = 0; i < e.length; i++)
-                        if (r(e[i].semver), e[i].semver !== oe && e[i].semver.prerelease.length > 0) {
+                        if (r(e[i].semver), e[i].semver !== ue && e[i].semver.prerelease.length > 0) {
                             var a = e[i].semver;
                             if (a.major === t.major && a.minor === t.minor && a.patch === t.patch) return !0
                         } return !1
                 }
                 return !0
             }
 
-            function fe(e, t, n) {
+            function de(e, t, n) {
                 try {
-                    t = new ue(t, n)
+                    t = new se(t, n)
                 } catch (e) {
                     return !1
                 }
                 return t.test(e)
             }
 
-            function de(e, t, n, r) {
+            function he(e, t, n, r) {
                 var i, a, o, u, s;
-                switch (e = new X(e, r), t = new ue(t, r), n) {
+                switch (e = new $(e, r), t = new se(t, r), n) {
                     case ">":
-                        i = Q, a = re, o = Z, u = ">", s = ">=";
+                        i = Z, a = ie, o = ee, u = ">", s = ">=";
                         break;
                     case "<":
-                        i = Z, a = ne, o = Q, u = "<", s = "<=";
+                        i = ee, a = re, o = Z, u = "<", s = "<=";
                         break;
                     default:
                         throw new TypeError('Must provide a hilo val of "<" or ">"')
                 }
-                if (fe(e, t, r)) return !1;
+                if (de(e, t, r)) return !1;
                 for (var l = 0; l < t.set.length; ++l) {
                     var c = t.set[l],
                         f = null,
                         d = null;
                     if (c.forEach((function(e) {
-                            e.semver === oe && (e = new ae(">=0.0.0")), f = f || e, d = d || e, i(e.semver, f.semver, r) ? f = e : o(e.semver, d.semver, r) && (d = e)
+                            e.semver === ue && (e = new oe(">=0.0.0")), f = f || e, d = d || e, i(e.semver, f.semver, r) ? f = e : o(e.semver, d.semver, r) && (d = e)
                         })), f.operator === u || f.operator === s) return !1;
                     if ((!d.operator || d.operator === u) && a(e, d.semver)) return !1;
                     if (d.operator === s && o(e, d.semver)) return !1
                 }
                 return !0
             }
-            ae.prototype.parse = function(e) {
-                var t = this.options.loose ? o[j] : o[B],
+            oe.prototype.parse = function(e) {
+                var t = this.options.loose ? u[U] : u[q],
                     n = e.match(t);
                 if (!n) throw new TypeError("Invalid comparator: " + e);
-                this.operator = n[1], "=" === this.operator && (this.operator = ""), n[2] ? this.semver = new X(n[2], this.options.loose) : this.semver = oe
-            }, ae.prototype.toString = function() {
+                this.operator = n[1], "=" === this.operator && (this.operator = ""), n[2] ? this.semver = new $(n[2], this.options.loose) : this.semver = ue
+            }, oe.prototype.toString = function() {
                 return this.value
-            }, ae.prototype.test = function(e) {
-                return r("Comparator.test", e, this.options.loose), this.semver === oe || ("string" == typeof e && (e = new X(e, this.options)), ie(e, this.operator, this.semver, this.options))
-            }, ae.prototype.intersects = function(e, t) {
-                if (!(e instanceof ae)) throw new TypeError("a Comparator is required");
+            }, oe.prototype.test = function(e) {
+                return r("Comparator.test", e, this.options.loose), this.semver === ue || ("string" == typeof e && (e = new $(e, this.options)), ae(e, this.operator, this.semver, this.options))
+            }, oe.prototype.intersects = function(e, t) {
+                if (!(e instanceof oe)) throw new TypeError("a Comparator is required");
                 var n;
                 if (t && "object" == typeof t || (t = {
                         loose: !!t,
                         includePrerelease: !1
-                    }), "" === this.operator) return n = new ue(e.value, t), fe(this.value, n, t);
-                if ("" === e.operator) return n = new ue(this.value, t), fe(e.semver, n, t);
+                    }), "" === this.operator) return n = new se(e.value, t), de(this.value, n, t);
+                if ("" === e.operator) return n = new se(this.value, t), de(e.semver, n, t);
                 var r = !(">=" !== this.operator && ">" !== this.operator || ">=" !== e.operator && ">" !== e.operator),
                     i = !("<=" !== this.operator && "<" !== this.operator || "<=" !== e.operator && "<" !== e.operator),
                     a = this.semver.version === e.semver.version,
                     o = !(">=" !== this.operator && "<=" !== this.operator || ">=" !== e.operator && "<=" !== e.operator),
-                    u = ie(this.semver, "<", e.semver, t) && (">=" === this.operator || ">" === this.operator) && ("<=" === e.operator || "<" === e.operator),
-                    s = ie(this.semver, ">", e.semver, t) && ("<=" === this.operator || "<" === this.operator) && (">=" === e.operator || ">" === e.operator);
+                    u = ae(this.semver, "<", e.semver, t) && (">=" === this.operator || ">" === this.operator) && ("<=" === e.operator || "<" === e.operator),
+                    s = ae(this.semver, ">", e.semver, t) && ("<=" === this.operator || "<" === this.operator) && (">=" === e.operator || ">" === e.operator);
                 return r || i || a && o || u || s
-            }, t.Range = ue, ue.prototype.format = function() {
+            }, t.Range = se, se.prototype.format = function() {
                 return this.range = this.set.map((function(e) {
                     return e.join(" ").trim()
                 })).join("||").trim(), this.range
-            }, ue.prototype.toString = function() {
+            }, se.prototype.toString = function() {
                 return this.range
-            }, ue.prototype.parseRange = function(e) {
+            }, se.prototype.parseRange = function(e) {
                 var t = this.options.loose;
                 e = e.trim();
-                var n = t ? o[W] : o[H];
-                e = e.replace(n, le), r("hyphen replace", e), e = e.replace(o[q], "$1$2$3"), r("comparator trim", e, o[q]), e = (e = (e = e.replace(o[O], "$1~")).replace(o[z], "$1^")).split(/\s+/).join(" ");
-                var i = t ? o[j] : o[B],
+                var n = t ? u[V] : u[W];
+                e = e.replace(n, ce), r("hyphen replace", e), e = e.replace(u[H], "$1$2$3"), r("comparator trim", e, u[H]), e = (e = (e = e.replace(u[P], "$1~")).replace(u[I], "$1^")).split(/\s+/).join(" ");
+                var i = t ? u[U] : u[q],
                     a = e.split(" ").map((function(e) {
                         return function(e, t) {
                             return r("comp", e, t), e = function(e, t) {
                                 return e.trim().split(/\s+/).map((function(e) {
                                     return function(e, t) {
                                         r("caret", e, t);
-                                        var n = t.loose ? o[U] : o[I];
+                                        var n = t.loose ? u[B] : u[j];
                                         return e.replace(n, (function(t, n, i, a, o) {
                                             var u;
-                                            return r("caret", e, t, n, i, a, o), se(n) ? u = "" : se(i) ? u = ">=" + n + ".0.0 <" + (+n + 1) + ".0.0" : se(a) ? u = "0" === n ? ">=" + n + "." + i + ".0 <" + n + "." + (+i + 1) + ".0" : ">=" + n + "." + i + ".0 <" + (+n + 1) + ".0.0" : o ? (r("replaceCaret pr", o), u = "0" === n ? "0" === i ? ">=" + n + "." + i + "." + a + "-" + o + " <" + n + "." + i + "." + (+a + 1) : ">=" + n + "." + i + "." + a + "-" + o + " <" + n + "." + (+i + 1) + ".0" : ">=" + n + "." + i + "." + a + "-" + o + " <" + (+n + 1) + ".0.0") : (r("no pr"), u = "0" === n ? "0" === i ? ">=" + n + "." + i + "." + a + " <" + n + "." + i + "." + (+a + 1) : ">=" + n + "." + i + "." + a + " <" + n + "." + (+i + 1) + ".0" : ">=" + n + "." + i + "." + a + " <" + (+n + 1) + ".0.0"), r("caret return", u), u
+                                            return r("caret", e, t, n, i, a, o), le(n) ? u = "" : le(i) ? u = ">=" + n + ".0.0 <" + (+n + 1) + ".0.0" : le(a) ? u = "0" === n ? ">=" + n + "." + i + ".0 <" + n + "." + (+i + 1) + ".0" : ">=" + n + "." + i + ".0 <" + (+n + 1) + ".0.0" : o ? (r("replaceCaret pr", o), u = "0" === n ? "0" === i ? ">=" + n + "." + i + "." + a + "-" + o + " <" + n + "." + i + "." + (+a + 1) : ">=" + n + "." + i + "." + a + "-" + o + " <" + n + "." + (+i + 1) + ".0" : ">=" + n + "." + i + "." + a + "-" + o + " <" + (+n + 1) + ".0.0") : (r("no pr"), u = "0" === n ? "0" === i ? ">=" + n + "." + i + "." + a + " <" + n + "." + i + "." + (+a + 1) : ">=" + n + "." + i + "." + a + " <" + n + "." + (+i + 1) + ".0" : ">=" + n + "." + i + "." + a + " <" + (+n + 1) + ".0.0"), r("caret return", u), u
                                         }))
                                     }(e, t)
                                 })).join(" ")
                             }(e, t), r("caret", e), e = function(e, t) {
                                 return e.trim().split(/\s+/).map((function(e) {
                                     return function(e, t) {
-                                        var n = t.loose ? o[R] : o[P];
+                                        var n = t.loose ? u[L] : u[R];
                                         return e.replace(n, (function(t, n, i, a, o) {
                                             var u;
-                                            return r("tilde", e, t, n, i, a, o), se(n) ? u = "" : se(i) ? u = ">=" + n + ".0.0 <" + (+n + 1) + ".0.0" : se(a) ? u = ">=" + n + "." + i + ".0 <" + n + "." + (+i + 1) + ".0" : o ? (r("replaceTilde pr", o), u = ">=" + n + "." + i + "." + a + "-" + o + " <" + n + "." + (+i + 1) + ".0") : u = ">=" + n + "." + i + "." + a + " <" + n + "." + (+i + 1) + ".0", r("tilde return", u), u
+                                            return r("tilde", e, t, n, i, a, o), le(n) ? u = "" : le(i) ? u = ">=" + n + ".0.0 <" + (+n + 1) + ".0.0" : le(a) ? u = ">=" + n + "." + i + ".0 <" + n + "." + (+i + 1) + ".0" : o ? (r("replaceTilde pr", o), u = ">=" + n + "." + i + "." + a + "-" + o + " <" + n + "." + (+i + 1) + ".0") : u = ">=" + n + "." + i + "." + a + " <" + n + "." + (+i + 1) + ".0", r("tilde return", u), u
                                         }))
                                     }(e, t)
                                 })).join(" ")
                             }(e, t), r("tildes", e), e = function(e, t) {
                                 return r("replaceXRanges", e, t), e.split(/\s+/).map((function(e) {
                                     return function(e, t) {
                                         e = e.trim();
-                                        var n = t.loose ? o[F] : o[C];
+                                        var n = t.loose ? u[N] : u[F];
                                         return e.replace(n, (function(t, n, i, a, o, u) {
                                             r("xRange", e, t, n, i, a, o, u);
-                                            var s = se(i),
-                                                l = s || se(a),
-                                                c = l || se(o);
+                                            var s = le(i),
+                                                l = s || le(a),
+                                                c = l || le(o);
                                             return "=" === n && c && (n = ""), s ? t = ">" === n || "<" === n ? "<0.0.0" : "*" : n && c ? (l && (a = 0), o = 0, ">" === n ? (n = ">=", l ? (i = +i + 1, a = 0, o = 0) : (a = +a + 1, o = 0)) : "<=" === n && (n = "<", l ? i = +i + 1 : a = +a + 1), t = n + i + "." + a + "." + o) : l ? t = ">=" + i + ".0.0 <" + (+i + 1) + ".0.0" : c && (t = ">=" + i + "." + a + ".0 <" + i + "." + (+a + 1) + ".0"), r("xRange return", t), t
                                         }))
                                     }(e, t)
                                 })).join(" ")
                             }(e, t), r("xrange", e), e = function(e, t) {
-                                return r("replaceStars", e, t), e.trim().replace(o[Y], "")
+                                return r("replaceStars", e, t), e.trim().replace(u[G], "")
                             }(e, t), r("stars", e), e
                         }(e, this.options)
                     }), this).join(" ").split(/\s+/);
                 return this.options.loose && (a = a.filter((function(e) {
                     return !!e.match(i)
                 }))), a.map((function(e) {
-                    return new ae(e, this.options)
+                    return new oe(e, this.options)
                 }), this)
-            }, ue.prototype.intersects = function(e, t) {
-                if (!(e instanceof ue)) throw new TypeError("a Range is required");
+            }, se.prototype.intersects = function(e, t) {
+                if (!(e instanceof se)) throw new TypeError("a Range is required");
                 return this.set.some((function(n) {
                     return n.every((function(n) {
                         return e.set.some((function(e) {
                             return e.every((function(e) {
                                 return n.intersects(e, t)
                             }))
                         }))
                     }))
                 }))
             }, t.toComparators = function(e, t) {
-                return new ue(e, t).set.map((function(e) {
+                return new se(e, t).set.map((function(e) {
                     return e.map((function(e) {
                         return e.value
                     })).join(" ").trim().split(" ")
                 }))
-            }, ue.prototype.test = function(e) {
+            }, se.prototype.test = function(e) {
                 if (!e) return !1;
-                "string" == typeof e && (e = new X(e, this.options));
+                "string" == typeof e && (e = new $(e, this.options));
                 for (var t = 0; t < this.set.length; t++)
-                    if (ce(this.set[t], e, this.options)) return !0;
+                    if (fe(this.set[t], e, this.options)) return !0;
                 return !1
-            }, t.satisfies = fe, t.maxSatisfying = function(e, t, n) {
+            }, t.satisfies = de, t.maxSatisfying = function(e, t, n) {
                 var r = null,
                     i = null;
                 try {
-                    var a = new ue(t, n)
+                    var a = new se(t, n)
                 } catch (e) {
                     return null
                 }
                 return e.forEach((function(e) {
-                    a.test(e) && (r && -1 !== i.compare(e) || (i = new X(r = e, n)))
+                    a.test(e) && (r && -1 !== i.compare(e) || (i = new $(r = e, n)))
                 })), r
             }, t.minSatisfying = function(e, t, n) {
                 var r = null,
                     i = null;
                 try {
-                    var a = new ue(t, n)
+                    var a = new se(t, n)
                 } catch (e) {
                     return null
                 }
                 return e.forEach((function(e) {
-                    a.test(e) && (r && 1 !== i.compare(e) || (i = new X(r = e, n)))
+                    a.test(e) && (r && 1 !== i.compare(e) || (i = new $(r = e, n)))
                 })), r
             }, t.minVersion = function(e, t) {
-                e = new ue(e, t);
-                var n = new X("0.0.0");
+                e = new se(e, t);
+                var n = new $("0.0.0");
                 if (e.test(n)) return n;
-                if (n = new X("0.0.0-0"), e.test(n)) return n;
+                if (n = new $("0.0.0-0"), e.test(n)) return n;
                 n = null;
                 for (var r = 0; r < e.set.length; ++r) e.set[r].forEach((function(e) {
-                    var t = new X(e.semver.version);
+                    var t = new $(e.semver.version);
                     switch (e.operator) {
                         case ">":
                             0 === t.prerelease.length ? t.patch++ : t.prerelease.push(0), t.raw = t.format();
                         case "":
                         case ">=":
-                            n && !Q(n, t) || (n = t);
+                            n && !Z(n, t) || (n = t);
                             break;
                         case "<":
                         case "<=":
                             break;
                         default:
                             throw new Error("Unexpected operation: " + e.operator)
                     }
                 }));
                 return n && e.test(n) ? n : null
             }, t.validRange = function(e, t) {
                 try {
-                    return new ue(e, t).range || "*"
+                    return new se(e, t).range || "*"
                 } catch (e) {
                     return null
                 }
             }, t.ltr = function(e, t, n) {
-                return de(e, t, "<", n)
+                return he(e, t, "<", n)
             }, t.gtr = function(e, t, n) {
-                return de(e, t, ">", n)
-            }, t.outside = de, t.prerelease = function(e, t) {
-                var n = G(e, t);
+                return he(e, t, ">", n)
+            }, t.outside = he, t.prerelease = function(e, t) {
+                var n = X(e, t);
                 return n && n.prerelease.length ? n.prerelease : null
             }, t.intersects = function(e, t, n) {
-                return e = new ue(e, n), t = new ue(t, n), e.intersects(t)
+                return e = new se(e, n), t = new se(t, n), e.intersects(t)
             }, t.coerce = function(e) {
-                if (e instanceof X) return e;
+                if (e instanceof $) return e;
                 if ("string" != typeof e) return null;
-                var t = e.match(o[N]);
-                return null == t ? null : G(t[1] + "." + (t[2] || "0") + "." + (t[3] || "0"))
+                var t = e.match(u[O]);
+                return null == t ? null : X(t[1] + "." + (t[2] || "0") + "." + (t[3] || "0"))
             }
         },
         5796: (e, t, n) => {
             "use strict";
             n.r(t), n.d(t, {
-                selector: () => u
+                selector: () => m
             });
-            const r = /[[\]{}]/,
-                i = {
+            const r = "view",
+                i = "[",
+                a = "]",
+                o = "{",
+                u = "}",
+                s = ":",
+                l = ",",
+                c = "@",
+                f = ">",
+                d = /[[\]{}]/,
+                h = {
                     "*": 1,
                     arc: 1,
                     area: 1,
                     group: 1,
                     image: 1,
                     line: 1,
                     path: 1,
                     rect: 1,
                     rule: 1,
                     shape: 1,
                     symbol: 1,
                     text: 1,
                     trail: 1
                 };
-            let a, o;
+            let p, g;
 
-            function u(e, t, n) {
-                return a = t || "view", o = n || i, l(e.trim()).map(c)
+            function m(e, t, n) {
+                return p = t || r, g = n || h, y(e.trim()).map(b)
             }
 
-            function s(e, t, n, r, i) {
+            function v(e, t, n, r, i) {
                 const a = e.length;
                 let o, u = 0;
                 for (; t < a; ++t) {
                     if (o = e[t], !u && o === n) return t;
                     i && i.indexOf(o) >= 0 ? --u : r && r.indexOf(o) >= 0 && ++u
                 }
                 return t
             }
 
-            function l(e) {
+            function y(e) {
                 const t = [],
                     n = e.length;
                 let r = 0,
-                    i = 0;
-                for (; i < n;) i = s(e, i, ",", "[{", "]}"), t.push(e.substring(r, i).trim()), r = ++i;
+                    s = 0;
+                for (; s < n;) s = v(e, s, l, i + o, a + u), t.push(e.substring(r, s).trim()), r = ++s;
                 if (0 === t.length) throw "Empty event selector: " + e;
                 return t
             }
 
-            function c(e) {
+            function b(e) {
                 return "[" === e[0] ? function(e) {
                     const t = e.length;
                     let n, r = 1;
-                    if (r = s(e, r, "]", "[", "]"), r === t) throw "Empty between selector: " + e;
-                    if (n = l(e.substring(1, r)), 2 !== n.length) throw "Between selector must have two elements: " + e;
-                    if (">" !== (e = e.slice(r + 1).trim())[0]) throw "Expected '>' after between selector: " + e;
-                    n = n.map(c);
-                    const i = c(e.slice(1).trim());
-                    return i.between ? {
+                    if (r = v(e, r, a, i, a), r === t) throw "Empty between selector: " + e;
+                    if (n = y(e.substring(1, r)), 2 !== n.length) throw "Between selector must have two elements: " + e;
+                    if ((e = e.slice(r + 1).trim())[0] !== f) throw "Expected '>' after between selector: " + e;
+                    n = n.map(b);
+                    const o = b(e.slice(1).trim());
+                    return o.between ? {
                         between: n,
-                        stream: i
-                    } : (i.between = n, i)
+                        stream: o
+                    } : (o.between = n, o)
                 }(e) : function(e) {
                     const t = {
-                            source: a
+                            source: p
                         },
                         n = [];
-                    let i, u, l = [0, 0],
-                        c = 0,
-                        f = 0,
-                        d = e.length,
-                        h = 0;
-                    if ("}" === e[d - 1]) {
-                        if (h = e.lastIndexOf("{"), !(h >= 0)) throw "Unmatched right brace: " + e;
+                    let r, f, h = [0, 0],
+                        m = 0,
+                        y = 0,
+                        b = e.length,
+                        _ = 0;
+                    if (e[b - 1] === u) {
+                        if (_ = e.lastIndexOf(o), !(_ >= 0)) throw "Unmatched right brace: " + e;
                         try {
-                            l = function(e) {
-                                const t = e.split(",");
+                            h = function(e) {
+                                const t = e.split(l);
                                 if (!e.length || t.length > 2) throw e;
                                 return t.map((t => {
                                     const n = +t;
                                     if (n != n) throw e;
                                     return n
                                 }))
-                            }(e.substring(h + 1, d - 1))
+                            }(e.substring(_ + 1, b - 1))
                         } catch (t) {
                             throw "Invalid throttle specification: " + e
                         }
-                        d = (e = e.slice(0, h).trim()).length, h = 0
+                        b = (e = e.slice(0, _).trim()).length, _ = 0
                     }
-                    if (!d) throw e;
-                    if ("@" === e[0] && (c = ++h), i = s(e, h, ":"), i < d && (n.push(e.substring(f, i).trim()), f = h = ++i), h = s(e, h, "["), h === d) n.push(e.substring(f, d).trim());
-                    else if (n.push(e.substring(f, h).trim()), u = [], f = ++h, f === d) throw "Unmatched left bracket: " + e;
-                    for (; h < d;) {
-                        if (h = s(e, h, "]"), h === d) throw "Unmatched left bracket: " + e;
-                        if (u.push(e.substring(f, h).trim()), h < d - 1 && "[" !== e[++h]) throw "Expected left bracket: " + e;
-                        f = ++h
-                    }
-                    if (!(d = n.length) || r.test(n[d - 1])) throw "Invalid event selector: " + e;
-                    var p;
-                    return d > 1 ? (t.type = n[1], c ? t.markname = n[0].slice(1) : (p = n[0], o[p] ? t.marktype = n[0] : t.source = n[0])) : t.type = n[0], "!" === t.type.slice(-1) && (t.consume = !0, t.type = t.type.slice(0, -1)), null != u && (t.filter = u), l[0] && (t.throttle = l[0]), l[1] && (t.debounce = l[1]), t
+                    if (!b) throw e;
+                    if (e[0] === c && (m = ++_), r = v(e, _, s), r < b && (n.push(e.substring(y, r).trim()), y = _ = ++r), _ = v(e, _, i), _ === b) n.push(e.substring(y, b).trim());
+                    else if (n.push(e.substring(y, _).trim()), f = [], y = ++_, y === b) throw "Unmatched left bracket: " + e;
+                    for (; _ < b;) {
+                        if (_ = v(e, _, a), _ === b) throw "Unmatched left bracket: " + e;
+                        if (f.push(e.substring(y, _).trim()), _ < b - 1 && e[++_] !== i) throw "Expected left bracket: " + e;
+                        y = ++_
+                    }
+                    if (!(b = n.length) || d.test(n[b - 1])) throw "Invalid event selector: " + e;
+                    var x;
+                    return b > 1 ? (t.type = n[1], m ? t.markname = n[0].slice(1) : (x = n[0], g[x] ? t.marktype = n[0] : t.source = n[0])) : t.type = n[0], "!" === t.type.slice(-1) && (t.consume = !0, t.type = t.type.slice(0, -1)), null != f && (t.filter = f), h[0] && (t.throttle = h[0]), h[1] && (t.debounce = h[1]), t
                 }(e)
             }
         },
         427: (e, t, n) => {
             "use strict";
             Object.defineProperty(t, "__esModule", {
                 value: !0
@@ -26055,15 +26356,15 @@
                         for (var b = 0, x = u.keys(y.producedFields()); b < x.length; b++) m = x[b], n.set(m, "derived", !1)
                     } else if (o.isLookup(i))
                         for (var S = e = w.LookupNode.make(e, t, i, r++), M = 0, D = u.keys(S.producedFields()); M < D.length; M++) m = D[M], n.set(m, "derived", !1);
                     else if (o.isWindow(i))
                         for (var C = e = new k.WindowTransformNode(e, i), F = 0, N = u.keys(C.producedFields()); F < N.length; F++) m = N[F], n.set(m, "derived", !1);
                     else {
                         if (!o.isStack(i)) return void a.warn(a.message.invalidTransformIgnored(i));
-                        for (var T = e = E.StackNode.makeFromTransform(e, i), O = 0, P = u.keys(T.producedFields()); O < P.length; O++) m = P[O], n.set(m, "derived", !1)
+                        for (var O = e = E.StackNode.makeFromTransform(e, i), T = 0, P = u.keys(O.producedFields()); T < P.length; T++) m = P[T], n.set(m, "derived", !1)
                     }
                 })), e
             }
             t.parseTransformArray = M, t.parseData = function(e) {
                 var t = function(e, t) {
                         if (e.data || !e.parent) {
                             var n = new S.SourceNode(e.data),
@@ -26085,25 +26386,25 @@
                     var C = c.AggregateNode.makeFromEncoding(t, e);
                     C && (t = C, l.requiresSelectionId(e) && (t = new _.IdentifierNode(t))), t = E.StackNode.makeFromEncoding(t, e) || t
                 }
                 s.isUnitModel(e) && (t = m.FilterInvalidNode.make(t, e) || t);
                 var F = e.getName(i.MAIN),
                     N = new h.OutputNode(t, F, i.MAIN, o);
                 a[F] = N, t = N;
-                var T = null;
+                var O = null;
                 if (s.isFacetModel(e)) {
-                    var O = e.getName("facet");
-                    t = d.CalculateNode.parseAllForSortIndex(t, e), t = k.WindowTransformNode.makeFromFacet(t, e.facet) || t, T = new p.FacetNode(t, e, O, N.getSource()), a[O] = T, t = T
+                    var T = e.getName("facet");
+                    t = d.CalculateNode.parseAllForSortIndex(t, e), t = k.WindowTransformNode.makeFromFacet(t, e.facet) || t, O = new p.FacetNode(t, e, T, N.getSource()), a[T] = O, t = O
                 }
                 return r.__assign({}, e.component.data, {
                     outputNodes: a,
                     outputNodeRefCounts: o,
                     raw: D,
                     main: N,
-                    facetRoot: T,
+                    facetRoot: O,
                     ancestorParse: u
                 })
             }
         },
         3860: (e, t, n) => {
             "use strict";
             Object.defineProperty(t, "__esModule", {
@@ -27868,24 +28169,25 @@
                     }));
                     return (s = {})[n] = h.concat(void 0 !== f ? [f] : []), s
                 }
                 return void 0 !== f ? ((l = {})[n] = f, l) : {}
             }
 
             function y(e) {
-                var t = e.encoding.tooltip;
-                return i.isArray(t) ? {
+                var t = "tooltip",
+                    n = e.encoding[t];
+                return i.isArray(n) ? {
                     tooltip: {
-                        signal: "{" + t.map((function(t) {
+                        signal: "{" + n.map((function(t) {
                             return '"' + (void 0 !== t.title ? t.title : a.vgField(t, {
                                 binSuffix: "range"
                             })) + '": ' + h.text(t, e.config).signal
                         })).join(", ") + "}"
                     }
-                } : _(e, "tooltip", t)
+                } : _(e, t, n)
             }
 
             function b(e, t) {
                 return void 0 === t && (t = "text"), _(e, t, e.encoding[t])
             }
 
             function _(e, t, n) {
@@ -32813,18 +33115,15 @@
                 return e.filter((function(e) {
                     return !u(t, e)
                 }))
             }
 
             function l(e) {
                 for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
-                for (var r = 0, i = t; r < i.length; r++) {
-                    var a = i[r];
-                    e = c(e, a)
-                }
+                for (var r = 0, i = t; r < i.length; r++) e = c(e, i[r]);
                 return e
             }
 
             function c(e, t) {
                 if ("object" != typeof t || null === t) return e;
                 for (var n in t) t.hasOwnProperty(n) && void 0 !== t[n] && ("object" != typeof t[n] || a.isArray(t[n]) || null === t[n] ? e[n] = t[n] : "object" != typeof e[n] || null === e[n] ? e[n] = l(a.isArray(t[n].constructor) ? [] : {}, t[n]) : l(e[n], t[n]));
                 return e
@@ -33015,37 +33314,37 @@
                 tooltip: 1,
                 cornerRadius: 1
             })
         },
         7882: (e, t, n) => {
             "use strict";
             n.r(t), n.d(t, {
-                __extends: () => i,
                 __assign: () => a,
-                __rest: () => o,
-                __decorate: () => u,
-                __param: () => s,
-                __metadata: () => l,
+                __asyncDelegator: () => _,
+                __asyncGenerator: () => b,
+                __asyncValues: () => x,
+                __await: () => y,
                 __awaiter: () => c,
-                __generator: () => f,
+                __classPrivateFieldGet: () => A,
+                __classPrivateFieldSet: () => k,
                 __createBinding: () => d,
+                __decorate: () => u,
                 __exportStar: () => h,
-                __values: () => p,
+                __extends: () => i,
+                __generator: () => f,
+                __importDefault: () => E,
+                __importStar: () => S,
+                __makeTemplateObject: () => w,
+                __metadata: () => l,
+                __param: () => s,
                 __read: () => g,
+                __rest: () => o,
                 __spread: () => m,
                 __spreadArrays: () => v,
-                __await: () => y,
-                __asyncGenerator: () => b,
-                __asyncDelegator: () => _,
-                __asyncValues: () => x,
-                __makeTemplateObject: () => w,
-                __importStar: () => S,
-                __importDefault: () => E,
-                __classPrivateFieldGet: () => A,
-                __classPrivateFieldSet: () => k
+                __values: () => p
             });
             var r = function(e, t) {
                 return r = Object.setPrototypeOf || {
                     __proto__: []
                 }
                 instanceof Array && function(e, t) {
                     e.__proto__ = t
@@ -33408,74 +33707,74 @@
                 Info: () => w,
                 None: () => b,
                 Warn: () => x,
                 accessor: () => r,
                 accessorFields: () => a,
                 accessorName: () => i,
                 array: () => K,
-                ascending: () => ee,
+                ascending: () => te,
                 clampRange: () => J,
-                compare: () => Z,
-                constant: () => ie,
-                debounce: () => ae,
+                compare: () => ee,
+                constant: () => ae,
+                debounce: () => oe,
                 error: () => l,
-                extend: () => oe,
-                extent: () => ue,
-                extentIndex: () => se,
+                extend: () => ue,
+                extent: () => se,
+                extentIndex: () => le,
                 falsy: () => v,
-                fastmap: () => de,
+                fastmap: () => he,
                 field: () => f,
-                flush: () => he,
-                hasOwnProperty: () => ce,
+                flush: () => pe,
+                hasOwnProperty: () => fe,
                 id: () => d,
                 identity: () => h,
-                inherits: () => pe,
-                inrange: () => ge,
+                inherits: () => ge,
+                inrange: () => me,
                 isArray: () => A,
-                isBoolean: () => me,
-                isDate: () => ve,
+                isBoolean: () => ve,
+                isDate: () => ye,
                 isFunction: () => Q,
-                isIterable: () => ye,
-                isNumber: () => be,
+                isIterable: () => be,
+                isNumber: () => _e,
                 isObject: () => k,
-                isRegExp: () => _e,
-                isString: () => xe,
-                key: () => we,
-                lerp: () => Se,
+                isRegExp: () => xe,
+                isString: () => we,
+                key: () => Se,
+                lerp: () => Ee,
                 logger: () => E,
-                lruCache: () => Ee,
-                merge: () => Ae,
+                lruCache: () => ke,
+                merge: () => Me,
                 mergeConfig: () => D,
                 one: () => g,
-                pad: () => Me,
-                panLinear: () => U,
-                panLog: () => j,
-                panPow: () => B,
+                pad: () => Ce,
+                panLinear: () => j,
+                panLog: () => B,
+                panPow: () => U,
                 panSymlog: () => q,
                 peek: () => N,
                 quarter: () => X,
-                repeat: () => ke,
-                span: () => De,
+                repeat: () => De,
+                span: () => Fe,
                 splitAccessPath: () => c,
-                stringValue: () => Ce,
-                toBoolean: () => Fe,
-                toDate: () => Te,
-                toNumber: () => T,
-                toSet: () => Pe,
-                toString: () => Oe,
-                truncate: () => Re,
+                stringValue: () => Ne,
+                toBoolean: () => Oe,
+                toDate: () => Pe,
+                toNumber: () => O,
+                toSet: () => Le,
+                toString: () => Re,
+                truncate: () => ze,
                 truthy: () => m,
                 utcquarter: () => $,
-                visitArray: () => Le,
+                visitArray: () => Ie,
                 writeConfig: () => C,
                 zero: () => p,
                 zoomLinear: () => W,
-                zoomLog: () => Y,
-                zoomPow: () => V,
-                zoomSymlog: () => G
+                zoomLog: () => V,
+                zoomPow: () => G,
+                zoomSymlog: () => Y
             });
             const u = e => function(t) {
                     return t[e]
                 },
                 s = e => {
                     const t = e.length;
                     return function(n) {
@@ -33588,40 +33887,40 @@
                 return t.forEach(i), e.forEach(i), r
             }
 
             function N(e) {
                 return e[e.length - 1]
             }
 
-            function T(e) {
+            function O(e) {
                 return null == e || "" === e ? null : +e
             }
-            const O = e => t => e * Math.exp(t),
+            const T = e => t => e * Math.exp(t),
                 P = e => t => Math.log(e * t),
                 R = e => t => Math.sign(t) * Math.log1p(Math.abs(t / e)),
                 L = e => t => Math.sign(t) * Math.expm1(Math.abs(t)) * e,
                 z = e => t => t < 0 ? -Math.pow(-t, e) : Math.pow(t, e);
 
             function I(e, t, n, r) {
                 const i = n(e[0]),
                     a = n(N(e)),
                     o = (a - i) * t;
                 return [r(i - o), r(a - o)]
             }
 
-            function U(e, t) {
-                return I(e, t, T, h)
+            function j(e, t) {
+                return I(e, t, O, h)
             }
 
-            function j(e, t) {
+            function B(e, t) {
                 var n = Math.sign(e[0]);
-                return I(e, t, P(n), O(n))
+                return I(e, t, P(n), T(n))
             }
 
-            function B(e, t, n) {
+            function U(e, t, n) {
                 return I(e, t, z(n), z(1 / n))
             }
 
             function q(e, t, n) {
                 return I(e, t, R(n), L(n))
             }
 
@@ -33629,27 +33928,27 @@
                 const a = r(e[0]),
                     o = r(N(e)),
                     u = null != t ? r(t) : (a + o) / 2;
                 return [i(u + (a - u) * n), i(u + (o - u) * n)]
             }
 
             function W(e, t, n) {
-                return H(e, t, n, T, h)
+                return H(e, t, n, O, h)
             }
 
-            function Y(e, t, n) {
+            function V(e, t, n) {
                 const r = Math.sign(e[0]);
-                return H(e, t, n, P(r), O(r))
+                return H(e, t, n, P(r), T(r))
             }
 
-            function V(e, t, n, r) {
+            function G(e, t, n, r) {
                 return H(e, t, n, z(r), z(1 / r))
             }
 
-            function G(e, t, n, r) {
+            function Y(e, t, n, r) {
                 return H(e, t, n, R(r), L(r))
             }
 
             function X(e) {
                 return 1 + ~~(new Date(e).getMonth() / 3)
             }
 
@@ -33666,67 +33965,68 @@
                     a = e[1];
                 return a < i && (r = a, a = i, i = r), r = a - i, r >= n - t ? [t, n] : [i = Math.min(Math.max(i, t), n - r), i + r]
             }
 
             function Q(e) {
                 return "function" == typeof e
             }
+            const Z = "descending";
 
-            function Z(e, t, n) {
+            function ee(e, t, n) {
                 n = n || {}, t = K(t) || [];
                 const i = [],
                     o = [],
                     u = {},
-                    s = n.comparator || te;
+                    s = n.comparator || ne;
                 return K(e).forEach(((e, r) => {
-                    null != e && (i.push("descending" === t[r] ? -1 : 1), o.push(e = Q(e) ? e : f(e, null, n)), (a(e) || []).forEach((e => u[e] = 1)))
+                    null != e && (i.push(t[r] === Z ? -1 : 1), o.push(e = Q(e) ? e : f(e, null, n)), (a(e) || []).forEach((e => u[e] = 1)))
                 })), 0 === o.length ? null : r(s(o, i), Object.keys(u))
             }
-            const ee = (e, t) => (e < t || null == e) && null != t ? -1 : (e > t || null == t) && null != e ? 1 : (t = t instanceof Date ? +t : t, (e = e instanceof Date ? +e : e) !== e && t == t ? -1 : t != t && e == e ? 1 : 0),
-                te = (e, t) => 1 === e.length ? ne(e[0], t[0]) : re(e, t, e.length),
-                ne = (e, t) => function(n, r) {
-                    return ee(e(n), e(r)) * t
+            const te = (e, t) => (e < t || null == e) && null != t ? -1 : (e > t || null == t) && null != e ? 1 : (t = t instanceof Date ? +t : t, (e = e instanceof Date ? +e : e) !== e && t == t ? -1 : t != t && e == e ? 1 : 0),
+                ne = (e, t) => 1 === e.length ? re(e[0], t[0]) : ie(e, t, e.length),
+                re = (e, t) => function(n, r) {
+                    return te(e(n), e(r)) * t
                 },
-                re = (e, t, n) => (t.push(0), function(r, i) {
+                ie = (e, t, n) => (t.push(0), function(r, i) {
                     let a, o = 0,
                         u = -1;
-                    for (; 0 === o && ++u < n;) a = e[u], o = ee(a(r), a(i));
+                    for (; 0 === o && ++u < n;) a = e[u], o = te(a(r), a(i));
                     return o * t[u]
                 });
 
-            function ie(e) {
+            function ae(e) {
                 return Q(e) ? e : () => e
             }
 
-            function ae(e, t) {
+            function oe(e, t) {
                 let n;
                 return r => {
                     n && clearTimeout(n), n = setTimeout((() => (t(r), n = null)), e)
                 }
             }
 
-            function oe(e) {
+            function ue(e) {
                 for (let t, n, r = 1, i = arguments.length; r < i; ++r)
                     for (n in t = arguments[r], t) e[n] = t[n];
                 return e
             }
 
-            function ue(e, t) {
+            function se(e, t) {
                 let n, r, i, a, o = 0;
                 if (e && (n = e.length))
                     if (null == t) {
                         for (r = e[o]; o < n && (null == r || r != r); r = e[++o]);
                         for (i = a = r; o < n; ++o) r = e[o], null != r && (r < i && (i = r), r > a && (a = r))
                     } else {
                         for (r = t(e[o]); o < n && (null == r || r != r); r = t(e[++o]));
                         for (i = a = r; o < n; ++o) r = t(e[o]), null != r && (r < i && (i = r), r > a && (a = r))
                     } return [i, a]
             }
 
-            function se(e, t) {
+            function le(e, t) {
                 const n = e.length;
                 let r, i, a, o, u, s = -1;
                 if (null == t) {
                     for (; ++s < n;)
                         if (i = e[s], null != i && i >= i) {
                             r = a = i;
                             break
@@ -33738,111 +34038,111 @@
                             r = a = i;
                             break
                         } if (s === n) return [-1, -1];
                     for (o = u = s; ++s < n;) i = t(e[s], s, e), null != i && (r > i && (r = i, o = s), a < i && (a = i, u = s))
                 }
                 return [o, u]
             }
-            const le = Object.prototype.hasOwnProperty;
+            const ce = Object.prototype.hasOwnProperty;
 
-            function ce(e, t) {
-                return le.call(e, t)
+            function fe(e, t) {
+                return ce.call(e, t)
             }
-            const fe = {};
+            const de = {};
 
-            function de(e) {
+            function he(e) {
                 let t, n = {};
 
                 function r(e) {
-                    return ce(n, e) && n[e] !== fe
+                    return fe(n, e) && n[e] !== de
                 }
                 const i = {
                     size: 0,
                     empty: 0,
                     object: n,
                     has: r,
                     get: e => r(e) ? n[e] : void 0,
                     set(e, t) {
-                        return r(e) || (++i.size, n[e] === fe && --i.empty), n[e] = t, this
+                        return r(e) || (++i.size, n[e] === de && --i.empty), n[e] = t, this
                     },
                     delete(e) {
-                        return r(e) && (--i.size, ++i.empty, n[e] = fe), this
+                        return r(e) && (--i.size, ++i.empty, n[e] = de), this
                     },
                     clear() {
                         i.size = i.empty = 0, i.object = n = {}
                     },
                     test(e) {
                         return arguments.length ? (t = e, i) : t
                     },
                     clean() {
                         const e = {};
                         let r = 0;
                         for (const i in n) {
                             const a = n[i];
-                            a === fe || t && t(a) || (e[i] = a, ++r)
+                            a === de || t && t(a) || (e[i] = a, ++r)
                         }
                         i.size = r, i.empty = 0, i.object = n = e
                     }
                 };
                 return e && Object.keys(e).forEach((t => {
                     i.set(t, e[t])
                 })), i
             }
 
-            function he(e, t, n, r, i, a) {
+            function pe(e, t, n, r, i, a) {
                 if (!n && 0 !== n) return a;
                 const o = +n;
                 let u, s = e[0],
                     l = N(e);
                 l < s && (u = s, s = l, l = u), u = Math.abs(t - s);
                 const c = Math.abs(l - t);
                 return u < c && u <= o ? r : c <= o ? i : a
             }
 
-            function pe(e, t, n) {
+            function ge(e, t, n) {
                 const r = e.prototype = Object.create(t.prototype);
                 return Object.defineProperty(r, "constructor", {
                     value: e,
                     writable: !0,
                     enumerable: !0,
                     configurable: !0
-                }), oe(r, n)
+                }), ue(r, n)
             }
 
-            function ge(e, t, n, r) {
+            function me(e, t, n, r) {
                 let i, a = t[0],
                     o = t[t.length - 1];
                 return a > o && (i = a, a = o, o = i), r = void 0 === r || r, ((n = void 0 === n || n) ? a <= e : a < e) && (r ? e <= o : e < o)
             }
 
-            function me(e) {
+            function ve(e) {
                 return "boolean" == typeof e
             }
 
-            function ve(e) {
+            function ye(e) {
                 return "[object Date]" === Object.prototype.toString.call(e)
             }
 
-            function ye(e) {
+            function be(e) {
                 return e && Q(e[Symbol.iterator])
             }
 
-            function be(e) {
+            function _e(e) {
                 return "number" == typeof e
             }
 
-            function _e(e) {
+            function xe(e) {
                 return "[object RegExp]" === Object.prototype.toString.call(e)
             }
 
-            function xe(e) {
+            function we(e) {
                 return "string" == typeof e
             }
 
-            function we(e, t, n) {
+            function Se(e, t, n) {
                 e && (e = t ? K(e).map((e => e.replace(/\\(.)/g, "$1"))) : K(e));
                 const i = e && e.length,
                     a = n && n.get || o,
                     u = e => a(t ? [e] : c(e));
                 let s;
                 if (i)
                     if (1 === i) {
@@ -33861,101 +34161,102 @@
                     }
                 else s = function() {
                     return ""
                 };
                 return r(s, e, "key")
             }
 
-            function Se(e, t) {
+            function Ee(e, t) {
                 const n = e[0],
                     r = N(e),
                     i = +t;
                 return i ? 1 === i ? r : n + i * (r - n) : n
             }
+            const Ae = 1e4;
 
-            function Ee(e) {
+            function ke(e) {
                 let t, n, r;
-                e = +e || 1e4;
+                e = +e || Ae;
                 const i = () => {
                         t = {}, n = {}, r = 0
                     },
                     a = (i, a) => (++r > e && (n = t, t = {}, r = 1), t[i] = a);
                 return i(), {
                     clear: i,
-                    has: e => ce(t, e) || ce(n, e),
-                    get: e => ce(t, e) ? t[e] : ce(n, e) ? a(e, n[e]) : void 0,
-                    set: (e, n) => ce(t, e) ? t[e] = n : a(e, n)
+                    has: e => fe(t, e) || fe(n, e),
+                    get: e => fe(t, e) ? t[e] : fe(n, e) ? a(e, n[e]) : void 0,
+                    set: (e, n) => fe(t, e) ? t[e] = n : a(e, n)
                 }
             }
 
-            function Ae(e, t, n, r) {
+            function Me(e, t, n, r) {
                 const i = t.length,
                     a = n.length;
                 if (!a) return t;
                 if (!i) return n;
                 const o = r || new t.constructor(i + a);
                 let u = 0,
                     s = 0,
                     l = 0;
                 for (; u < i && s < a; ++l) o[l] = e(t[u], n[s]) > 0 ? n[s++] : t[u++];
                 for (; u < i; ++u, ++l) o[l] = t[u];
                 for (; s < a; ++s, ++l) o[l] = n[s];
                 return o
             }
 
-            function ke(e, t) {
+            function De(e, t) {
                 let n = "";
                 for (; --t >= 0;) n += e;
                 return n
             }
 
-            function Me(e, t, n, r) {
+            function Ce(e, t, n, r) {
                 const i = n || " ",
                     a = e + "",
                     o = t - a.length;
-                return o <= 0 ? a : "left" === r ? ke(i, o) + a : "center" === r ? ke(i, ~~(o / 2)) + a + ke(i, Math.ceil(o / 2)) : a + ke(i, o)
+                return o <= 0 ? a : "left" === r ? De(i, o) + a : "center" === r ? De(i, ~~(o / 2)) + a + De(i, Math.ceil(o / 2)) : a + De(i, o)
             }
 
-            function De(e) {
+            function Fe(e) {
                 return e && N(e) - e[0] || 0
             }
 
-            function Ce(e) {
-                return A(e) ? "[" + e.map(Ce) + "]" : k(e) || xe(e) ? JSON.stringify(e).replace("\u2028", "\\u2028").replace("\u2029", "\\u2029") : e
+            function Ne(e) {
+                return A(e) ? "[" + e.map(Ne) + "]" : k(e) || we(e) ? JSON.stringify(e).replace("\u2028", "\\u2028").replace("\u2029", "\\u2029") : e
             }
 
-            function Fe(e) {
+            function Oe(e) {
                 return null == e || "" === e ? null : !(!e || "false" === e || "0" === e || !e)
             }
-            const Ne = e => be(e) || ve(e) ? e : Date.parse(e);
+            const Te = e => _e(e) || ye(e) ? e : Date.parse(e);
 
-            function Te(e, t) {
-                return t = t || Ne, null == e || "" === e ? null : t(e)
+            function Pe(e, t) {
+                return t = t || Te, null == e || "" === e ? null : t(e)
             }
 
-            function Oe(e) {
+            function Re(e) {
                 return null == e || "" === e ? null : e + ""
             }
 
-            function Pe(e) {
+            function Le(e) {
                 const t = {},
                     n = e.length;
                 for (let r = 0; r < n; ++r) t[e[r]] = !0;
                 return t
             }
 
-            function Re(e, t, n, r) {
+            function ze(e, t, n, r) {
                 const i = null != r ? r : "…",
                     a = e + "",
                     o = a.length,
                     u = Math.max(0, t - i.length);
                 return o <= t ? a : "left" === n ? i + a.slice(o - u) : "center" === n ? a.slice(0, Math.ceil(u / 2)) + i + a.slice(o - ~~(u / 2)) : a.slice(0, u) + i
             }
 
-            function Le(e, t, n) {
+            function Ie(e, t, n) {
                 if (e)
                     if (t) {
                         const r = e.length;
                         for (let i = 0; i < r; ++i) {
                             const r = t(e[i]);
                             r && n(r, i, e)
                         }
```

### Comparing `jupyterlab-vega3-3.2.0/jupyterlab-vega3/labextension/static/503.12538c63304bdf2e6d13.js.LICENSE.txt` & `jupyterlab_vega3-3.3.0/jupyterlab_vega3/labextension/static/72.7a3f283ffd842e9b9289.js.LICENSE.txt`

 * *Files identical despite different names*

### Comparing `jupyterlab-vega3-3.2.0/jupyterlab-vega3/labextension/static/remoteEntry.3b62de5f781cfc2599da.js` & `jupyterlab_vega3-3.3.0/jupyterlab_vega3/labextension/static/remoteEntry.a502c21424f3610e2657.js`

 * *Files 13% similar despite different names*

#### js-beautify {}

```diff
@@ -1,12 +1,12 @@
 var _JUPYTERLAB;
 (() => {
     "use strict";
-    var e, r, t, n, o, a, i, u, l, s, f, d, c, p, h, v, g, b, m = {
-            3111: (e, r, t) => {
+    var e, r, t, n, o, a, i, u, l, s, f, d, c, p, h, v, b, g, m = {
+            6461: (e, r, t) => {
                 var n = {
                         "./index": () => t.e(568).then((() => () => t(1568))),
                         "./mimeExtension": () => t.e(568).then((() => () => t(1568))),
                         "./style": () => t.e(643).then((() => () => t(6643)))
                     },
                     o = (e, r) => (t.R = r, r = t.o(n, e) ? n[e]() : Promise.resolve().then((() => {
                         throw new Error('Module "' + e + '" does not exist in container.')
@@ -30,36 +30,36 @@
     function w(e) {
         var r = y[e];
         if (void 0 !== r) return r.exports;
         var t = y[e] = {
             id: e,
             exports: {}
         };
-        return m[e].call(t.exports, t, t.exports, w), t.exports
+        return m[e](t, t.exports, w), t.exports
     }
     w.m = m, w.c = y, w.n = e => {
         var r = e && e.__esModule ? () => e.default : () => e;
         return w.d(r, {
             a: r
         }), r
     }, w.d = (e, r) => {
         for (var t in r) w.o(r, t) && !w.o(e, t) && Object.defineProperty(e, t, {
             enumerable: !0,
             get: r[t]
         })
     }, w.f = {}, w.e = e => Promise.all(Object.keys(w.f).reduce(((r, t) => (w.f[t](e, r), r)), [])), w.u = e => e + "." + {
         45: "9a59d4b302094f275e9f",
-        503: "12538c63304bdf2e6d13",
-        568: "1419b1ca6d286e975150",
-        643: "2e625e7b5b712f674a7f"
+        72: "7a3f283ffd842e9b9289",
+        568: "d77addb1f5a8d99f6e42",
+        643: "b29fe3063574dc8d1af5"
     } [e] + ".js?v=" + {
         45: "9a59d4b302094f275e9f",
-        503: "12538c63304bdf2e6d13",
-        568: "1419b1ca6d286e975150",
-        643: "2e625e7b5b712f674a7f"
+        72: "7a3f283ffd842e9b9289",
+        568: "d77addb1f5a8d99f6e42",
+        643: "b29fe3063574dc8d1af5"
     } [e], w.g = function() {
         if ("object" == typeof globalThis) return globalThis;
         try {
             return this || new Function("return this")()
         } catch (e) {
             if ("object" == typeof window) return window
         }
@@ -111,15 +111,15 @@
                         (!u || !u.loaded && (!n != !u.eager ? n : i > u.from)) && (o[r] = {
                             get: t,
                             from: i,
                             eager: !!n
                         })
                     },
                     l = [];
-                return "default" === t && (u("@jupyterlab/vega3-extension", "3.2.0", (() => w.e(568).then((() => () => w(1568))))), u("vega-embed", "3.9.2", (() => Promise.all([w.e(503), w.e(45)]).then((() => () => w(1503)))))), e[t] = l.length ? Promise.all(l).then((() => e[t] = 1)) : 1
+                return "default" === t && (u("@jupyterlab/vega3-extension", "3.3.0", (() => w.e(568).then((() => () => w(1568))))), u("vega-embed", "3.9.2", (() => Promise.all([w.e(72), w.e(45)]).then((() => () => w(2072)))))), e[t] = l.length ? Promise.all(l).then((() => e[t] = 1)) : 1
             }
         }
     })(), (() => {
         var e;
         w.g.importScripts && (e = w.g.location + "");
         var r = w.g.document;
         if (!e && r && (r.currentScript && (e = r.currentScript.src), !e)) {
@@ -215,34 +215,34 @@
         return (r = Object.keys(o).reduce(((e, r) => !a(t, r) || e && !n(e, r) ? e : r), 0)) && o[r]
     }, d = e => (e.loaded = 1, e.get()), p = (c = e => function(r, t, n, o) {
         var a = w.I(r);
         return a && a.then ? a.then(e.bind(e, r, w.S[r], t, n, o)) : e(r, w.S[r], t, n, o)
     })(((e, r, t, n) => (i(e, t), s(r, 0, t, n)))), h = c(((e, r, t, n, o) => {
         var a = r && w.o(r, t) && f(r, t, n);
         return a ? d(a) : o()
-    })), v = {}, g = {
-        3706: () => p("default", "@lumino/widgets", [1, 1, 19, 0]),
-        9386: () => h("default", "vega-embed", [4, 3, 9, 2], (() => Promise.all([w.e(503), w.e(45)]).then((() => () => w(1503)))))
-    }, b = {
-        568: [3706, 9386]
+    })), v = {}, b = {
+        8778: () => p("default", "@lumino/widgets", [1, 2, 0, 1]),
+        9386: () => h("default", "vega-embed", [4, 3, 9, 2], (() => Promise.all([w.e(72), w.e(45)]).then((() => () => w(2072)))))
+    }, g = {
+        568: [8778, 9386]
     }, w.f.consumes = (e, r) => {
-        w.o(b, e) && b[e].forEach((e => {
+        w.o(g, e) && g[e].forEach((e => {
             if (w.o(v, e)) return r.push(v[e]);
             var t = r => {
                     v[e] = 0, w.m[e] = t => {
                         delete w.c[e], t.exports = r()
                     }
                 },
                 n = r => {
                     delete v[e], w.m[e] = t => {
                         throw delete w.c[e], r
                     }
                 };
             try {
-                var o = g[e]();
+                var o = b[e]();
                 o.then ? r.push(v[e] = o.then(t).catch(n)) : t(o)
             } catch (e) {
                 n(e)
             }
         }))
     }, (() => {
         var e = {
@@ -273,11 +273,11 @@
                     for (n in i) w.o(i, n) && (w.m[n] = i[n]);
                     u && u(w)
                 }
                 for (r && r(t); l < a.length; l++) o = a[l], w.o(e, o) && e[o] && e[o][0](), e[o] = 0
             },
             t = self.webpackChunk_jupyterlab_vega3_extension = self.webpackChunk_jupyterlab_vega3_extension || [];
         t.forEach(r.bind(null, 0)), t.push = r.bind(null, t.push.bind(t))
-    })();
-    var S = w(3111);
+    })(), w.nc = void 0;
+    var S = w(6461);
     (_JUPYTERLAB = void 0 === _JUPYTERLAB ? {} : _JUPYTERLAB)["@jupyterlab/vega3-extension"] = S
 })();
```

### Comparing `jupyterlab-vega3-3.2.0/jupyterlab-vega3/labextension/static/third-party-licenses.json` & `jupyterlab_vega3-3.3.0/jupyterlab_vega3/labextension/static/third-party-licenses.json`

 * *Files 0% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.996875%*

 * *Differences: {"'packages'": "{0: {'versionInfo': '6.7.3'}, 29: {'versionInfo': '3.3.2'}, 31: {'versionInfo': "*

 * *               "'2.5.0'}}"}*

```diff
@@ -1,14 +1,14 @@
 {
     "packages": [
         {
             "extractedText": "Copyright JS Foundation and other contributors\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n'Software'), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n",
             "licenseId": "MIT",
             "name": "css-loader",
-            "versionInfo": "5.2.7"
+            "versionInfo": "6.7.3"
         },
         {
             "extractedText": "Copyright 2010-2020 Mike Bostock\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without modification,\nare permitted provided that the following conditions are met:\n\n* Redistributions of source code must retain the above copyright notice, this\n  list of conditions and the following disclaimer.\n\n* Redistributions in binary form must reproduce the above copyright notice,\n  this list of conditions and the following disclaimer in the documentation\n  and/or other materials provided with the distribution.\n\n* Neither the name of the author nor the names of contributors may be used to\n  endorse or promote products derived from this software without specific prior\n  written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\nANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\nANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n",
             "licenseId": "BSD-3-Clause",
             "name": "d3-array",
             "versionInfo": "2.12.1"
         },
@@ -174,27 +174,27 @@
             "name": "semver",
             "versionInfo": "5.7.1"
         },
         {
             "extractedText": "Copyright JS Foundation and other contributors\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n'Software'), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n",
             "licenseId": "MIT",
             "name": "style-loader",
-            "versionInfo": "2.0.0"
+            "versionInfo": "3.3.2"
         },
         {
             "extractedText": "Copyright 2012-2019 Michael Bostock\n\nPermission to use, copy, modify, and/or distribute this software for any purpose\nwith or without fee is hereby granted, provided that the above copyright notice\nand this permission notice appear in all copies.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\nFITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\nOF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\nTORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\nTHIS SOFTWARE.\n",
             "licenseId": "ISC",
             "name": "topojson-client",
             "versionInfo": "3.1.0"
         },
         {
             "extractedText": "Copyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.",
             "licenseId": "0BSD",
             "name": "tslib",
-            "versionInfo": "1.13.0"
+            "versionInfo": "2.5.0"
         },
         {
             "extractedText": "Copyright (c) 2015-2018, University of Washington Interactive Data Lab\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n\n1. Redistributions of source code must retain the above copyright notice, this\n   list of conditions and the following disclaimer.\n\n2. Redistributions in binary form must reproduce the above copyright notice,\n   this list of conditions and the following disclaimer in the documentation\n   and/or other materials provided with the distribution.\n\n3. Neither the name of the copyright holder nor the names of its contributors\n  may be used to endorse or promote products derived from this software\n  without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\nAND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\nIMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE\nFOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\nDAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\nSERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\nCAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\nOR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n",
             "licenseId": "BSD-3-Clause",
             "name": "vega-canvas",
             "versionInfo": "1.2.6"
         },
```

### Comparing `jupyterlab-vega3-3.2.0/src/index.ts` & `jupyterlab_vega3-3.3.0/src/index.ts`

 * *Files 3% similar despite different names*

```diff
@@ -7,16 +7,14 @@
 
 import { Widget } from '@lumino/widgets';
 
 import { IRenderMime } from '@jupyterlab/rendermime-interfaces';
 
 import vegaEmbed, { Mode, vega, EmbedOptions } from 'vega-embed';
 
-import '../style/index.css';
-
 /**
  * The CSS class to add to the Vega and Vega-Lite widget.
  */
 const VEGA_COMMON_CLASS = 'jp-RenderedVegaCommon3';
 
 /**
  * The CSS class to add to the Vega.
@@ -50,15 +48,15 @@
 export class RenderedVega3 extends Widget implements IRenderMime.IRenderer {
   /**
    * Create a new widget for rendering Vega/Vega-Lite.
    */
   constructor(options: IRenderMime.IRendererOptions) {
     super();
     this._mimeType = options.mimeType;
-    this._resolver = options.resolver;
+    this._resolver = options.resolver!;
     this.addClass(VEGA_COMMON_CLASS);
     this.addClass(
       this._mimeType === VEGA_MIME_TYPE ? VEGA_CLASS : VEGALITE_CLASS
     );
   }
 
   /**
@@ -69,34 +67,34 @@
     const metadata = model.metadata[this._mimeType] as {
       embed_options?: EmbedOptions;
     };
     const embedOptions =
       metadata && metadata.embed_options ? metadata.embed_options : {};
     const mode: Mode = this._mimeType === VEGA_MIME_TYPE ? 'vega' : 'vega-lite';
     return this._resolver.resolveUrl('').then((path: string) => {
-      return this._resolver.getDownloadUrl(path).then((baseURL) => {
+      return this._resolver.getDownloadUrl(path).then(baseURL => {
         const loader = vega.loader({
-          baseURL,
+          baseURL
         });
         const options: EmbedOptions = {
           actions: true,
           ...embedOptions,
           mode,
-          loader,
+          loader
         };
         const el = document.createElement('div');
         this.node.innerHTML = ''; // clear the output before attaching a chart
         this.node.appendChild(el);
-        return vegaEmbed(el, data, options).then((result) => {
+        return vegaEmbed(el, data, options).then(result => {
           // Add png representation of vega chart to output
           if (!model.data['image/png']) {
-            return result.view.toImageURL('png').then((imageData) => {
+            return result.view.toImageURL('png').then(imageData => {
               const data = {
                 ...model.data,
-                'image/png': imageData.split(',')[1],
+                'image/png': imageData.split(',')[1]
               };
               model.setData({ data });
             });
           }
           return void 0;
         });
       });
@@ -109,46 +107,46 @@
 
 /**
  * A mime renderer factory for vega data.
  */
 export const rendererFactory: IRenderMime.IRendererFactory = {
   safe: true,
   mimeTypes: [VEGA_MIME_TYPE, VEGALITE_MIME_TYPE],
-  createRenderer: (options) => new RenderedVega3(options),
+  createRenderer: options => new RenderedVega3(options)
 };
 
 const extension: IRenderMime.IExtension = {
   id: '@jupyterlab/vega3-extension:factory',
   rendererFactory,
   rank: 59, // prefer over vega 2 extension
   dataType: 'json',
   documentWidgetFactoryOptions: [
     {
       name: 'Vega 3',
       primaryFileType: 'vega3',
       fileTypes: ['vega3', 'json'],
-      defaultFor: ['vega3'],
+      defaultFor: ['vega3']
     },
     {
       name: 'Vega-Lite 2',
       primaryFileType: 'vega-lite2',
       fileTypes: ['vega-lite2', 'json'],
-      defaultFor: ['vega-lite2'],
-    },
+      defaultFor: ['vega-lite2']
+    }
   ],
   fileTypes: [
     {
       mimeTypes: [VEGA_MIME_TYPE],
       name: 'vega3',
       extensions: ['.vg', '.vg.json', '.vega'],
-      iconClass: 'jp-MaterialIcon jp-VegaIcon',
+      iconClass: 'jp-MaterialIcon jp-VegaIcon'
     },
     {
       mimeTypes: [VEGALITE_MIME_TYPE],
       name: 'vega-lite2',
       extensions: ['.vl', '.vl.json', '.vegalite'],
-      iconClass: 'jp-MaterialIcon jp-VegaIcon',
-    },
-  ],
+      iconClass: 'jp-MaterialIcon jp-VegaIcon'
+    }
+  ]
 };
 
 export default extension;
```

### Comparing `jupyterlab-vega3-3.2.0/tsconfig.json` & `jupyterlab_vega3-3.3.0/tsconfig.json`

 * *Files 20% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.83125%*

 * *Differences: {"'compilerOptions'": "{'module': 'esnext', 'noImplicitAny': True, 'strictNullChecks': True, "*

 * *                      "'target': 'ES2018', 'types': ['jest'], 'strict': True}",*

 * * "'include'": '{delete: [1]}'}*

```diff
@@ -2,26 +2,28 @@
     "compilerOptions": {
         "allowSyntheticDefaultImports": true,
         "composite": true,
         "declaration": true,
         "esModuleInterop": true,
         "incremental": true,
         "jsx": "react",
-        "module": "commonjs",
+        "module": "esnext",
         "moduleResolution": "node",
         "noEmitOnError": true,
-        "noImplicitAny": false,
+        "noImplicitAny": true,
         "noUnusedLocals": true,
         "outDir": "lib",
         "preserveWatchOutput": true,
         "resolveJsonModule": true,
         "rootDir": "src",
         "skipLibCheck": true,
-        "strictNullChecks": false,
-        "target": "es2017",
-        "types": []
+        "strict": true,
+        "strictNullChecks": true,
+        "target": "ES2018",
+        "types": [
+            "jest"
+        ]
     },
     "include": [
-        "src/*",
-        "typings/*.d.ts"
+        "src/*"
     ]
 }
```

